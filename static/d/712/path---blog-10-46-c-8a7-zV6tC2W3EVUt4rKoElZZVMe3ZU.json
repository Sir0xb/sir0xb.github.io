{"pageContext":{"group":[{"node":{"id":"b50e030a-a4e7-5024-aedf-4a0287542862","html":"<p>打开 <code>jscharts.js</code> 查找如下代码：</p>\n<pre class=\"editor editor-colors\"><div class=\"line\"><span class=\"source js\"><span>gx</span><span class=\"keyword operator assignment js\"><span>=</span></span><span class=\"variable other object js\"><span>gf</span></span><span class=\"meta method-call js\"><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"entity name function js\"><span>gg</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span>\\</span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&#39;</span></span><span>5X</span><span class=\"constant character escape js\"><span>\\&#39;</span></span><span class=\"invalid illegal string js\"><span>+1a.ev)</span></span></span></span></span></span></div></pre>\n<p>替换成</p>\n<pre class=\"editor editor-colors\"><div class=\"line\"><span class=\"source js\"><span>gx</span><span class=\"keyword operator assignment js\"><span>=</span></span><span class=\"string quoted double js\"><span class=\"punctuation definition string begin js\"><span>&quot;</span></span><span>&lt;</span><span class=\"punctuation definition string end js\"><span>&quot;</span></span></span></span></div></pre>\n<hr>","frontmatter":{"path":"/UUmXBsQEAWFkXbGOVi80GRm9","title":"JSChart3去除左上角Logo","date":"2012-04-20 10:45:41 +0800","comments":true,"categories":"programming","author":"Sir0xb","tags":["jschart"]},"excerpt":"打开  jscharts.js  查找如下代码： 替换成"}},{"node":{"id":"a9acfdee-4d27-5008-877a-5f219b5237cc","html":"<h3>JsonGenerator 生成 JSON</h3>\n<pre class=\"editor editor-colors\"><div class=\"line\"><span class=\"source java\"><span class=\"meta declaration annotation java\"><span class=\"storage type annotation java\"><span>@RequestMapping</span></span><span class=\"punctuation definition annotation-arguments begin java\"><span>(</span></span><span class=\"constant other key java\"><span>value</span></span><span>&nbsp;</span><span class=\"keyword operator assignment java\"><span>=</span></span><span>&nbsp;</span><span class=\"string quoted double java\"><span class=\"punctuation definition string begin java\"><span>&quot;</span></span><span>/json.sir</span><span class=\"punctuation definition string end java\"><span>&quot;</span></span></span><span class=\"punctuation definition annotation-arguments end java\"><span>)</span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"storage modifier java\"><span>public</span></span><span>&nbsp;</span><span class=\"storage type primitive array java\"><span>void</span></span><span>&nbsp;</span><span class=\"meta method-call java\"><span class=\"meta method java\"><span>returnJson</span></span><span class=\"punctuation definition method-parameters begin java\"><span>(</span></span><span class=\"storage type java\"><span>HttpServletRequest</span></span><span>&nbsp;request</span><span class=\"punctuation definition seperator parameter java\"><span>,</span></span><span class=\"storage type java\"><span>HttpServletResponse</span></span><span>&nbsp;response</span><span class=\"punctuation definition method-parameters end java\"><span>)</span></span></span><span>&nbsp;throws&nbsp;</span><span class=\"storage type java\"><span>IOException</span></span><span>&nbsp;</span><span class=\"punctuation section block begin java\"><span>{</span></span></span></div><div class=\"line\"><span class=\"source java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"storage type java\"><span>String</span></span><span>&nbsp;username&nbsp;</span><span class=\"keyword operator assignment java\"><span>=</span></span><span>&nbsp;request</span><span class=\"keyword operator dereference java\"><span>.</span></span><span class=\"meta method-call java\"><span class=\"meta method java\"><span>getParameter</span></span><span class=\"punctuation definition method-parameters begin java\"><span>(</span></span><span class=\"string quoted double java\"><span class=\"punctuation definition string begin java\"><span>&quot;</span></span><span>username</span><span class=\"punctuation definition string end java\"><span>&quot;</span></span></span><span class=\"punctuation definition method-parameters end java\"><span>)</span></span></span><span class=\"punctuation terminator java\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"storage type java\"><span>String</span></span><span>&nbsp;userpass&nbsp;</span><span class=\"keyword operator assignment java\"><span>=</span></span><span>&nbsp;request</span><span class=\"keyword operator dereference java\"><span>.</span></span><span class=\"meta method-call java\"><span class=\"meta method java\"><span>getParameter</span></span><span class=\"punctuation definition method-parameters begin java\"><span>(</span></span><span class=\"string quoted double java\"><span class=\"punctuation definition string begin java\"><span>&quot;</span></span><span>userpass</span><span class=\"punctuation definition string end java\"><span>&quot;</span></span></span><span class=\"punctuation definition method-parameters end java\"><span>)</span></span></span><span class=\"punctuation terminator java\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source java\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"source java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"storage type java\"><span>Writer</span></span><span>&nbsp;out&nbsp;</span><span class=\"keyword operator assignment java\"><span>=</span></span><span>response</span><span class=\"keyword operator dereference java\"><span>.</span></span><span class=\"meta method-call java\"><span class=\"meta method java\"><span>getWriter</span></span><span class=\"punctuation definition method-parameters begin java\"><span>(</span></span><span class=\"punctuation definition method-parameters end java\"><span>)</span></span></span><span class=\"punctuation terminator java\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"storage type java\"><span>ObjectMapper</span></span><span>&nbsp;objectMapper&nbsp;</span><span class=\"keyword operator assignment java\"><span>=</span></span><span>&nbsp;</span><span class=\"keyword control new java\"><span>new</span></span><span>&nbsp;</span><span class=\"storage type java\"><span>ObjectMapper</span></span><span>(</span><span>)</span><span class=\"punctuation terminator java\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"storage type java\"><span>JsonGenerator</span></span><span>&nbsp;jsonGenerator&nbsp;</span><span class=\"keyword operator assignment java\"><span>=</span></span><span>&nbsp;objectMapper</span><span class=\"keyword operator dereference java\"><span>.</span></span><span class=\"meta method-call java\"><span class=\"meta method java\"><span>getJsonFactory</span></span><span class=\"punctuation definition method-parameters begin java\"><span>(</span></span><span class=\"punctuation definition method-parameters end java\"><span>)</span></span></span><span class=\"keyword operator dereference java\"><span>.</span></span><span class=\"meta method-call java\"><span class=\"meta method java\"><span>createJsonGenerator</span></span><span class=\"punctuation definition method-parameters begin java\"><span>(</span></span><span>out</span><span class=\"punctuation definition method-parameters end java\"><span>)</span></span></span><span class=\"punctuation terminator java\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source java\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"source java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;jsonGenerator</span><span class=\"keyword operator dereference java\"><span>.</span></span><span class=\"meta method-call java\"><span class=\"meta method java\"><span>writeStartObject</span></span><span class=\"punctuation definition method-parameters begin java\"><span>(</span></span><span class=\"punctuation definition method-parameters end java\"><span>)</span></span></span><span class=\"punctuation terminator java\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;jsonGenerator</span><span class=\"keyword operator dereference java\"><span>.</span></span><span class=\"meta method-call java\"><span class=\"meta method java\"><span>writeBooleanField</span></span><span class=\"punctuation definition method-parameters begin java\"><span>(</span></span><span class=\"string quoted double java\"><span class=\"punctuation definition string begin java\"><span>&quot;</span></span><span>success</span><span class=\"punctuation definition string end java\"><span>&quot;</span></span></span><span class=\"punctuation definition seperator parameter java\"><span>,</span></span><span>&nbsp;</span><span class=\"constant language java\"><span>true</span></span><span class=\"punctuation definition method-parameters end java\"><span>)</span></span></span><span class=\"punctuation terminator java\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;jsonGenerator</span><span class=\"keyword operator dereference java\"><span>.</span></span><span class=\"meta method-call java\"><span class=\"meta method java\"><span>writeStringField</span></span><span class=\"punctuation definition method-parameters begin java\"><span>(</span></span><span class=\"string quoted double java\"><span class=\"punctuation definition string begin java\"><span>&quot;</span></span><span>username</span><span class=\"punctuation definition string end java\"><span>&quot;</span></span></span><span class=\"punctuation definition seperator parameter java\"><span>,</span></span><span>&nbsp;username</span><span class=\"punctuation definition method-parameters end java\"><span>)</span></span></span><span class=\"punctuation terminator java\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;jsonGenerator</span><span class=\"keyword operator dereference java\"><span>.</span></span><span class=\"meta method-call java\"><span class=\"meta method java\"><span>writeStringField</span></span><span class=\"punctuation definition method-parameters begin java\"><span>(</span></span><span class=\"string quoted double java\"><span class=\"punctuation definition string begin java\"><span>&quot;</span></span><span>userpass</span><span class=\"punctuation definition string end java\"><span>&quot;</span></span></span><span class=\"punctuation definition seperator parameter java\"><span>,</span></span><span>&nbsp;userpass</span><span class=\"punctuation definition method-parameters end java\"><span>)</span></span></span><span class=\"punctuation terminator java\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;jsonGenerator</span><span class=\"keyword operator dereference java\"><span>.</span></span><span class=\"meta method-call java\"><span class=\"meta method java\"><span>writeEndObject</span></span><span class=\"punctuation definition method-parameters begin java\"><span>(</span></span><span class=\"punctuation definition method-parameters end java\"><span>)</span></span></span><span class=\"punctuation terminator java\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;jsonGenerator</span><span class=\"keyword operator dereference java\"><span>.</span></span><span class=\"meta method-call java\"><span class=\"meta method java\"><span>flush</span></span><span class=\"punctuation definition method-parameters begin java\"><span>(</span></span><span class=\"punctuation definition method-parameters end java\"><span>)</span></span></span><span class=\"punctuation terminator java\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source java\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"comment line double-slash java\"><span class=\"punctuation definition comment java\"><span>//</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;jsonGenerator.writeStartObject();</span><span>&nbsp;</span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"comment line double-slash java\"><span class=\"punctuation definition comment java\"><span>//</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;jsonGenerator.writeFieldName(&quot;callback&quot;);</span><span>&nbsp;</span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"comment line double-slash java\"><span class=\"punctuation definition comment java\"><span>//</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;jsonGenerator.writeStartArray();</span><span>&nbsp;</span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"comment line double-slash java\"><span class=\"punctuation definition comment java\"><span>//</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;jsonGenerator.writeStartObject();</span><span>&nbsp;</span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"comment line double-slash java\"><span class=\"punctuation definition comment java\"><span>//</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;jsonGenerator.writeBooleanField(&quot;success&quot;,&nbsp;true);</span><span>&nbsp;</span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"comment line double-slash java\"><span class=\"punctuation definition comment java\"><span>//</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;jsonGenerator.writeStringField(&quot;username&quot;,&nbsp;username);</span><span>&nbsp;</span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"comment line double-slash java\"><span class=\"punctuation definition comment java\"><span>//</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;jsonGenerator.writeStringField(&quot;userpass&quot;,&nbsp;userpass);</span><span>&nbsp;</span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"comment line double-slash java\"><span class=\"punctuation definition comment java\"><span>//</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;jsonGenerator.writeEndObject();</span><span>&nbsp;</span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"comment line double-slash java\"><span class=\"punctuation definition comment java\"><span>//</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;jsonGenerator.writeEndArray();</span><span>&nbsp;</span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"comment line double-slash java\"><span class=\"punctuation definition comment java\"><span>//</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;jsonGenerator.writeEndObject();</span><span>&nbsp;</span></span></span></div><div class=\"line\"><span class=\"source java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"punctuation section block end java\"><span>}</span></span></span></div></pre>\n<h2> </h2>\n<h3>JsonGenerator 生成 JSONP</h3>\n<pre class=\"editor editor-colors\"><div class=\"line\"><span class=\"source java\"><span class=\"meta declaration annotation java\"><span class=\"storage type annotation java\"><span>@RequestMapping</span></span><span class=\"punctuation definition annotation-arguments begin java\"><span>(</span></span><span class=\"constant other key java\"><span>value</span></span><span>&nbsp;</span><span class=\"keyword operator assignment java\"><span>=</span></span><span>&nbsp;</span><span class=\"string quoted double java\"><span class=\"punctuation definition string begin java\"><span>&quot;</span></span><span>jsonp.sir</span><span class=\"punctuation definition string end java\"><span>&quot;</span></span></span><span class=\"punctuation definition annotation-arguments end java\"><span>)</span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"storage modifier java\"><span>public</span></span><span>&nbsp;</span><span class=\"storage type primitive array java\"><span>void</span></span><span>&nbsp;</span><span class=\"meta method-call java\"><span class=\"meta method java\"><span>returnJsonp</span></span><span class=\"punctuation definition method-parameters begin java\"><span>(</span></span><span class=\"storage type java\"><span>HttpServletRequest</span></span><span>&nbsp;request</span><span class=\"punctuation definition seperator parameter java\"><span>,</span></span><span class=\"storage type java\"><span>HttpServletResponse</span></span><span>&nbsp;response</span><span class=\"punctuation definition method-parameters end java\"><span>)</span></span></span><span>&nbsp;throws&nbsp;</span><span class=\"storage type java\"><span>IOException</span></span><span>&nbsp;</span><span class=\"punctuation section block begin java\"><span>{</span></span></span></div><div class=\"line\"><span class=\"source java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"storage type java\"><span>String</span></span><span>&nbsp;username&nbsp;</span><span class=\"keyword operator assignment java\"><span>=</span></span><span>&nbsp;request</span><span class=\"keyword operator dereference java\"><span>.</span></span><span class=\"meta method-call java\"><span class=\"meta method java\"><span>getParameter</span></span><span class=\"punctuation definition method-parameters begin java\"><span>(</span></span><span class=\"string quoted double java\"><span class=\"punctuation definition string begin java\"><span>&quot;</span></span><span>username</span><span class=\"punctuation definition string end java\"><span>&quot;</span></span></span><span class=\"punctuation definition method-parameters end java\"><span>)</span></span></span><span class=\"punctuation terminator java\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"storage type java\"><span>String</span></span><span>&nbsp;userpass&nbsp;</span><span class=\"keyword operator assignment java\"><span>=</span></span><span>&nbsp;request</span><span class=\"keyword operator dereference java\"><span>.</span></span><span class=\"meta method-call java\"><span class=\"meta method java\"><span>getParameter</span></span><span class=\"punctuation definition method-parameters begin java\"><span>(</span></span><span class=\"string quoted double java\"><span class=\"punctuation definition string begin java\"><span>&quot;</span></span><span>userpass</span><span class=\"punctuation definition string end java\"><span>&quot;</span></span></span><span class=\"punctuation definition method-parameters end java\"><span>)</span></span></span><span class=\"punctuation terminator java\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"storage type java\"><span>String</span></span><span>&nbsp;callback&nbsp;</span><span class=\"keyword operator assignment java\"><span>=</span></span><span>&nbsp;request</span><span class=\"keyword operator dereference java\"><span>.</span></span><span class=\"meta method-call java\"><span class=\"meta method java\"><span>getParameter</span></span><span class=\"punctuation definition method-parameters begin java\"><span>(</span></span><span class=\"string quoted double java\"><span class=\"punctuation definition string begin java\"><span>&quot;</span></span><span>callback</span><span class=\"punctuation definition string end java\"><span>&quot;</span></span></span><span class=\"punctuation definition method-parameters end java\"><span>)</span></span></span><span class=\"punctuation terminator java\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source java\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"source java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"storage type java\"><span>Writer</span></span><span>&nbsp;sw&nbsp;</span><span class=\"keyword operator assignment java\"><span>=</span></span><span>&nbsp;</span><span class=\"keyword control new java\"><span>new</span></span><span>&nbsp;</span><span class=\"storage type java\"><span>StringWriter</span></span><span>(</span><span>)</span><span class=\"punctuation terminator java\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"storage type java\"><span>ObjectMapper</span></span><span>&nbsp;objectMapper&nbsp;</span><span class=\"keyword operator assignment java\"><span>=</span></span><span>&nbsp;</span><span class=\"keyword control new java\"><span>new</span></span><span>&nbsp;</span><span class=\"storage type java\"><span>ObjectMapper</span></span><span>(</span><span>)</span><span class=\"punctuation terminator java\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"storage type java\"><span>JsonGenerator</span></span><span>&nbsp;jsonGenerator&nbsp;</span><span class=\"keyword operator assignment java\"><span>=</span></span><span>&nbsp;objectMapper</span><span class=\"keyword operator dereference java\"><span>.</span></span><span class=\"meta method-call java\"><span class=\"meta method java\"><span>getJsonFactory</span></span><span class=\"punctuation definition method-parameters begin java\"><span>(</span></span><span class=\"punctuation definition method-parameters end java\"><span>)</span></span></span><span class=\"keyword operator dereference java\"><span>.</span></span><span class=\"meta method-call java\"><span class=\"meta method java\"><span>createJsonGenerator</span></span><span class=\"punctuation definition method-parameters begin java\"><span>(</span></span><span>sw</span><span class=\"punctuation definition method-parameters end java\"><span>)</span></span></span><span class=\"punctuation terminator java\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source java\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"source java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;sw</span><span class=\"keyword operator dereference java\"><span>.</span></span><span class=\"meta method-call java\"><span class=\"meta method java\"><span>write</span></span><span class=\"punctuation definition method-parameters begin java\"><span>(</span></span><span>callback&nbsp;</span><span class=\"keyword operator arithmetic java\"><span>+</span></span><span>&nbsp;</span><span class=\"string quoted double java\"><span class=\"punctuation definition string begin java\"><span>&quot;</span></span><span>(</span><span class=\"punctuation definition string end java\"><span>&quot;</span></span></span><span class=\"punctuation definition method-parameters end java\"><span>)</span></span></span><span class=\"punctuation terminator java\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;jsonGenerator</span><span class=\"keyword operator dereference java\"><span>.</span></span><span class=\"meta method-call java\"><span class=\"meta method java\"><span>writeStartObject</span></span><span class=\"punctuation definition method-parameters begin java\"><span>(</span></span><span class=\"punctuation definition method-parameters end java\"><span>)</span></span></span><span class=\"punctuation terminator java\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;jsonGenerator</span><span class=\"keyword operator dereference java\"><span>.</span></span><span class=\"meta method-call java\"><span class=\"meta method java\"><span>writeBooleanField</span></span><span class=\"punctuation definition method-parameters begin java\"><span>(</span></span><span class=\"string quoted double java\"><span class=\"punctuation definition string begin java\"><span>&quot;</span></span><span>success</span><span class=\"punctuation definition string end java\"><span>&quot;</span></span></span><span class=\"punctuation definition seperator parameter java\"><span>,</span></span><span>&nbsp;</span><span class=\"constant language java\"><span>true</span></span><span class=\"punctuation definition method-parameters end java\"><span>)</span></span></span><span class=\"punctuation terminator java\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;jsonGenerator</span><span class=\"keyword operator dereference java\"><span>.</span></span><span class=\"meta method-call java\"><span class=\"meta method java\"><span>writeStringField</span></span><span class=\"punctuation definition method-parameters begin java\"><span>(</span></span><span class=\"string quoted double java\"><span class=\"punctuation definition string begin java\"><span>&quot;</span></span><span>username</span><span class=\"punctuation definition string end java\"><span>&quot;</span></span></span><span class=\"punctuation definition seperator parameter java\"><span>,</span></span><span>&nbsp;username</span><span class=\"punctuation definition method-parameters end java\"><span>)</span></span></span><span class=\"punctuation terminator java\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;jsonGenerator</span><span class=\"keyword operator dereference java\"><span>.</span></span><span class=\"meta method-call java\"><span class=\"meta method java\"><span>writeStringField</span></span><span class=\"punctuation definition method-parameters begin java\"><span>(</span></span><span class=\"string quoted double java\"><span class=\"punctuation definition string begin java\"><span>&quot;</span></span><span>userpass</span><span class=\"punctuation definition string end java\"><span>&quot;</span></span></span><span class=\"punctuation definition seperator parameter java\"><span>,</span></span><span>&nbsp;userpass</span><span class=\"punctuation definition method-parameters end java\"><span>)</span></span></span><span class=\"punctuation terminator java\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;jsonGenerator</span><span class=\"keyword operator dereference java\"><span>.</span></span><span class=\"meta method-call java\"><span class=\"meta method java\"><span>writeEndObject</span></span><span class=\"punctuation definition method-parameters begin java\"><span>(</span></span><span class=\"punctuation definition method-parameters end java\"><span>)</span></span></span><span class=\"punctuation terminator java\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;jsonGenerator</span><span class=\"keyword operator dereference java\"><span>.</span></span><span class=\"meta method-call java\"><span class=\"meta method java\"><span>flush</span></span><span class=\"punctuation definition method-parameters begin java\"><span>(</span></span><span class=\"punctuation definition method-parameters end java\"><span>)</span></span></span><span class=\"punctuation terminator java\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;sw</span><span class=\"keyword operator dereference java\"><span>.</span></span><span class=\"meta method-call java\"><span class=\"meta method java\"><span>write</span></span><span class=\"punctuation definition method-parameters begin java\"><span>(</span></span><span class=\"string quoted double java\"><span class=\"punctuation definition string begin java\"><span>&quot;</span></span><span>)</span><span class=\"punctuation definition string end java\"><span>&quot;</span></span></span><span class=\"punctuation definition method-parameters end java\"><span>)</span></span></span><span class=\"punctuation terminator java\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;sw</span><span class=\"keyword operator dereference java\"><span>.</span></span><span class=\"meta method-call java\"><span class=\"meta method java\"><span>close</span></span><span class=\"punctuation definition method-parameters begin java\"><span>(</span></span><span class=\"punctuation definition method-parameters end java\"><span>)</span></span></span><span class=\"punctuation terminator java\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source java\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"source java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"storage type java\"><span>Writer</span></span><span>&nbsp;out&nbsp;</span><span class=\"keyword operator assignment java\"><span>=</span></span><span>response</span><span class=\"keyword operator dereference java\"><span>.</span></span><span class=\"meta method-call java\"><span class=\"meta method java\"><span>getWriter</span></span><span class=\"punctuation definition method-parameters begin java\"><span>(</span></span><span class=\"punctuation definition method-parameters end java\"><span>)</span></span></span><span class=\"punctuation terminator java\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;out</span><span class=\"keyword operator dereference java\"><span>.</span></span><span class=\"meta method-call java\"><span class=\"meta method java\"><span>write</span></span><span class=\"punctuation definition method-parameters begin java\"><span>(</span></span><span>sw</span><span class=\"keyword operator dereference java\"><span>.</span></span><span class=\"meta method-call java\"><span class=\"meta method java\"><span>toString</span></span><span class=\"punctuation definition method-parameters begin java\"><span>(</span></span><span class=\"punctuation definition method-parameters end java\"><span>)</span></span></span><span class=\"punctuation definition method-parameters end java\"><span>)</span></span></span><span class=\"punctuation terminator java\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"punctuation section block end java\"><span>}</span></span></span></div></pre>\n<hr>","frontmatter":{"path":"/Nd2DjOLMAKQSKVmu4LnXCHBS","title":"JsonGenerator 使用","date":"2012-02-28 14:10:22 +0800","comments":true,"categories":"programming","author":"Sir0xb","tags":["java","jsongenerator"]},"excerpt":"JsonGenerator 生成 JSON   JsonGenerator 生成 JSONP"}},{"node":{"id":"38e5ad7b-d02b-59a4-ae34-bcd84300224c","html":"<p>简单地理解就是因为javascript同源策略的限制。</p>\n<p>详细说明看下表：</p>\n<table>\n<thead>\n<tr>\n<th>URL</th>\n<th>说明</th>\n<th>是否允许通信</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><a href=\"http://www.kuqin.com/lab/a.js\">http://www.kuqin.com/lab/a.js</a> <br> <a href=\"http://www.kuqin.com/script/b.js\">http://www.kuqin.com/script/b.js</a></td>\n<td>同一域名下不同文件夹</td>\n<td>允许</td>\n</tr>\n<tr>\n<td><a href=\"http://www.kuqin.com/a.js\">http://www.kuqin.com/a.js</a> <br> <a href=\"http://www.kuqin.com/b.js\">http://www.kuqin.com/b.js</a></td>\n<td>同一域名下</td>\n<td>允许</td>\n</tr>\n<tr>\n<td><a href=\"http://www.kuqin.com:8000/a.js\">http://www.kuqin.com:8000/a.js</a> <br> <a href=\"http://www.kuqin.com/b.js\">http://www.kuqin.com/b.js</a></td>\n<td>同一域名，不同端口</td>\n<td>不允许</td>\n</tr>\n<tr>\n<td><a href=\"http://www.kuqin.com/a.js\">http://www.kuqin.com/a.js</a> <br> <a href=\"https://www.kuqin.com/b.js\">https://www.kuqin.com/b.js</a></td>\n<td>同一域名，不同协议</td>\n<td>不允许</td>\n</tr>\n<tr>\n<td><a href=\"http://www.kuqin.com/a.js\">http://www.kuqin.com/a.js</a> <br> <a href=\"http://70.32.92.74/b.js\">http://70.32.92.74/b.js</a></td>\n<td>域名和域名对应ip</td>\n<td>不允许</td>\n</tr>\n<tr>\n<td><a href=\"http://www.kuqin.com/a.js\">http://www.kuqin.com/a.js</a> <br> <a href=\"http://script.kuqin.com/b.js\">http://script.kuqin.com/b.js</a></td>\n<td>主域相同，子域不同</td>\n<td>不允许</td>\n</tr>\n<tr>\n<td><a href=\"http://www.ithao123.com/a.js\">http://www.ithao123.com/a.js</a> <br> <a href=\"http://www.kuqin.com/b.js\">http://www.kuqin.com/b.js</a></td>\n<td>不同域名</td>\n<td>不允许</td>\n</tr>\n</tbody>\n</table>\n<hr>","frontmatter":{"path":"/srK7SOMCHy32J5FGAPPYRv5q","title":"什么是JS跨域","date":"2012-02-25 08:47:20 +0800","comments":true,"categories":"programming","author":"Sir0xb","tags":["js","跨域"]},"excerpt":"简单地理解就是因为javascript同源策略的限制。 详细说明看下表： URL 说明 是否允许通信 http://www.kuqin.com/lab/a.js     http://www.kuqin.com/script/b.js 同一域名下不同文件夹 允许 http…"}},{"node":{"id":"8adf2616-0dd6-5ab7-b81a-86a381b70fe1","html":"<p>到 joomla1.7 安装目录找到 <code>configuration.php</code> 文件记事本打开将</p>\n<pre class=\"editor editor-colors\"><div class=\"line\"><span class=\"text html php\"><span>...</span></span></div><div class=\"line\"><span class=\"text html php\"><span>public&nbsp;$force_ssl&nbsp;=&nbsp;&#39;2&#39;;</span></span></div><div class=\"line\"><span class=\"text html php\"><span>...</span></span></div></pre>\n<p>修改成</p>\n<pre class=\"editor editor-colors\"><div class=\"line\"><span class=\"text html php\"><span>...</span></span></div><div class=\"line\"><span class=\"text html php\"><span>public&nbsp;$force_ssl&nbsp;=&nbsp;&#39;0&#39;;</span></span></div><div class=\"line\"><span class=\"text html php\"><span>...</span></span></div></pre>\n<p>访问后台，重新设置，就跟什么都没发生一样。</p>\n<hr>","frontmatter":{"path":"/88FxdZhGGnRgwuWPCVPels8l","title":"joomla1.7 开启SSL无法访问问题","date":"2012-02-15 10:29:56 +0800","comments":true,"categories":"programming","author":"Sir0xb","tags":["joomla"]},"excerpt":"到 joomla1.7 安装目录找到  configuration.php  文件记事本打开将 修改成 访问后台，重新设置，就跟什么都没发生一样。"}},{"node":{"id":"7518ab95-9000-5787-90ec-7863a63f7d71","html":"<p>64位Win7系统\n平时用 FireFox 。偶尔需要用 IE9 浏览器。\n这次用 IE9 看视频时发现没有安装Flash插件，32位的也无法装上，64位也是如此，在网上也找了半天也没找到能解决问题的方法。\n最后自己琢磨出了最终解决方案。</p>\n<h5>#. 先将FireFox的Flash插件卸载。</h5>\n<h5>#. 用IE9看优酷或是土豆，根据提示安装Flash插件。</h5>\n<h5>#. 在用FireFox安装确实插件。</h5>\n<p>一切问题解决。</p>\n<hr>","frontmatter":{"path":"/G2YWYxiask94ieIjw68xoJ4A","title":"Flash插件安装问题","date":"2012-02-08 21:56:53 +0800","comments":true,"categories":"programming","author":"Sir0xb","tags":["flash"]},"excerpt":"64位Win7系统\n平时用 FireFox 。偶尔需要用 IE9 浏览器。\n这次用 IE9 看视频时发现没有安装Flash插件，32位的也无法装上，64位也是如此，在网上也找了半天也没找到能解决问题的方法。\n最后自己琢磨出了最终解决方案。 #. 先将FireFox的Flash…"}},{"node":{"id":"3ef5cd1a-35ef-58ca-9b94-2092d84b8712","html":"<p>思路：每次关闭时，讲日志文件改名成日期时间相关的文件即可。因为 Nginx 启动时会自动生成日志文件。</p>\n<p>bat代码如下：</p>\n<pre class=\"editor editor-colors\"><div class=\"line\"><span class=\"text plain null-grammar\"><span>cls</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>@ECHO&nbsp;OFF</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>SET&nbsp;NGINX_PATH=C:</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>SET&nbsp;NGINX_DIR=C:\\nginx-1.1.5\\</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>color&nbsp;0a</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>TITLE&nbsp;Nginx管理程序</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>GOTO&nbsp;MENU</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>:MENU</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>CLS</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>ECHO.</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>ECHO.&nbsp;*&nbsp;*&nbsp;*&nbsp;*&nbsp;&nbsp;Nginx&nbsp;Management&nbsp;&nbsp;*&nbsp;*&nbsp;*</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>ECHO.&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>ECHO.&nbsp;*&nbsp;&nbsp;&nbsp;1&nbsp;启动Nginx&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>ECHO.&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>ECHO.&nbsp;*&nbsp;&nbsp;&nbsp;2&nbsp;关闭Nginx&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>ECHO.&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>ECHO.&nbsp;*&nbsp;&nbsp;&nbsp;3&nbsp;重启Nginx&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>ECHO.&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>ECHO.&nbsp;*&nbsp;&nbsp;&nbsp;4&nbsp;检查配置&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>ECHO.&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>ECHO.&nbsp;*&nbsp;&nbsp;&nbsp;5&nbsp;退&nbsp;出&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>ECHO.&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>ECHO.&nbsp;*&nbsp;*&nbsp;*&nbsp;*&nbsp;*&nbsp;*&nbsp;*&nbsp;*&nbsp;*&nbsp;*&nbsp;*&nbsp;*&nbsp;*&nbsp;*&nbsp;*&nbsp;*&nbsp;*</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>ECHO.</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>ECHO.请输入命令编号:</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>set&nbsp;/p&nbsp;ID=</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>IF&nbsp;&quot;%id%&quot;==&quot;1&quot;&nbsp;GOTO&nbsp;cmd1</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>IF&nbsp;&quot;%id%&quot;==&quot;2&quot;&nbsp;GOTO&nbsp;cmd2</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>IF&nbsp;&quot;%id%&quot;==&quot;3&quot;&nbsp;GOTO&nbsp;cmd3</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>IF&nbsp;&quot;%id%&quot;==&quot;4&quot;&nbsp;GOTO&nbsp;cmd4</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>IF&nbsp;&quot;%id%&quot;==&quot;5&quot;&nbsp;EXIT</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>PAUSE</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>:cmd1</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>REM&nbsp;-------------&nbsp;启动PHP&nbsp;-------------</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>@ECHO&nbsp;OFF</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>SET&nbsp;PHP_FCGI_MAX_REQUESTS=1000</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>ECHO.启动PHP&nbsp;FastCGI...</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>%NGINX_PATH%</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>CD&nbsp;%NGINX_DIR%</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>RunHiddenConsole&nbsp;%NGINX_DIR%/php-5.3.8/php-cgi.exe&nbsp;-b&nbsp;127.0.0.1:9000&nbsp;-c&nbsp;%NGINX_DIR%/php-5.3.8/php.ini</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>REM&nbsp;-------------&nbsp;启动Nginx&nbsp;-------------</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>ECHO.启动Nginx......</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>%NGINX_PATH%</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>CD&nbsp;%NGINX_DIR%</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>IF&nbsp;NOT&nbsp;EXIST&nbsp;%NGINX_DIR%nginx.exe&nbsp;ECHO&nbsp;%NGINX_DIR%nginx.exe不存在</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>%NGINX_PATH%</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>CD&nbsp;%NGINX_DIR%</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>IF&nbsp;EXIST&nbsp;%NGINX_DIR%&nbsp;start&nbsp;%NGINX_DIR%nginx.exe</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>ECHO.OK</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>PAUSE</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>GOTO&nbsp;MENU</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>:cmd2</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>ECHO.</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>REM&nbsp;-------------&nbsp;日志文件改名&nbsp;-------------</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>SET&nbsp;T1=%DATE:~0,4%.%DATE:~5,2%.%DATE:~8,2%.%time:~0,2%.%time:~3,2%.%time:~6,2%</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>SET&nbsp;T2=%T1:&nbsp;=0%</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>%NGINX_PATH%</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>CD&nbsp;%NGINX_DIR%</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>IF&nbsp;NOT&nbsp;EXIST&nbsp;%NGINX_DIR%logs\\%T2%_ACCESS.log&nbsp;ren&nbsp;%NGINX_DIR%logs\\access.log&nbsp;%T2%_ACCESS.log</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>%NGINX_PATH%</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>CD&nbsp;%NGINX_DIR%</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>IF&nbsp;NOT&nbsp;EXIST&nbsp;%NGINX_DIR%logs\\%T2%_ERROR.log&nbsp;ren&nbsp;%NGINX_DIR%logs\\error.log&nbsp;%T2%_ERROR.log</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>REM&nbsp;-------------&nbsp;关闭Nginx&nbsp;-------------</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>ECHO.关闭Nginx......</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>%NGINX_PATH%</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>CD&nbsp;%NGINX_DIR%</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>taskkill&nbsp;/F&nbsp;/IM&nbsp;nginx.exe&nbsp;&gt;&nbsp;nul</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>REM&nbsp;-------------&nbsp;关闭PHP&nbsp;-------------</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>ECHO.关闭&nbsp;PHP&nbsp;FastCGI...</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>%NGINX_PATH%</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>CD&nbsp;%NGINX_DIR%</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>taskkill&nbsp;/F&nbsp;/IM&nbsp;php-cgi.exe&nbsp;&gt;&nbsp;nul</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>ECHO.OK</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>PAUSE</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>GOTO&nbsp;MENU</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>:cmd3</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>ECHO.</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>REM&nbsp;-------------&nbsp;关闭Nginx&nbsp;-------------</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>ECHO.关闭Nginx......</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>%NGINX_PATH%</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>CD&nbsp;%NGINX_DIR%</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>taskkill&nbsp;/F&nbsp;/IM&nbsp;nginx.exe&nbsp;&gt;&nbsp;nul</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>REM&nbsp;-------------&nbsp;关闭PHP&nbsp;-------------</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>ECHO.关闭PHP&nbsp;FastCGI...</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>%NGINX_PATH%</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>CD&nbsp;%NGINX_DIR%</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>taskkill&nbsp;/F&nbsp;/IM&nbsp;php-cgi.exe&nbsp;&gt;&nbsp;nul</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>ECHO.OK</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>GOTO&nbsp;cmd1</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>GOTO&nbsp;MENU</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>:cmd4</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>ECHO.</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>REM&nbsp;-------------&nbsp;检查Nginx配置&nbsp;-------------</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>ECHO.检查Nginx配置......</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>%NGINX_PATH%</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>CD&nbsp;%NGINX_DIR%</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>IF&nbsp;NOT&nbsp;EXIST&nbsp;%NGINX_DIR%nginx.exe&nbsp;ECHO&nbsp;%NGINX_DIR%nginx.exe不存在</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>%NGINX_PATH%</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>CD&nbsp;%NGINX_DIR%</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>IF&nbsp;EXIST&nbsp;%NGINX_DIR%&nbsp;%NGINX_DIR%nginx.exe&nbsp;-t</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>ECHO.完成检查</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>PAUSE</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>GOTO&nbsp;MENU</span></span></div></pre>\n<!--more-->\n<p>运行效果如下：</p>\n<img src=\"https://i.imgur.com/RadjhED.png\" />\n<p>重新启动 Nginx 后：</p>\n<img src=\"https://i.imgur.com/pb35nV3.png\" />\n<hr>","frontmatter":{"path":"/3YHvLZF1ZryKHtMSkJmebnit","title":"Windows环境下 Nginx 日志分割","date":"2011-12-30 10:12:05 +0800","comments":true,"categories":"programming","author":"Sir0xb","tags":["nginx","bat"]},"excerpt":"思路：每次关闭时，讲日志文件改名成日期时间相关的文件即可。因为 Nginx 启动时会自动生成日志文件。 bat代码如下： 运行效果如下： 重新启动 Nginx 后："}},{"node":{"id":"b0936313-6686-5c2a-80bc-9c28783ff8ac","html":"<h4># 生成日期</h4>\n<pre class=\"editor editor-colors\"><div class=\"line\"><span class=\"text plain null-grammar\"><span>echo&nbsp;%DATE:~0,4%.%DATE:~5,2%.%DATE:~8,2%</span></span></div></pre>\n<p>结果是：xxxx.xx.xx</p>\n<h4># 生成昨天的日期</h4>\n<p>将如下代码制作成 <code>xx.bat</code>。获得昨天日期的方法是 <code>xx.bat -1</code>。同理想获得10天后的日期是 <code>xx.bat 10</code>。</p>\n<!--more-->\n<pre class=\"editor editor-colors\"><div class=\"line\"><span class=\"text plain null-grammar\"><span>@echo&nbsp;off&nbsp;&amp;&nbsp;setlocal</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>if&nbsp;[%1]==[]&nbsp;goto&nbsp;:Help</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>call&nbsp;:GetDayDiff&nbsp;%date:~0,10%&nbsp;%1&nbsp;&amp;goto&nbsp;:EOF</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>:GetDayDiff</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>call&nbsp;:Date2Day&nbsp;%1&nbsp;days</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>set/a&nbsp;days=%days%+%2</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>call&nbsp;:Day2Date&nbsp;%days%&nbsp;result</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>echo&nbsp;%result%&nbsp;&amp;goto&nbsp;:EOF</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>:Date2Day</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>setlocal&nbsp;ENABLEEXTENSIONS</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>for&nbsp;/f&nbsp;&quot;tokens=1-3&nbsp;delims=/-,&nbsp;&quot;&nbsp;%%a&nbsp;in&nbsp;(&#39;echo/%1&#39;)&nbsp;do&nbsp;(set&nbsp;yy=%%a&nbsp;&amp;&nbsp;set&nbsp;mm=%%b&nbsp;&amp;&nbsp;set&nbsp;dd=%%c&nbsp;)</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>set&nbsp;/a&nbsp;dd=100%dd%%%100,mm=100%mm%%%100</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>set&nbsp;/a&nbsp;z=14-mm,z/=12,y=yy+4800-z,m=mm+12*z-3,j=153*m+2</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>set&nbsp;/a&nbsp;j=j/5+dd+y*365+y/4-y/100+y/400-2472633</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>endlocal&amp;set&nbsp;%2=%j%&amp;goto&nbsp;:EOF</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>:Day2Date</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>setlocal&nbsp;ENABLEEXTENSIONS</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>set&nbsp;/a&nbsp;i=%1,a=i+2472632,b=4*a+3,b/=146097,c=-b*146097,c/=4,c+=a</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>set&nbsp;/a&nbsp;d=4*c+3,d/=1461,e=-1461*d,e/=4,e+=c,m=5*e+2,m/=153,dd=153*m+2,dd/=5</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>set&nbsp;/a&nbsp;dd=-dd+e+1,mm=-m/10,mm*=12,mm+=m+3,yy=b*100+d-4800+m/10</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>(if&nbsp;%mm%&nbsp;LSS&nbsp;10&nbsp;set&nbsp;mm=0%mm%)&amp;(if&nbsp;%dd%&nbsp;LSS&nbsp;10&nbsp;set&nbsp;dd=0%dd%)</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>endlocal&amp;set&nbsp;%2=%yy%-%mm%-%dd%&amp;goto&nbsp;:EOF</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>:Help</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>echo&nbsp;xx&nbsp;10&nbsp;显示10天后的时间</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>echo&nbsp;xx&nbsp;-5&nbsp;显示&nbsp;5天前的时间</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>rem&nbsp;-------&nbsp;EOF&nbsp;---------</span></span></div></pre>\n<hr>","frontmatter":{"path":"/3u0tt8ojsSMwymuZMxSe1RfP","title":"Windows批处理 - 日期","date":"2011-12-30 09:28:12 +0800","comments":true,"categories":"programming","author":"Sir0xb","tags":["windows","bat"]},"excerpt":"# 生成日期 结果是：xxxx.xx.xx # 生成昨天的日期 将如下代码制作成  xx.bat 。获得昨天日期的方法是  xx.bat -1 。同理想获得10天后的日期是  xx.bat 10 。"}},{"node":{"id":"9edf62d0-9dc8-5090-b262-9b3bec5b65b8","html":"<h5># 下载php</h5>\n<p><a target=\"_blank\" href=\"http://windows.php.net/download/\">http://windows.php.net/download/</a></p>\n<p>下载 Non Thread Safe 版本，本人下了个zip绿色版本的。</p>\n<h5># php部署到哪儿无所谓，主要是给Nginx用的，所以放Nginx目录下了。</h5>\n<h5># 找到 php.ini-development 文件，更名为 php.ini</h5>\n<h5># 修改 php.ini 配置参数：</h5>\n<pre class=\"editor editor-colors\"><div class=\"line\"><span class=\"text plain null-grammar\"><span>;&nbsp;extension_dir&nbsp;=&nbsp;&quot;ext&quot;</span></span></div></pre>\n<!--more-->\n<p>修改成(下面是本人的配置，根据自己的进行修改)：</p>\n<pre class=\"editor editor-colors\"><div class=\"line\"><span class=\"text plain null-grammar\"><span>extension_dir&nbsp;=&nbsp;&quot;&nbsp;C:/nginx-1.1.5/php-5.3.8/ext&quot;</span></span></div></pre>\n<p>开启如下配置注释：</p>\n<pre class=\"editor editor-colors\"><div class=\"line\"><span class=\"text plain null-grammar\"><span>extension=php_curl.dll</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>extension=php_gd2.dll</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>extension=php_mbstring.dll</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>extension=php_mysql.dll</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>extension=php_pdo_odbc.dll</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>extension=php_xmlrpc.dll</span></span></div></pre>\n<p>php 的 Session 也配一个吧，应该都没关系(随便建了个 temp 文件夹)：</p>\n<pre class=\"editor editor-colors\"><div class=\"line\"><span class=\"text plain null-grammar\"><span>session.save_path&nbsp;=&nbsp;&quot;C:/nginx-1.1.5/php-5.3.8/temp&quot;</span></span></div></pre>\n<h5># 之后就是配置 nginx.conf 文件了，粉色部分是新加的：</h5>\n<pre class=\"editor editor-colors\"><div class=\"line\"><span class=\"text plain null-grammar\"><span>server&nbsp;{</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>listen&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;80;</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>&nbsp;&nbsp;&nbsp;&nbsp;server_name&nbsp;&nbsp;Dojo;</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>&nbsp;&nbsp;&nbsp;&nbsp;charset&nbsp;utf-8;</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>&nbsp;&nbsp;&nbsp;&nbsp;location&nbsp;/&nbsp;{</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#主目录，相当于webapps目录</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;root&nbsp;&nbsp;&nbsp;WebServer/Dojo;</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#开启目录浏览</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;autoindex&nbsp;on;</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>&nbsp;&nbsp;&nbsp;&nbsp;}</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>&nbsp;&nbsp;&nbsp;location&nbsp;~&nbsp;\\.php$&nbsp;{</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;root&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WebServer/Dojo;</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fastcgi_pass&nbsp;&nbsp;&nbsp;127.0.0.1:9000;</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fastcgi_index&nbsp;&nbsp;index.php;</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fastcgi_param&nbsp;&nbsp;SCRIPT_FILENAME&nbsp;$document_root$fastcgi_script_name;</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;include&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fastcgi_params;</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>&nbsp;&nbsp;&nbsp;}</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>}</span></span></div></pre>\n<h4># 下载一个小工具，配置启动 bat 的时候用得上，解压后把 exe 文件丢到 php 住目录下即可。</h4>\n<p><a target=\"_blank\" href=\"http://redmine.lighttpd.net/attachments/660/RunHiddenConsole.zip\">http://redmine.lighttpd.net/attachments/660/RunHiddenConsole.zip</a></p>\n<h4># 还有一步是必须的，就是启动 Nginx 的时候，同时把 php 也启动了。还是修改启动 bat 文件为例吧。</h4>\n<pre class=\"editor editor-colors\"><div class=\"line\"><span class=\"text plain null-grammar\"><span>cls</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>@ECHO&nbsp;OFF</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>SET&nbsp;NGINX_PATH=C:</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>SET&nbsp;NGINX_DIR=C:\\nginx-1.1.5\\</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>color&nbsp;0a</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>TITLE&nbsp;Nginx管理程序</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>GOTO&nbsp;MENU</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>:MENU</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>CLS</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>ECHO.</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>ECHO.&nbsp;*&nbsp;*&nbsp;*&nbsp;*&nbsp;&nbsp;Nginx&nbsp;Management&nbsp;&nbsp;*&nbsp;*&nbsp;*</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>ECHO.&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>ECHO.&nbsp;*&nbsp;&nbsp;&nbsp;1&nbsp;启动Nginx&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>ECHO.&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>ECHO.&nbsp;*&nbsp;&nbsp;&nbsp;2&nbsp;关闭Nginx&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>ECHO.&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>ECHO.&nbsp;*&nbsp;&nbsp;&nbsp;3&nbsp;重启Nginx&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>ECHO.&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>ECHO.&nbsp;*&nbsp;&nbsp;&nbsp;4&nbsp;检查配置&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>ECHO.&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>ECHO.&nbsp;*&nbsp;&nbsp;&nbsp;5&nbsp;退&nbsp;出&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>ECHO.&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>ECHO.&nbsp;*&nbsp;*&nbsp;*&nbsp;*&nbsp;*&nbsp;*&nbsp;*&nbsp;*&nbsp;*&nbsp;*&nbsp;*&nbsp;*&nbsp;*&nbsp;*&nbsp;*&nbsp;*&nbsp;*</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>ECHO.</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>ECHO.请输入命令编号:</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>set&nbsp;/p&nbsp;ID=</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>IF&nbsp;&quot;%id%&quot;==&quot;1&quot;&nbsp;GOTO&nbsp;cmd1</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>IF&nbsp;&quot;%id%&quot;==&quot;2&quot;&nbsp;GOTO&nbsp;cmd2</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>IF&nbsp;&quot;%id%&quot;==&quot;3&quot;&nbsp;GOTO&nbsp;cmd3</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>IF&nbsp;&quot;%id%&quot;==&quot;4&quot;&nbsp;GOTO&nbsp;cmd4</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>IF&nbsp;&quot;%id%&quot;==&quot;5&quot;&nbsp;EXIT</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>PAUSE</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>:cmd1</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>ECHO.</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>@ECHO&nbsp;OFF</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>SET&nbsp;PHP_FCGI_MAX_REQUESTS=1000</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>ECHO.启动PHP&nbsp;FastCGI...</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>RunHiddenConsole&nbsp;C:/nginx-1.1.5/php-5.3.8/php-cgi.exe&nbsp;-b&nbsp;127.0.0.1:9000&nbsp;-c&nbsp;C:/nginx-1.1.5/php-5.3.8/php.ini</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>ECHO.启动Nginx......</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>IF&nbsp;NOT&nbsp;EXIST&nbsp;%NGINX_DIR%nginx.exe&nbsp;ECHO&nbsp;%NGINX_DIR%nginx.exe不存在</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>%NGINX_PATH%</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>cd&nbsp;%NGINX_DIR%</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>IF&nbsp;EXIST&nbsp;%NGINX_DIR%&nbsp;start&nbsp;%NGINX_DIR%nginx.exe</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>ECHO.OK</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>PAUSE</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>GOTO&nbsp;MENU</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>:cmd2</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>ECHO.</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>ECHO.关闭Nginx......</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>taskkill&nbsp;/F&nbsp;/IM&nbsp;nginx.exe&nbsp;&gt;&nbsp;nul</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>ECHO.关闭&nbsp;PHP&nbsp;FastCGI...</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>taskkill&nbsp;/F&nbsp;/IM&nbsp;php-cgi.exe&nbsp;&gt;&nbsp;nul</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>ECHO.OK</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>PAUSE</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>GOTO&nbsp;MENU</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>:cmd3</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>ECHO.</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>ECHO.关闭Nginx......</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>taskkill&nbsp;/F&nbsp;/IM&nbsp;nginx.exe&nbsp;&gt;&nbsp;nul</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>ECHO.关闭PHP&nbsp;FastCGI...</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>taskkill&nbsp;/F&nbsp;/IM&nbsp;php-cgi.exe&nbsp;&gt;&nbsp;nul</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>ECHO.OK</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>GOTO&nbsp;cmd1</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>GOTO&nbsp;MENU</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>:cmd4</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>ECHO.</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>ECHO.检查Nginx配置......</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>IF&nbsp;NOT&nbsp;EXIST&nbsp;%NGINX_DIR%nginx.exe&nbsp;ECHO&nbsp;%NGINX_DIR%nginx.exe不存在</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>%NGINX_PATH%</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>cd&nbsp;%NGINX_DIR%</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>IF&nbsp;EXIST&nbsp;%NGINX_DIR%&nbsp;%NGINX_DIR%nginx.exe&nbsp;-t</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>ECHO.完成检查</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>PAUSE</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>GOTO&nbsp;MENU</span></span></div></pre>\n<h4># 完成之后可以用 php 页面测试一下。</h4>\n<pre class=\"editor editor-colors\"><div class=\"line\"><span class=\"text html basic\"><span class=\"meta tag sgml html\"><span class=\"punctuation definition tag html\"><span>&lt;!</span></span><span class=\"meta tag sgml doctype html\"><span>DOCTYPE</span><span>&nbsp;html&nbsp;PUBLIC&nbsp;</span><span class=\"string quoted double doctype identifiers-and-DTDs html\"><span>&quot;-//W3C//DTD&nbsp;XHTML&nbsp;1.0&nbsp;Frameset//EN&quot;</span></span><span>&nbsp;</span><span class=\"string quoted double doctype identifiers-and-DTDs html\"><span>&quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-frameset.dtd&quot;</span></span></span><span class=\"punctuation definition tag html\"><span>&gt;</span></span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span class=\"meta tag structure any html\"><span class=\"punctuation definition tag html\"><span>&lt;</span></span><span class=\"entity name tag structure any html\"><span>head</span></span><span class=\"punctuation definition tag html\"><span>&gt;</span></span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span class=\"meta tag inline any html\"><span class=\"punctuation definition tag begin html\"><span>&lt;</span></span><span class=\"entity name tag inline any html\"><span>meta</span></span><span>&nbsp;</span><span class=\"entity other attribute-name html\"><span>http-equiv</span></span><span>=</span><span class=\"string quoted double html\"><span class=\"punctuation definition string begin html\"><span>&quot;</span></span><span>Content-Type</span><span class=\"punctuation definition string end html\"><span>&quot;</span></span></span><span>&nbsp;</span><span class=\"entity other attribute-name html\"><span>content</span></span><span>=</span><span class=\"string quoted double html\"><span class=\"punctuation definition string begin html\"><span>&quot;</span></span><span>text/html;&nbsp;charset=utf-8</span><span class=\"punctuation definition string end html\"><span>&quot;</span></span></span><span class=\"punctuation definition tag end html\"><span>&nbsp;/&gt;</span></span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span class=\"meta tag inline any html\"><span class=\"punctuation definition tag begin html\"><span>&lt;</span></span><span class=\"entity name tag inline any html\"><span>title</span></span><span class=\"punctuation definition tag end html\"><span>&gt;</span></span></span><span>xampp&nbsp;的&nbsp;php&nbsp;开发环境测试页面</span><span class=\"meta tag inline any html\"><span class=\"punctuation definition tag begin html\"><span>&lt;/</span></span><span class=\"entity name tag inline any html\"><span>title</span></span><span class=\"punctuation definition tag end html\"><span>&gt;</span></span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span class=\"source js embedded html\"><span class=\"punctuation definition tag html\"><span>&lt;</span></span><span class=\"entity name tag script html\"><span>script</span></span><span>&nbsp;</span><span class=\"entity other attribute-name html\"><span>type</span></span><span>=</span><span class=\"string quoted double html\"><span class=\"punctuation definition string begin html\"><span>&quot;</span></span><span>text/javascript</span><span class=\"punctuation definition string end html\"><span>&quot;</span></span></span><span>&nbsp;</span><span class=\"punctuation definition tag html\"><span>&gt;</span></span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span class=\"source js embedded html\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"meta function js\"><span class=\"storage type function js\"><span>function</span></span><span>&nbsp;</span><span class=\"entity name function js\"><span>thisClose</span></span><span class=\"meta parameters js\"><span class=\"punctuation definition parameters begin bracket round js\"><span>(</span></span><span class=\"punctuation definition parameters end bracket round js\"><span>)</span></span></span></span><span class=\"punctuation definition function body begin bracket curly js\"><span>{</span></span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span class=\"source js embedded html\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"support variable dom js\"><span>window</span></span><span class=\"meta method-call js\"><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"support function dom js\"><span>close</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span class=\"source js embedded html\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"punctuation definition function body end bracket curly js\"><span>}</span></span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span class=\"source js embedded html\"><span class=\"punctuation definition tag html\"><span>&lt;/</span></span><span class=\"entity name tag script html\"><span>script</span></span><span class=\"punctuation definition tag html\"><span>&gt;</span></span><span>&nbsp;</span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span class=\"meta tag structure any html\"><span class=\"punctuation definition tag html\"><span>&lt;/</span></span><span class=\"entity name tag structure any html\"><span>head</span></span><span class=\"punctuation definition tag html\"><span>&gt;</span></span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span class=\"meta tag structure any html\"><span class=\"punctuation definition tag html\"><span>&lt;</span></span><span class=\"entity name tag structure any html\"><span>body</span></span><span class=\"punctuation definition tag html\"><span>&gt;</span></span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span>&lt;?php</span></span></div><div class=\"line\"><span class=\"text html basic\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"text html basic\"><span>&nbsp;&nbsp;&nbsp;&nbsp;for($i&nbsp;=&nbsp;1;$i&nbsp;&lt;=&nbsp;10;&nbsp;$i++)&nbsp;{</span></span></div><div class=\"line\"><span class=\"text html basic\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;&quot;$i.这是一个测试页面。</span><span class=\"meta tag inline any html\"><span class=\"punctuation definition tag begin html\"><span>&lt;</span></span><span class=\"entity name tag inline any html\"><span>br</span></span><span class=\"punctuation definition tag end html\"><span>&nbsp;/&gt;</span></span></span><span>&quot;;</span></span></div><div class=\"line\"><span class=\"text html basic\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></span></div><div class=\"line\"><span class=\"text html basic\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"text html basic\"><span>?&gt;</span></span></div><div class=\"line\"><span class=\"text html basic\"><span class=\"meta tag inline any html\"><span class=\"punctuation definition tag begin html\"><span>&lt;</span></span><span class=\"entity name tag inline any html\"><span>input</span></span><span>&nbsp;</span><span class=\"meta attribute-with-value id html\"><span class=\"entity other attribute-name id html\"><span>id</span></span><span class=\"punctuation separator key-value html\"><span>=</span></span><span class=\"string quoted double html\"><span class=\"punctuation definition string begin html\"><span>&quot;</span></span><span class=\"meta toc-list id html\"><span>btnClose</span></span><span class=\"punctuation definition string end html\"><span>&quot;</span></span></span></span><span>&nbsp;</span><span class=\"entity other attribute-name html\"><span>type</span></span><span>=</span><span class=\"string quoted double html\"><span class=\"punctuation definition string begin html\"><span>&quot;</span></span><span>button</span><span class=\"punctuation definition string end html\"><span>&quot;</span></span></span><span>&nbsp;</span><span class=\"entity other attribute-name html\"><span>value</span></span><span>=</span><span class=\"string quoted double html\"><span class=\"punctuation definition string begin html\"><span>&quot;</span></span><span>关闭窗口</span><span class=\"punctuation definition string end html\"><span>&quot;</span></span></span><span>&nbsp;</span><span class=\"entity other attribute-name html\"><span>onclick</span></span><span>=</span><span class=\"string quoted double html\"><span class=\"punctuation definition string begin html\"><span>&quot;</span></span><span>thisClose()</span><span class=\"punctuation definition string end html\"><span>&quot;</span></span></span><span class=\"punctuation definition tag end html\"><span>&nbsp;/&gt;</span></span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span class=\"meta tag structure any html\"><span class=\"punctuation definition tag html\"><span>&lt;/</span></span><span class=\"entity name tag structure any html\"><span>body</span></span><span class=\"punctuation definition tag html\"><span>&gt;</span></span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span class=\"meta tag structure any html\"><span class=\"punctuation definition tag html\"><span>&lt;/</span></span><span class=\"entity name tag structure any html\"><span>html</span></span><span class=\"punctuation definition tag html\"><span>&gt;</span></span></span></span></div></pre>\n<p>效果如下：</p>\n<img src=\"https://i.imgur.com/FUbbJvr.png\" />\n<hr>","frontmatter":{"path":"/57OmkmFgj9nDjNmgYbvM6kQy","title":"Windows 环境下 Nginx 配置 php","date":"2011-12-26 11:40:22 +0800","comments":true,"categories":"programming","author":"Sir0xb","tags":["nginx"]},"excerpt":"# 下载php http://windows.php.net/download/ 下载 Non Thread Safe 版本，本人下了个zip绿色版本的。 # php部署到哪儿无所谓，主要是给Nginx用的，所以放Nginx目录下了。 # 找到 php.ini…"}},{"node":{"id":"d0d11c18-7ae5-50d3-827b-d925dccfee3c","html":"<pre class=\"editor editor-colors\"><div class=\"line\"><span class=\"text plain null-grammar\"><span>%NGINX_DIR%/nginx.exe&nbsp;-t</span></span></div></pre>\n<p>返回结果例如：</p>\n<pre class=\"editor editor-colors\"><div class=\"line\"><span class=\"text plain null-grammar\"><span>nginx:&nbsp;the&nbsp;configuration&nbsp;file&nbsp;C:\\nginx-1.1.5/conf/nginx.conf&nbsp;syntax&nbsp;is&nbsp;ok</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>nginx:&nbsp;configuration&nbsp;file&nbsp;C:\\nginx-1.1.5/conf/nginx.conf&nbsp;test&nbsp;is&nbsp;successful</span></span></div></pre>\n<p>可以把检测配置文件项放到 Nginx 操作的 bat 文件里，代码如下：</p>\n<!--more-->\n<pre class=\"editor editor-colors\"><div class=\"line\"><span class=\"text plain null-grammar\"><span>cls</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>@ECHO&nbsp;OFF</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>SET&nbsp;NGINX_PATH=C:</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>SET&nbsp;NGINX_DIR=C:\\nginx-1.1.5\\</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>color&nbsp;0a</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>TITLE&nbsp;Nginx管理程序</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>GOTO&nbsp;MENU</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>:MENU</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>CLS</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>ECHO.</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>ECHO.&nbsp;*&nbsp;*&nbsp;*&nbsp;*&nbsp;&nbsp;Nginx&nbsp;Management&nbsp;&nbsp;*&nbsp;*&nbsp;*</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>ECHO.&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>ECHO.&nbsp;*&nbsp;&nbsp;&nbsp;1&nbsp;启动Nginx&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>ECHO.&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>ECHO.&nbsp;*&nbsp;&nbsp;&nbsp;2&nbsp;关闭Nginx&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>ECHO.&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>ECHO.&nbsp;*&nbsp;&nbsp;&nbsp;3&nbsp;重启Nginx&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>ECHO.&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>ECHO.&nbsp;*&nbsp;&nbsp;&nbsp;4&nbsp;检查配置&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>ECHO.&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>ECHO.&nbsp;*&nbsp;&nbsp;&nbsp;5&nbsp;退&nbsp;出&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>ECHO.&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>ECHO.&nbsp;*&nbsp;*&nbsp;*&nbsp;*&nbsp;*&nbsp;*&nbsp;*&nbsp;*&nbsp;*&nbsp;*&nbsp;*&nbsp;*&nbsp;*&nbsp;*&nbsp;*&nbsp;*&nbsp;*</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>ECHO.</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>ECHO.请输入命令编号:</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>set&nbsp;/p&nbsp;ID=</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>IF&nbsp;&quot;%id%&quot;==&quot;1&quot;&nbsp;GOTO&nbsp;cmd1</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>IF&nbsp;&quot;%id%&quot;==&quot;2&quot;&nbsp;GOTO&nbsp;cmd2</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>IF&nbsp;&quot;%id%&quot;==&quot;3&quot;&nbsp;GOTO&nbsp;cmd3</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>IF&nbsp;&quot;%id%&quot;==&quot;4&quot;&nbsp;GOTO&nbsp;cmd4</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>IF&nbsp;&quot;%id%&quot;==&quot;5&quot;&nbsp;EXIT</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>PAUSE</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>:cmd1</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>ECHO.</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>ECHO.启动Nginx......</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>IF&nbsp;NOT&nbsp;EXIST&nbsp;%NGINX_DIR%nginx.exe&nbsp;ECHO&nbsp;%NGINX_DIR%nginx.exe不存在</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>%NGINX_PATH%</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>cd&nbsp;%NGINX_DIR%</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>IF&nbsp;EXIST&nbsp;%NGINX_DIR%&nbsp;start&nbsp;%NGINX_DIR%nginx.exe</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>ECHO.OK</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>PAUSE</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>GOTO&nbsp;MENU</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>:cmd2</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>ECHO.</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>ECHO.关闭Nginx......</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>taskkill&nbsp;/F&nbsp;/IM&nbsp;nginx.exe&nbsp;&gt;&nbsp;nul</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>ECHO.OK</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>PAUSE</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>GOTO&nbsp;MENU</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>:cmd3</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>ECHO.</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>ECHO.关闭Nginx......</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>taskkill&nbsp;/F&nbsp;/IM&nbsp;nginx.exe&nbsp;&gt;&nbsp;nul</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>ECHO.OK</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>GOTO&nbsp;cmd1</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>GOTO&nbsp;MENU</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>:cmd4</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>ECHO.</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>ECHO.检查Nginx配置......</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>IF&nbsp;NOT&nbsp;EXIST&nbsp;%NGINX_DIR%nginx.exe&nbsp;ECHO&nbsp;%NGINX_DIR%nginx.exe不存在</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>%NGINX_PATH%</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>cd&nbsp;%NGINX_DIR%</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>IF&nbsp;EXIST&nbsp;%NGINX_DIR%&nbsp;%NGINX_DIR%nginx.exe&nbsp;-t</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>ECHO.完成检查</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>PAUSE</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>GOTO&nbsp;MENU</span></span></div></pre>\n<hr>","frontmatter":{"path":"/B90COln3ySq5ZxIQAK87pn0l","title":"Nginx检测配置","date":"2011-12-26 09:19:00 +0800","comments":true,"categories":"programming","author":"Sir0xb","tags":["nginx"]},"excerpt":"返回结果例如： 可以把检测配置文件项放到 Nginx 操作的 bat 文件里，代码如下："}},{"node":{"id":"08304b6e-819a-519f-9be0-ae046afcfb0e","html":"<p><code>nginx.conf</code> 配置多个server属性即可，如下:</p>\n<pre class=\"editor editor-colors\"><div class=\"line\"><span class=\"text xml\"><span>...&nbsp;...</span></span></div><div class=\"line\"><span class=\"text xml\"><span>events&nbsp;{</span></span></div><div class=\"line\"><span class=\"text xml\"><span>&nbsp;&nbsp;&nbsp;&nbsp;...&nbsp;...</span></span></div><div class=\"line\"><span class=\"text xml\"><span>}</span></span></div><div class=\"line\"><span class=\"text xml\"><span>...&nbsp;...</span></span></div><div class=\"line\"><span class=\"text xml\"><span>http&nbsp;{</span></span></div><div class=\"line\"><span class=\"text xml\"><span>&nbsp;&nbsp;&nbsp;&nbsp;i...&nbsp;...</span></span></div><div class=\"line\"><span class=\"text xml\"><span>&nbsp;&nbsp;&nbsp;&nbsp;server&nbsp;{</span></span></div><div class=\"line\"><span class=\"text xml\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...&nbsp;...</span></span></div><div class=\"line\"><span class=\"text xml\"><span>&nbsp;&nbsp;&nbsp;&nbsp;}</span></span></div><div class=\"line\"><span class=\"text xml\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"text xml\"><span>&nbsp;&nbsp;&nbsp;&nbsp;server&nbsp;{</span></span></div><div class=\"line\"><span class=\"text xml\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...&nbsp;...</span></span></div><div class=\"line\"><span class=\"text xml\"><span>&nbsp;&nbsp;&nbsp;&nbsp;}</span></span></div><div class=\"line\"><span class=\"text xml\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"text xml\"><span>&nbsp;&nbsp;&nbsp;&nbsp;server&nbsp;{</span></span></div><div class=\"line\"><span class=\"text xml\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...&nbsp;...</span></span></div><div class=\"line\"><span class=\"text xml\"><span>&nbsp;&nbsp;&nbsp;&nbsp;}</span></span></div><div class=\"line\"><span class=\"text xml\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"text xml\"><span>&nbsp;&nbsp;&nbsp;&nbsp;server&nbsp;{</span></span></div><div class=\"line\"><span class=\"text xml\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...&nbsp;...</span></span></div><div class=\"line\"><span class=\"text xml\"><span>&nbsp;&nbsp;&nbsp;&nbsp;}</span></span></div><div class=\"line\"><span class=\"text xml\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"text xml\"><span>&nbsp;&nbsp;&nbsp;&nbsp;server&nbsp;{</span></span></div><div class=\"line\"><span class=\"text xml\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;listen&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;80;</span></span></div><div class=\"line\"><span class=\"text xml\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;server_name&nbsp;&nbsp;Dojo;</span></span></div><div class=\"line\"><span class=\"text xml\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;charset&nbsp;utf-8;</span></span></div><div class=\"line\"><span class=\"text xml\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"text xml\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;location&nbsp;/&nbsp;{</span></span></div><div class=\"line\"><span class=\"text xml\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;root&nbsp;&nbsp;&nbsp;WebServer/Dojo;</span></span></div><div class=\"line\"><span class=\"text xml\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"text xml\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#开启目录浏览</span></span></div><div class=\"line\"><span class=\"text xml\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;autoindex&nbsp;on;</span></span></div><div class=\"line\"><span class=\"text xml\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></span></div><div class=\"line\"><span class=\"text xml\"><span>&nbsp;&nbsp;&nbsp;&nbsp;}</span></span></div><div class=\"line\"><span class=\"text xml\"><span>}</span></span></div></pre>\n<p>注释：记得修改 <code>hosts</code> 文件，将 <code>server_name</code> 制定的域名，映射到 <code>127.0.0.1</code></p>\n<hr>","frontmatter":{"path":"/1i9hAd7YK2L0zPVsEi28nGD3","title":"Nginx配置虚拟服务器","date":"2011-12-26 09:15:57 +0800","comments":true,"categories":"programming","author":"Sir0xb","tags":["nginx"]},"excerpt":"nginx.conf  配置多个server属性即可，如下: 注释：记得修改  hosts  文件，将  server_name  制定的域名，映射到  127.0.0.1"}}],"pathPrefix":"blog","first":false,"last":false,"index":10,"pageCount":15,"additionalContext":{}}}