{"data":{"markdownRemark":{"html":"<pre><code class=\"language-bash\">%NGINX_DIR%/nginx.exe -t\n</code></pre>\n<p>返回结果例如：</p>\n<pre><code class=\"language-bash\">nginx: the configuration file C:\\nginx-1.1.5/conf/nginx.conf syntax is ok\nnginx: configuration file C:\\nginx-1.1.5/conf/nginx.conf test is successful\n</code></pre>\n<p>可以把检测配置文件项放到 Nginx 操作的 bat 文件里，代码如下：</p>\n<!--more-->\n<pre><code class=\"language-bash\">cls\n@ECHO OFF\nSET NGINX_PATH=C:\nSET NGINX_DIR=C:\\nginx-1.1.5\\\ncolor 0a\nTITLE Nginx管理程序\nGOTO MENU\n:MENU\nCLS\nECHO.\nECHO. * * * *  Nginx Management  * * *\nECHO. *                                *\nECHO. *   1 启动Nginx                  *\nECHO. *                                *\nECHO. *   2 关闭Nginx                  *\nECHO. *                                *\nECHO. *   3 重启Nginx                  *\nECHO. *                                *\nECHO. *   4 检查配置                   *\nECHO. *                                *\nECHO. *   5 退 出                      *\nECHO. *                                *\nECHO. * * * * * * * * * * * * * * * * *\nECHO.\nECHO.请输入命令编号:\nset /p ID=\nIF \"%id%\"==\"1\" GOTO cmd1\nIF \"%id%\"==\"2\" GOTO cmd2\nIF \"%id%\"==\"3\" GOTO cmd3\nIF \"%id%\"==\"4\" GOTO cmd4\nIF \"%id%\"==\"5\" EXIT\nPAUSE\n\n:cmd1\nECHO.\nECHO.启动Nginx......\nIF NOT EXIST %NGINX_DIR%nginx.exe ECHO %NGINX_DIR%nginx.exe不存在\n%NGINX_PATH%\ncd %NGINX_DIR%\nIF EXIST %NGINX_DIR% start %NGINX_DIR%nginx.exe\nECHO.OK\nPAUSE\nGOTO MENU\n\n:cmd2\nECHO.\nECHO.关闭Nginx......\ntaskkill /F /IM nginx.exe > nul\nECHO.OK\nPAUSE\nGOTO MENU\n\n:cmd3\nECHO.\nECHO.关闭Nginx......\ntaskkill /F /IM nginx.exe > nul\nECHO.OK\nGOTO cmd1\nGOTO MENU\n\n:cmd4\nECHO.\nECHO.检查Nginx配置......\nIF NOT EXIST %NGINX_DIR%nginx.exe ECHO %NGINX_DIR%nginx.exe不存在\n%NGINX_PATH%\ncd %NGINX_DIR%\nIF EXIST %NGINX_DIR% %NGINX_DIR%nginx.exe -t\nECHO.完成检查\nPAUSE\nGOTO MENU\n</code></pre>\n<hr>","frontmatter":{"path":"/B90COln3ySq5ZxIQAK87pn0l","title":"Nginx检测配置","author":"Sir0xb","date":"2011-12-26 09:19:00 +0800"}}},"pageContext":{}}