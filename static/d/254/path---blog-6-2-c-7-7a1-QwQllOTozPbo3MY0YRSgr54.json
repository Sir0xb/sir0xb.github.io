{"pageContext":{"group":[{"node":{"id":"bf1e249d-cdb3-5628-acb0-828bc66fbbd0","html":"<img src=\"https://i.imgur.com/9J0P1KP.jpg\" width=\"500\" />\n<p>著名的老戏骨王志文一直到42岁才结婚，此前度过了多年孤独而潇洒的光棍生涯。</p>\n<!--more-->\n<p>记得在《艺术人生》的一次访谈中，主持人朱军问他，老王，你都40了，咋还不结婚呢？</p>\n<p>老王很套路地答道，没遇到合适的呗。</p>\n<p>朱军继续追问，那你到底想找个什么样的女孩？</p>\n<p>我们的王叔叔知道今天是躲不过了，于是很认真地想了想，随后答道，就想找个能随时随地聊天的。</p>\n<p>“这还不容易？”朱军笑了。</p>\n<p>“不容易啊。”王叔叔说，</p>\n<p>比如你半夜里突然想到什么了，你叫她，她就会说，几点了？多困啊，明儿再说吧。你立刻就没兴趣了。有些话，有些时候，对有些人，你想一想，就不想说了。找到一个你想跟她说，能跟她说的人，多不容易。</p>\n<p>确实，茫茫人海，繁杂万千，哪有这么容易，找到一个可以随时说话的人——别说是厮守一生的爱人，就算是高山流水般的知己，也是可遇而不可求。</p>\n<p>正所谓“一曲肝肠断，天涯何处觅知音”，想当年，我们的电话本里，密密麻麻地写满了名字，可真正能说上知心话的又有几个？看今日，手机的微信好友动辄上千人，可点赞之交的却占了绝大多数......</p>\n<p>人们的沟通方式在不断地演变，但内心因为知音难觅所带来的孤独，却始终未变。</p>\n<p>或许正因如此，真正的随时可聊天的朋友才显得那么的重要。</p>\n<p>须知道，古有俞伯牙因钟子期离世而破琴绝弦，终生不再弹琴。</p>\n<p>今有鲁迅先生在碰到瞿秋白的时候，发出一声感慨：“人生得一知己足矣，斯世当以同怀视之。”</p>\n<p>在王家卫的电影《重庆森林》里，金城武所扮演的警察阿武失恋了，在试图联系前女友阿may及其家人无果后，他开始拼命地打电话给朋友，希望可以聊上几句，或是干脆约出来跑个步什么的。</p>\n<p>结果却发现，每个人似乎都有着自己的事在忙，并且最要命的是，原来这些所谓的朋友都是前女友的。</p>\n<p>也就是说，前女友离开后的那一刹那，连可以说话的人都找不到了。</p>\n<p>可想而知，那一刻的他，有多么的孤独。无奈之下，他只能去酒吧买醉，并且还爱上了一个晚上也戴墨镜的由林青霞扮演的金发杀手。</p>\n<p>也许，每个人的生命中都会经历这么一个阶段：没有人听你说话，感觉被全世界抛弃。记得我大学毕业前，就是如此。</p>\n<p>那真是一个兵荒马乱的岁月，女朋友嚷着单飞，舍友们准备着各奔东西，毕业论文拉锯僵持，工作前景一片迷惘.....全世界似乎都在忙碌，找不到一个可以随时静下心来唠上几句的人，“清风半夜鸣蝉”，喊得越大声，越显得孤独。</p>\n<p>岁月葱茏，时隔多年，现在似乎好了一些，尚得三两知己，四五挚交。</p>\n<p>但几乎也好不到哪儿去，因为一来工作上的朋友不知道我在写作，二来写作路上的战友又几乎不了解我的工作——真正在两者之间，有交集而且还能说上话的朋友，当真是寥寥无几。</p>\n<p>众所周知，在金庸的封笔神作《鹿鼎记》里，韦小宝之所以深得康熙宠爱，一来是因为他油嘴滑舌和八面玲珑，二来其做大小事的能力也非常不错，比如说干掉了最大的心腹大患鳌拜。</p>\n<p>但其实，最重要的原因是因为，康熙虽贵为天子，权倾天下，但却非常孤独。而韦小宝就是这么一个，可随时陪君说话的人。</p>\n<p>在《诗经·小雅·伐木》里，有这么一句话，“嘤其鸣矣，求其友声。相彼鸟矣，犹求友声；矧伊人矣，不求友生。”</p>\n<p>意思是说，鸟儿在嘤嘤地鸣叫，寻求同伴的应声，借此来比喻寻求志同道合的朋友。记得当年，我们的伟大领袖毛主席，在《斯大林是中国人民的朋友》的重要讲话里，也曾有引用过这一诗句。</p>\n<p>由此可见，不管是小到飞禽，还是大到君主，抑或是泱泱大国，拥有一个可随时说话的人有多么的重要。</p>\n<p>总而言之，以笔者之拙见，可随时说话的人，必须具备以下三个特点：</p>\n<h4>1. 不管多忙，永远对你开绿灯</h4>\n<p>微信的置顶聊天，这是标配了。电话会第一时间回应，哪怕恰逢开会恰逢重要酒席甚至恰逢在洗手间接不了，也会第一时间微信告知，并在之后秒回电话。</p>\n<p>另外，凌晨两点半接到你电话的那一霎那，你听到的声音不是昏昏欲睡，而是满怀关切。</p>\n<h4>2. 对你不依赖，却又让你觉得自己有多么重要</h4>\n<p>一方面不会给你压力——不管这种压力的来源是作为朋友，还是身为爱人；另一方面，又会让你觉得自己非常重要，仿佛地球上没有了你，世界的某一部分一定会停止运转。</p>\n<h4>3. 对你的话能秒懂，对你的潜在心声也能猜个八九不离十</h4>\n<p>如你所知，这世上，愿意在你身上花时间的人容易找，但真正能懂你言外之音或内心告白的人，还真心不多。</p>\n<p>但凡遇到，都是人生瑰宝。</p>\n<p>记得在《金星脱口秀》的某一期里，请的嘉宾是单眼皮的演员赵又廷。</p>\n<p>从交谈中不难看出，赵帅是一个内敛低调、不太健谈的男人——你非要说他是一个无趣的超级宅男也不过分，因为他自己也曾公开承认过。</p>\n<p>但让所有男人（包括本人）都无语的是，这厮何德何能，居然把千万人心目中的气质女神高圆圆娶回了家。</p>\n<p>在节目里，金星问他：“回家你俩话多么？”</p>\n<p>“非常多。”赵帅的回答让人出乎意料。</p>\n<p>“主要是你在说吧？”</p>\n<p>回答再次出人意料：“没有啊，两个人都狂说。”</p>\n<p>由此可见，对于这对让人羡慕不己的神仙眷侣来说，彼此之间真正的爱情秘诀是：做对方可随时说话，而且说得非常多的人。</p>\n<p>不过话说回来，在我们每个人的生命中，或多或少都会遇到1-2个可随时说话的人。</p>\n<p>只不过，因为人生境遇缘起缘灭的关系，有些人会陪你长一些，所谓“海内存知己，天涯若比邻”；</p>\n<p>有些人只能跟你在生命中交集片刻，随后便匆匆离去，留下一声“欲取鸣琴弹，恨不知音赏”的叹息；</p>\n<p>更有些人能够——或许说愿意尝试，跟你一路成长着走下去，直到天荒地老。试问这样的人，一旦遇到了，我们还有犹豫的理由吗？</p>\n<h4>- THE END -</h4>\n<p>[<a target=\"_blank\" href=\"http://mp.weixin.qq.com/s?__biz=MzAxNTA3MDUwNA==&mid=2651594518&idx=4&sn=e22edc10d8efaa4ff90465ccd2c55d73&scene=1&srcid=0825PJWfouv34YMhRaRu9zqs#rd\">原文：《 ONE一个 》( 沈万九 )</a>]</p>\n<hr>","frontmatter":{"path":"/b8267MNDgrwd9TyLGETVLZpu","title":"谁是你可以随时说话的人","date":"2016-08-26 14:44:53 +0800","comments":true,"categories":"conversation","author":null,"tags":["思考","共鸣"]},"excerpt":"著名的老戏骨王志文一直到42岁才结婚，此前度过了多年孤独而潇洒的光棍生涯。 记得在《艺术人生》的一次访谈中，主持人朱军问他，老王，你都4…"}},{"node":{"id":"bbeac3b2-ca32-57e8-8ff0-df855952cee5","html":"<p>　　“你说哪条路我知道，但‘挪威森林’小区我可没听说过。”乘客张璇说完目的地，出租车司机就一通抱怨：“你说好好的小区，干吗非得起个洋名？怪里怪气，找起来也麻烦，根本不知道在哪儿！”</p>\n<p>　　来回绕了两圈，没找到小区大门。张璇看附近楼房比较眼熟，就赶紧下了车，却发现是其他小区。“建筑风格差不多，又是洋名字，傻傻分不清。”</p>\n<p>　　好不容易找到一位正在执勤的小区保安，在保安的指引下，总算找到了目的地。“本地人也不知道在哪儿，问起路来太费劲！”张璇抱怨。</p>\n<p>　　张璇所在的西南某省会城市，不管是商业小区还是购物中心，“洋名”占的比例可不低。部分公交车站也以附近小区或者商场命名，从而出现被“洋地名”的现象。</p>\n<!--more-->\n<p>　　实际上，这并不是该城市的独特现象。创意英国、香榭丽舍、挪威森林、金色维也纳、阿拉丁花园、玛雅生活馆、波西米亚花园、地中海、名古屋、戛纳风情街、泰晤士小镇……国内许多城市都散布着“洋地名”，“曼哈顿”“泰晤士”扎堆出现，“维也纳”“地中海”层出不穷。</p>\n<p>　　张璇记得，上学时和小伙伴们常常到工人文化宫玩耍，听大人讲这个城市的人和事。如今这些名字都已经成为过去式，原有道路被改造成商业片区，也换上了和时髦外表相应的“洋名”。</p>\n<p>　　小区喜欢用洋名，觉得用了洋名，品位就提高了。对国际化的非理性看法，导致了“洋地名”泛滥，其中商业炒作发挥了推波助澜的作用。</p>\n<p>　　不过市民对“洋地名”却不怎么买账。“原本记得大概位置的，有些地方换了站名，找都找不到了；有些‘洋地名’，记都记不住，说也说不出来。”一位老年市民抱怨，不少地名盲目跟风，导致土生土长的他“在自己家，却迷了路”。</p>\n<p>　　“假如翠湖旁边的小区改名叫瓦尔登别墅，轿子雪山景区的酒店改称阿尔卑斯小屋，你会怎么想？在‘名古屋’甩米线，听起来就别扭！”调侃吐槽的背后，更说明城市的发展需要格外呵护历史传统和文化底蕴，这也是不同城市各自魅力的根源所在。</p>\n<p>　　“如果国外游客请一位热情好客的市民留个地址以便以后交往，市民留的地址是：某市戛纳风情街或者泰晤士小镇，你说外国人会有什么样的看法？”城市历史研究者赵立认为，消解传统文化并不是非要拆旧建筑、烧古书，地名变成洋名，也是一种隐性的消解。</p>\n<p>　　“不少传统地名能够解读出一个地方大概的位置、曾经发生过的历史事件，地名承载了一个地方的地理、历史、文化信息，盲目使用‘洋地名’，会造成传统文化的断代。”云南大学建筑与规划学院国际交流部部长汪洁泉告诉记者，一个好的地名不仅有助于指示方位、方便居民生活，更能唤起年轻一代对城市历史的兴趣，增强年轻一代对城市的认同感。</p>\n<p>　　地名是地方文化的重要标志，每个地方气候地理、风俗习惯、生活方式各不相同，因此也会形成不同的“地名文化”。胡乱起洋名，必会破坏这些文化传承。对洋地名的追逐，不仅容易迷失自我，还照见了一种懒惰思维，更折射出一种文化的不自信。其实，《地名管理条例实施细则》明确规定不以外国人名、地名命名我国地名，其中包括居民区、楼群、建筑物等。目前，清理整治居民区、大型建筑物、街巷、道路、桥梁等地名中存在的“大、洋、怪、重”等不规范地名的工作正在进行，希望各地在更名工作中更加注重历史文脉保护。</p>\n<p>　　——编 后</p>\n<p>[<a target=\"_blank\" href=\"http://paper.people.com.cn/rmrb/html/2016-04/10/nw.D110000renmrb_20160410_6-01.htm\">原文：《 人民日报 》（ 2016年04月10日 01 版）</a>]</p>\n<hr>","frontmatter":{"path":"/fM7xdZlCZeEbnWHzsUKY0DJB","title":"随意取洋名，真叫人犯晕","date":"2016-08-24 03:13:56 +0800","comments":true,"categories":"conversation","author":"杨文明","tags":["思考"]},"excerpt":"…"}},{"node":{"id":"5a0f4da0-7870-53b1-af9d-30000bc6b342","html":"<p>以前用 <code>hexo</code> 维护网站的时候评论系统用的是多说，虽然 <code>octopress</code> 自带了一个 <code>disqus</code> 评论系统，不过感觉还是没有多说强大。所以这次改版之后也决定用多说。</p>\n<h2> </h2>\n<h3>添加文章评论</h3>\n<p>在 <code>_config.yml</code> 中找到 <code>disqus</code> 配置</p>\n<pre class=\"editor editor-colors\"><div class=\"line\"><span class=\"text plain null-grammar\"><span>#&nbsp;Disqus&nbsp;Comments</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>disqus_short_name:</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>disqus_show_comment_count:&nbsp;false</span></span></div></pre>\n<!--more-->\n<p>在下面添加</p>\n<pre class=\"editor editor-colors\"><div class=\"line\"><span class=\"text plain null-grammar\"><span>duoshuo_comments:&nbsp;true</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>duoshuo_short_name:&nbsp;xxxxxx&nbsp;&nbsp;#&nbsp;多说帐号</span></span></div></pre>\n<p>在 <code>source/_layouts/post.html</code> 中的 <code>disqus</code> 代码</p>\n<pre class=\"editor editor-colors\"><div class=\"line\"><span class=\"text html basic\"><span>{%&nbsp;if&nbsp;site.disqus_short_name&nbsp;and&nbsp;page.comments&nbsp;==&nbsp;true&nbsp;%}</span></span></div><div class=\"line\"><span class=\"text html basic\"><span>&nbsp;&nbsp;</span><span class=\"meta tag block any html\"><span class=\"punctuation definition tag begin html\"><span>&lt;</span></span><span class=\"entity name tag block any html\"><span>section</span></span><span class=\"punctuation definition tag end html\"><span>&gt;</span></span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"meta tag block any html\"><span class=\"punctuation definition tag begin html\"><span>&lt;</span></span><span class=\"entity name tag block any html\"><span>h1</span></span><span class=\"punctuation definition tag end html\"><span>&gt;</span></span></span><span class=\"meta tag any html\"><span class=\"punctuation definition tag html\"><span>&lt;</span></span><span class=\"entity name tag html\"><span>i</span></span><span>&nbsp;</span><span class=\"entity other attribute-name html\"><span>class</span></span><span>=</span><span class=\"string quoted double html\"><span class=\"punctuation definition string begin html\"><span>&quot;</span></span><span>fa&nbsp;fa-comments</span><span class=\"punctuation definition string end html\"><span>&quot;</span></span></span><span class=\"punctuation definition tag html\"><span>&gt;</span><span class=\"meta scope between-tag-pair html\"><span>&lt;</span></span><span>/</span></span><span class=\"entity name tag html\"><span>i</span></span><span class=\"punctuation definition tag html\"><span>&gt;</span></span></span><span>&nbsp;Comments</span><span class=\"meta tag block any html\"><span class=\"punctuation definition tag begin html\"><span>&lt;/</span></span><span class=\"entity name tag block any html\"><span>h1</span></span><span class=\"punctuation definition tag end html\"><span>&gt;</span></span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"meta tag block any html\"><span class=\"punctuation definition tag begin html\"><span>&lt;</span></span><span class=\"entity name tag block any html\"><span>div</span></span><span>&nbsp;</span><span class=\"meta attribute-with-value id html\"><span class=\"entity other attribute-name id html\"><span>id</span></span><span class=\"punctuation separator key-value html\"><span>=</span></span><span class=\"string quoted double html\"><span class=\"punctuation definition string begin html\"><span>&quot;</span></span><span class=\"meta toc-list id html\"><span>disqus_thread</span></span><span class=\"punctuation definition string end html\"><span>&quot;</span></span></span></span><span>&nbsp;</span><span class=\"entity other attribute-name html\"><span>aria-live</span></span><span>=</span><span class=\"string quoted double html\"><span class=\"punctuation definition string begin html\"><span>&quot;</span></span><span>polite</span><span class=\"punctuation definition string end html\"><span>&quot;</span></span></span><span class=\"punctuation definition tag end html\"><span>&gt;</span></span></span><span>{%&nbsp;include&nbsp;post/disqus_thread.html&nbsp;%}</span><span class=\"meta tag block any html\"><span class=\"punctuation definition tag begin html\"><span>&lt;/</span></span><span class=\"entity name tag block any html\"><span>div</span></span><span class=\"punctuation definition tag end html\"><span>&gt;</span></span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span>&nbsp;&nbsp;</span><span class=\"meta tag block any html\"><span class=\"punctuation definition tag begin html\"><span>&lt;/</span></span><span class=\"entity name tag block any html\"><span>section</span></span><span class=\"punctuation definition tag end html\"><span>&gt;</span></span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span>{%&nbsp;endif&nbsp;%}</span></span></div></pre>\n<p>下面添加多说的模块</p>\n<pre class=\"editor editor-colors\"><div class=\"line\"><span class=\"text html basic\"><span>{%&nbsp;if&nbsp;site.duoshuo_short_name&nbsp;and&nbsp;site.duoshuo_comments&nbsp;==&nbsp;true&nbsp;and&nbsp;page.comments&nbsp;==&nbsp;true&nbsp;%}</span></span></div><div class=\"line\"><span class=\"text html basic\"><span>&nbsp;&nbsp;</span><span class=\"meta tag block any html\"><span class=\"punctuation definition tag begin html\"><span>&lt;</span></span><span class=\"entity name tag block any html\"><span>section</span></span><span class=\"punctuation definition tag end html\"><span>&gt;</span></span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"meta tag block any html\"><span class=\"punctuation definition tag begin html\"><span>&lt;</span></span><span class=\"entity name tag block any html\"><span>h1</span></span><span class=\"punctuation definition tag end html\"><span>&gt;</span></span></span><span class=\"meta tag any html\"><span class=\"punctuation definition tag html\"><span>&lt;</span></span><span class=\"entity name tag html\"><span>i</span></span><span>&nbsp;</span><span class=\"entity other attribute-name html\"><span>class</span></span><span>=</span><span class=\"string quoted double html\"><span class=\"punctuation definition string begin html\"><span>&quot;</span></span><span>fa&nbsp;fa-comments</span><span class=\"punctuation definition string end html\"><span>&quot;</span></span></span><span class=\"punctuation definition tag html\"><span>&gt;</span><span class=\"meta scope between-tag-pair html\"><span>&lt;</span></span><span>/</span></span><span class=\"entity name tag html\"><span>i</span></span><span class=\"punctuation definition tag html\"><span>&gt;</span></span></span><span>&nbsp;Comments</span><span class=\"meta tag block any html\"><span class=\"punctuation definition tag begin html\"><span>&lt;/</span></span><span class=\"entity name tag block any html\"><span>h1</span></span><span class=\"punctuation definition tag end html\"><span>&gt;</span></span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"meta tag block any html\"><span class=\"punctuation definition tag begin html\"><span>&lt;</span></span><span class=\"entity name tag block any html\"><span>div</span></span><span>&nbsp;</span><span class=\"meta attribute-with-value id html\"><span class=\"entity other attribute-name id html\"><span>id</span></span><span class=\"punctuation separator key-value html\"><span>=</span></span><span class=\"string quoted double html\"><span class=\"punctuation definition string begin html\"><span>&quot;</span></span><span class=\"meta toc-list id html\"><span>comments</span></span><span class=\"punctuation definition string end html\"><span>&quot;</span></span></span></span><span>&nbsp;</span><span class=\"entity other attribute-name html\"><span>aria-live</span></span><span>=</span><span class=\"string quoted double html\"><span class=\"punctuation definition string begin html\"><span>&quot;</span></span><span>polite</span><span class=\"punctuation definition string end html\"><span>&quot;</span></span></span><span class=\"punctuation definition tag end html\"><span>&gt;</span></span></span><span>{%&nbsp;include&nbsp;post/duoshuo.html&nbsp;%}</span><span class=\"meta tag block any html\"><span class=\"punctuation definition tag begin html\"><span>&lt;/</span></span><span class=\"entity name tag block any html\"><span>div</span></span><span class=\"punctuation definition tag end html\"><span>&gt;</span></span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span>&nbsp;&nbsp;</span><span class=\"meta tag block any html\"><span class=\"punctuation definition tag begin html\"><span>&lt;/</span></span><span class=\"entity name tag block any html\"><span>section</span></span><span class=\"punctuation definition tag end html\"><span>&gt;</span></span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span>{%&nbsp;endif&nbsp;%}</span></span></div></pre>\n<p>然后创建上面代码提及的新文件 <code>post/duoshuo.html</code> 具体路径是 <code>source/_includes/post/duoshuo.html</code></p>\n<pre class=\"editor editor-colors\"><div class=\"line\"><span class=\"text html basic\"><span class=\"comment block html\"><span class=\"punctuation definition comment html\"><span>&lt;!--</span></span><span>&nbsp;多说评论框&nbsp;start&nbsp;</span><span class=\"punctuation definition comment html\"><span>--&gt;</span></span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span class=\"meta tag any html\"><span class=\"punctuation definition tag html\"><span>&lt;</span></span><span class=\"entity name tag html\"><span>div</span></span><span>&nbsp;</span><span class=\"entity other attribute-name html\"><span>class</span></span><span>=</span><span class=\"string quoted double html\"><span class=\"punctuation definition string begin html\"><span>&quot;</span></span><span>ds-thread</span><span class=\"punctuation definition string end html\"><span>&quot;</span></span></span><span>&nbsp;</span><span class=\"entity other attribute-name html\"><span>data-thread-key</span></span><span>=</span><span class=\"string quoted double html\"><span class=\"punctuation definition string begin html\"><span>&quot;</span></span><span>{%&nbsp;if&nbsp;site.titlecase&nbsp;%}{{&nbsp;page.title&nbsp;|&nbsp;titlecase&nbsp;}}{%&nbsp;else&nbsp;%}{{&nbsp;page.title&nbsp;}}{%&nbsp;endif&nbsp;%}</span><span class=\"punctuation definition string end html\"><span>&quot;</span></span></span><span>&nbsp;</span><span class=\"entity other attribute-name html\"><span>data-title</span></span><span>=</span><span class=\"string quoted double html\"><span class=\"punctuation definition string begin html\"><span>&quot;</span></span><span>{%&nbsp;if&nbsp;site.titlecase&nbsp;%}{{&nbsp;page.title&nbsp;|&nbsp;titlecase&nbsp;}}{%&nbsp;else&nbsp;%}{{&nbsp;page.title&nbsp;}}{%&nbsp;endif&nbsp;%}</span><span class=\"punctuation definition string end html\"><span>&quot;</span></span></span><span>&nbsp;</span><span class=\"entity other attribute-name html\"><span>data-url</span></span><span>=</span><span class=\"string quoted double html\"><span class=\"punctuation definition string begin html\"><span>&quot;</span></span><span>{{page.previous.url}}</span><span class=\"punctuation definition string end html\"><span>&quot;</span></span></span><span class=\"punctuation definition tag html\"><span>&gt;</span><span class=\"meta scope between-tag-pair html\"><span>&lt;</span></span><span>/</span></span><span class=\"entity name tag html\"><span>div</span></span><span class=\"punctuation definition tag html\"><span>&gt;</span></span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span class=\"comment block html\"><span class=\"punctuation definition comment html\"><span>&lt;!--</span></span><span>&nbsp;多说评论框&nbsp;end&nbsp;</span><span class=\"punctuation definition comment html\"><span>--&gt;</span></span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span class=\"comment block html\"><span class=\"punctuation definition comment html\"><span>&lt;!--</span></span><span>&nbsp;多说公共JS代码&nbsp;start&nbsp;(一个网页只需插入一次)&nbsp;</span><span class=\"punctuation definition comment html\"><span>--&gt;</span></span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span class=\"source js embedded html\"><span class=\"punctuation definition tag html\"><span>&lt;</span></span><span class=\"entity name tag script html\"><span>script</span></span><span>&nbsp;</span><span class=\"entity other attribute-name html\"><span>type</span></span><span>=</span><span class=\"string quoted double html\"><span class=\"punctuation definition string begin html\"><span>&quot;</span></span><span>text/javascript</span><span class=\"punctuation definition string end html\"><span>&quot;</span></span></span><span class=\"punctuation definition tag html\"><span>&gt;</span></span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span class=\"source js embedded html\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"storage type var js\"><span>var</span></span><span>&nbsp;duoshuoQuery&nbsp;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&nbsp;</span><span class=\"meta brace curly js\"><span>{</span></span><span>short_name</span><span class=\"keyword operator assignment js\"><span>:</span></span><span class=\"string quoted double js\"><span class=\"punctuation definition string begin js\"><span>&quot;</span></span><span>{{&nbsp;site.duoshuo_short_name&nbsp;}}</span><span class=\"punctuation definition string end js\"><span>&quot;</span></span></span><span class=\"meta brace curly js\"><span>}</span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span class=\"source js embedded html\"><span>\t</span><span class=\"meta brace round js\"><span>(</span></span><span class=\"meta function js\"><span class=\"storage type function js\"><span>function</span></span><span class=\"meta parameters js\"><span class=\"punctuation definition parameters begin bracket round js\"><span>(</span></span><span class=\"punctuation definition parameters end bracket round js\"><span>)</span></span></span></span><span>&nbsp;</span><span class=\"punctuation definition function body begin bracket curly js\"><span>{</span></span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span class=\"source js embedded html\"><span>\t\t</span><span class=\"storage type var js\"><span>var</span></span><span>&nbsp;ds&nbsp;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&nbsp;</span><span class=\"support variable dom js\"><span>document</span></span><span class=\"meta method-call js\"><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"support function dom js\"><span>createElement</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&#39;</span></span><span>script</span><span class=\"punctuation definition string end js\"><span>&#39;</span></span></span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span class=\"source js embedded html\"><span>\t\t</span><span class=\"variable other object js\"><span>ds</span></span><span class=\"meta delimiter property period js\"><span>.</span></span><span class=\"support variable property dom js\"><span>type</span></span><span>&nbsp;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&nbsp;</span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&#39;</span></span><span>text/javascript</span><span class=\"punctuation definition string end js\"><span>&#39;</span></span></span><span class=\"punctuation terminator statement js\"><span>;</span></span><span class=\"variable other object js\"><span>ds</span></span><span class=\"meta delimiter property period js\"><span>.</span></span><span class=\"variable other property js\"><span>async</span></span><span>&nbsp;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&nbsp;</span><span class=\"constant language boolean true js\"><span>true</span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span class=\"source js embedded html\"><span>\t\t</span><span class=\"variable other object js\"><span>ds</span></span><span class=\"meta delimiter property period js\"><span>.</span></span><span class=\"variable other property js\"><span>src</span></span><span>&nbsp;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&nbsp;</span><span class=\"meta brace round js\"><span>(</span></span><span class=\"support variable dom js\"><span>document</span></span><span class=\"meta delimiter property period js\"><span>.</span></span><span class=\"support variable property dom js\"><span>location</span></span><span class=\"meta delimiter property period js\"><span>.</span></span><span class=\"support variable property dom js\"><span>protocol</span></span><span>&nbsp;</span><span class=\"keyword operator comparison js\"><span>==</span></span><span>&nbsp;</span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&#39;</span></span><span>https:</span><span class=\"punctuation definition string end js\"><span>&#39;</span></span></span><span>&nbsp;</span><span class=\"keyword operator ternary js\"><span>?</span></span><span>&nbsp;</span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&#39;</span></span><span>https:</span><span class=\"punctuation definition string end js\"><span>&#39;</span></span></span><span>&nbsp;</span><span class=\"keyword operator ternary js\"><span>:</span></span><span>&nbsp;</span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&#39;</span></span><span>http:</span><span class=\"punctuation definition string end js\"><span>&#39;</span></span></span><span class=\"meta brace round js\"><span>)</span></span><span>&nbsp;</span><span class=\"keyword operator js\"><span>+</span></span><span>&nbsp;</span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&#39;</span></span><span>//static.duoshuo.com/embed.js</span><span class=\"punctuation definition string end js\"><span>&#39;</span></span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span class=\"source js embedded html\"><span>\t\t</span><span class=\"variable other object js\"><span>ds</span></span><span class=\"meta delimiter property period js\"><span>.</span></span><span class=\"support variable property dom js\"><span>charset</span></span><span>&nbsp;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&nbsp;</span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&#39;</span></span><span>UTF-8</span><span class=\"punctuation definition string end js\"><span>&#39;</span></span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span class=\"source js embedded html\"><span>\t\t</span><span class=\"meta brace round js\"><span>(</span></span><span class=\"support variable dom js\"><span>document</span></span><span class=\"meta method-call js\"><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"support function dom js\"><span>getElementsByTagName</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&#39;</span></span><span>head</span><span class=\"punctuation definition string end js\"><span>&#39;</span></span></span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span></span><span class=\"meta brace square js\"><span>[</span></span><span class=\"constant numeric decimal js\"><span>0</span></span><span class=\"meta brace square js\"><span>]</span></span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span class=\"source js embedded html\"><span>\t\t&nbsp;</span><span class=\"keyword operator logical js\"><span>||</span></span><span>&nbsp;</span><span class=\"support variable dom js\"><span>document</span></span><span class=\"meta method-call js\"><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"support function dom js\"><span>getElementsByTagName</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&#39;</span></span><span>body</span><span class=\"punctuation definition string end js\"><span>&#39;</span></span></span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span></span><span class=\"meta brace square js\"><span>[</span></span><span class=\"constant numeric decimal js\"><span>0</span></span><span class=\"meta brace square js\"><span>]</span></span><span class=\"meta brace round js\"><span>)</span></span><span class=\"meta method-call js\"><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"support function dom js\"><span>appendChild</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span>ds</span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span class=\"source js embedded html\"><span>\t</span><span class=\"punctuation definition function body end bracket curly js\"><span>}</span></span><span class=\"meta brace round js\"><span>)</span><span>(</span><span>)</span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span class=\"source js embedded html\"><span class=\"punctuation definition tag html\"><span>&lt;/</span></span><span class=\"entity name tag script html\"><span>script</span></span><span class=\"punctuation definition tag html\"><span>&gt;</span></span><span>&nbsp;</span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span class=\"comment block html\"><span class=\"punctuation definition comment html\"><span>&lt;!--</span></span><span>&nbsp;多说公共JS代码&nbsp;end&nbsp;</span><span class=\"punctuation definition comment html\"><span>--&gt;</span></span></span></span></div></pre>\n<h5>* 这里注意一下 <code>data-thread-key</code> 属性，如果不写，控制台会有警告信息。设置成跟 <code>data-title</code> 一样就好。</h5>\n<p>学 <code>disqus</code> 的实现方式，在文章头部也再加个评论按钮。修改 <code>_includes/article.html</code> 文件。</p>\n<pre class=\"editor editor-colors\"><div class=\"line\"><span class=\"text html basic\"><span>{%&nbsp;if&nbsp;site.disqus_short_name&nbsp;and&nbsp;page.comments&nbsp;!=&nbsp;false&nbsp;and&nbsp;post.comments&nbsp;!=&nbsp;false&nbsp;and&nbsp;site.disqus_show_comment_count&nbsp;==&nbsp;true&nbsp;%}</span></span></div><div class=\"line\"><span class=\"text html basic\"><span>&nbsp;&nbsp;&nbsp;|&nbsp;</span><span class=\"meta tag inline any html\"><span class=\"punctuation definition tag begin html\"><span>&lt;</span></span><span class=\"entity name tag inline any html\"><span>a</span></span><span>&nbsp;</span><span class=\"entity other attribute-name html\"><span>href</span></span><span>=</span><span class=\"string quoted double html\"><span class=\"punctuation definition string begin html\"><span>&quot;</span></span><span>{%&nbsp;if&nbsp;index&nbsp;%}{{&nbsp;root_url&nbsp;}}{{&nbsp;post.url&nbsp;}}{%&nbsp;endif&nbsp;%}#disqus_thread</span><span class=\"punctuation definition string end html\"><span>&quot;</span></span></span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span class=\"meta tag inline any html\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"entity other attribute-name html\"><span>data-disqus-identifier</span></span><span>=</span><span class=\"string quoted double html\"><span class=\"punctuation definition string begin html\"><span>&quot;</span></span><span>{%&nbsp;if&nbsp;post.meta.disqus_id&nbsp;%}{{&nbsp;post.meta.disqus_id&nbsp;}}{%&nbsp;else&nbsp;%}{{&nbsp;site.url&nbsp;}}{{&nbsp;post.url&nbsp;}}{%&nbsp;endif&nbsp;%}</span><span class=\"punctuation definition string end html\"><span>&quot;</span></span></span><span class=\"punctuation definition tag end html\"><span>&gt;</span></span></span><span>Comments</span><span class=\"meta tag inline any html\"><span class=\"punctuation definition tag begin html\"><span>&lt;/</span></span><span class=\"entity name tag inline any html\"><span>a</span></span><span class=\"punctuation definition tag end html\"><span>&gt;</span></span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span>{%&nbsp;endif&nbsp;%}</span></span></div></pre>\n<p>下方添加多说代码部分</p>\n<pre class=\"editor editor-colors\"><div class=\"line\"><span class=\"text html basic\"><span>{%&nbsp;if&nbsp;site.duoshuo_short_name&nbsp;and&nbsp;page.comments&nbsp;!=&nbsp;false&nbsp;and&nbsp;post.comments&nbsp;!=&nbsp;false&nbsp;and&nbsp;site.duoshuo_comments&nbsp;==&nbsp;true&nbsp;%}</span></span></div><div class=\"line\"><span class=\"text html basic\"><span>&nbsp;|&nbsp;</span><span class=\"meta tag inline any html\"><span class=\"punctuation definition tag begin html\"><span>&lt;</span></span><span class=\"entity name tag inline any html\"><span>a</span></span><span>&nbsp;</span><span class=\"entity other attribute-name html\"><span>href</span></span><span>=</span><span class=\"string quoted double html\"><span class=\"punctuation definition string begin html\"><span>&quot;</span></span><span>{%&nbsp;if&nbsp;index&nbsp;%}{{&nbsp;root_url&nbsp;}}{{&nbsp;post.url&nbsp;}}{%&nbsp;endif&nbsp;%}#comments</span><span class=\"punctuation definition string end html\"><span>&quot;</span></span></span><span class=\"punctuation definition tag end html\"><span>&gt;</span></span></span><span>评论</span><span class=\"meta tag inline any html\"><span class=\"punctuation definition tag begin html\"><span>&lt;/</span></span><span class=\"entity name tag inline any html\"><span>a</span></span><span class=\"punctuation definition tag end html\"><span>&gt;</span></span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span>{%&nbsp;endif&nbsp;%}</span></span></div></pre>\n<p>基本功能大功告成</p>\n<h2> </h2>\n<h3>侧边栏现实最新评论</h3>\n<p>在 _config.yml 添加如下配置:</p>\n<pre class=\"editor editor-colors\"><div class=\"line\"><span class=\"text plain null-grammar\"><span>duoshuo_asides:&nbsp;false&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;是否显示侧边栏</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>duoshuo_asides_num:&nbsp;10&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;侧边栏评论显示条目数</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>duoshuo_asides_avatars:&nbsp;0&nbsp;&nbsp;&nbsp;#&nbsp;侧边栏评论是否显示头像</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>duoshuo_asides_time:&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;侧边栏评论是否显示时间</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>duoshuo_asides_title:&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;侧边栏评论是否显示标题</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>duoshuo_asides_admin:&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;侧边栏评论是否显示作者评论</span></span></div><div class=\"line\"><span class=\"text plain null-grammar\"><span>duoshuo_asides_length:&nbsp;18&nbsp;&nbsp;&nbsp;#&nbsp;侧边栏评论截取的长度</span></span></div></pre>\n<p>还需要在侧边栏插件文件夹创建评论代码</p>\n<pre class=\"editor editor-colors\"><div class=\"line\"><span class=\"text html basic\"><span>{%&nbsp;if&nbsp;site.duoshuo_asides&nbsp;%}</span></span></div><div class=\"line\"><span class=\"text html basic\"><span class=\"meta tag block any html\"><span class=\"punctuation definition tag begin html\"><span>&lt;</span></span><span class=\"entity name tag block any html\"><span>section</span></span><span class=\"punctuation definition tag end html\"><span>&gt;</span></span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"meta tag block any html\"><span class=\"punctuation definition tag begin html\"><span>&lt;</span></span><span class=\"entity name tag block any html\"><span>h1</span></span><span class=\"punctuation definition tag end html\"><span>&gt;</span></span></span><span class=\"meta tag any html\"><span class=\"punctuation definition tag html\"><span>&lt;</span></span><span class=\"entity name tag html\"><span>i</span></span><span>&nbsp;</span><span class=\"entity other attribute-name html\"><span>class</span></span><span>=</span><span class=\"string quoted double html\"><span class=\"punctuation definition string begin html\"><span>&quot;</span></span><span>fa&nbsp;fa-comments</span><span class=\"punctuation definition string end html\"><span>&quot;</span></span></span><span class=\"punctuation definition tag html\"><span>&gt;</span><span class=\"meta scope between-tag-pair html\"><span>&lt;</span></span><span>/</span></span><span class=\"entity name tag html\"><span>i</span></span><span class=\"punctuation definition tag html\"><span>&gt;</span></span></span><span>&nbsp;Recent&nbsp;Comments</span><span class=\"meta tag block any html\"><span class=\"punctuation definition tag begin html\"><span>&lt;/</span></span><span class=\"entity name tag block any html\"><span>h1</span></span><span class=\"punctuation definition tag end html\"><span>&gt;</span></span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"meta tag any html\"><span class=\"punctuation definition tag html\"><span>&lt;</span></span><span class=\"entity name tag html\"><span>ul</span></span><span>&nbsp;</span><span class=\"entity other attribute-name html\"><span>class</span></span><span>=</span><span class=\"string quoted double html\"><span class=\"punctuation definition string begin html\"><span>&quot;</span></span><span>ds-recent-comments</span><span class=\"punctuation definition string end html\"><span>&quot;</span></span></span><span>&nbsp;</span><span class=\"entity other attribute-name html\"><span>data-num-items</span></span><span>=</span><span class=\"string quoted double html\"><span class=\"punctuation definition string begin html\"><span>&quot;</span></span><span>{{&nbsp;site.duoshuo_asides_num&nbsp;}}</span><span class=\"punctuation definition string end html\"><span>&quot;</span></span></span><span>&nbsp;</span><span class=\"entity other attribute-name html\"><span>data-show-avatars</span></span><span>=</span><span class=\"string quoted double html\"><span class=\"punctuation definition string begin html\"><span>&quot;</span></span><span>{{&nbsp;site.duoshuo_asides_avatars&nbsp;}}</span><span class=\"punctuation definition string end html\"><span>&quot;</span></span></span><span>&nbsp;</span><span class=\"entity other attribute-name html\"><span>data-show-time</span></span><span>=</span><span class=\"string quoted double html\"><span class=\"punctuation definition string begin html\"><span>&quot;</span></span><span>{{&nbsp;site.duoshuo_asides_time&nbsp;}}</span><span class=\"punctuation definition string end html\"><span>&quot;</span></span></span><span>&nbsp;</span><span class=\"entity other attribute-name html\"><span>data-show-title</span></span><span>=</span><span class=\"string quoted double html\"><span class=\"punctuation definition string begin html\"><span>&quot;</span></span><span>{{&nbsp;site.duoshuo_asides_title&nbsp;}}</span><span class=\"punctuation definition string end html\"><span>&quot;</span></span></span><span>&nbsp;</span><span class=\"entity other attribute-name html\"><span>data-show-admin</span></span><span>=</span><span class=\"string quoted double html\"><span class=\"punctuation definition string begin html\"><span>&quot;</span></span><span>{{&nbsp;site.duoshuo_asides_admin&nbsp;}}</span><span class=\"punctuation definition string end html\"><span>&quot;</span></span></span><span>&nbsp;</span><span class=\"entity other attribute-name html\"><span>data-excerpt-length</span></span><span>=</span><span class=\"string quoted double html\"><span class=\"punctuation definition string begin html\"><span>&quot;</span></span><span>{{&nbsp;site.duoshuo_asides_length&nbsp;}}</span><span class=\"punctuation definition string end html\"><span>&quot;</span></span></span><span class=\"punctuation definition tag html\"><span>&gt;</span><span class=\"meta scope between-tag-pair html\"><span>&lt;</span></span><span>/</span></span><span class=\"entity name tag html\"><span>ul</span></span><span class=\"punctuation definition tag html\"><span>&gt;</span></span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span>&nbsp;&nbsp;&nbsp;&nbsp;{%&nbsp;if&nbsp;index&nbsp;%}</span></span></div><div class=\"line\"><span class=\"text html basic\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"comment block html\"><span class=\"punctuation definition comment html\"><span>&lt;!--</span></span><span>多说js加载开始，一个页面只需要加载一次&nbsp;</span><span class=\"punctuation definition comment html\"><span>--&gt;</span></span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span class=\"source js embedded html\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"punctuation definition tag html\"><span>&lt;</span></span><span class=\"entity name tag script html\"><span>script</span></span><span>&nbsp;</span><span class=\"entity other attribute-name html\"><span>type</span></span><span>=</span><span class=\"string quoted double html\"><span class=\"punctuation definition string begin html\"><span>&quot;</span></span><span>text/javascript</span><span class=\"punctuation definition string end html\"><span>&quot;</span></span></span><span class=\"punctuation definition tag html\"><span>&gt;</span></span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span class=\"source js embedded html\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"storage type var js\"><span>var</span></span><span>&nbsp;duoshuoQuery&nbsp;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&nbsp;</span><span class=\"meta brace curly js\"><span>{</span></span><span>short_name</span><span class=\"keyword operator assignment js\"><span>:</span></span><span class=\"string quoted double js\"><span class=\"punctuation definition string begin js\"><span>&quot;</span></span><span>{{&nbsp;site.duoshuo_short_name&nbsp;}}</span><span class=\"punctuation definition string end js\"><span>&quot;</span></span></span><span class=\"meta brace curly js\"><span>}</span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span class=\"source js embedded html\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"meta brace round js\"><span>(</span></span><span class=\"meta function js\"><span class=\"storage type function js\"><span>function</span></span><span class=\"meta parameters js\"><span class=\"punctuation definition parameters begin bracket round js\"><span>(</span></span><span class=\"punctuation definition parameters end bracket round js\"><span>)</span></span></span></span><span>&nbsp;</span><span class=\"punctuation definition function body begin bracket curly js\"><span>{</span></span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span class=\"source js embedded html\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"storage type var js\"><span>var</span></span><span>&nbsp;ds&nbsp;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&nbsp;</span><span class=\"support variable dom js\"><span>document</span></span><span class=\"meta method-call js\"><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"support function dom js\"><span>createElement</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&#39;</span></span><span>script</span><span class=\"punctuation definition string end js\"><span>&#39;</span></span></span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span class=\"source js embedded html\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"variable other object js\"><span>ds</span></span><span class=\"meta delimiter property period js\"><span>.</span></span><span class=\"support variable property dom js\"><span>type</span></span><span>&nbsp;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&nbsp;</span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&#39;</span></span><span>text/javascript</span><span class=\"punctuation definition string end js\"><span>&#39;</span></span></span><span class=\"punctuation terminator statement js\"><span>;</span></span><span class=\"variable other object js\"><span>ds</span></span><span class=\"meta delimiter property period js\"><span>.</span></span><span class=\"variable other property js\"><span>async</span></span><span>&nbsp;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&nbsp;</span><span class=\"constant language boolean true js\"><span>true</span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span class=\"source js embedded html\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"variable other object js\"><span>ds</span></span><span class=\"meta delimiter property period js\"><span>.</span></span><span class=\"variable other property js\"><span>src</span></span><span>&nbsp;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&nbsp;</span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&#39;</span></span><span class=\"markup underline link http hyperlink\"><span>http://static.duoshuo.com/embed.js</span></span><span class=\"punctuation definition string end js\"><span>&#39;</span></span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span class=\"source js embedded html\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"variable other object js\"><span>ds</span></span><span class=\"meta delimiter property period js\"><span>.</span></span><span class=\"support variable property dom js\"><span>charset</span></span><span>&nbsp;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&nbsp;</span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&#39;</span></span><span>UTF-8</span><span class=\"punctuation definition string end js\"><span>&#39;</span></span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span class=\"source js embedded html\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"meta brace round js\"><span>(</span></span><span class=\"support variable dom js\"><span>document</span></span><span class=\"meta method-call js\"><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"support function dom js\"><span>getElementsByTagName</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&#39;</span></span><span>head</span><span class=\"punctuation definition string end js\"><span>&#39;</span></span></span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span></span><span class=\"meta brace square js\"><span>[</span></span><span class=\"constant numeric decimal js\"><span>0</span></span><span class=\"meta brace square js\"><span>]</span></span><span>&nbsp;</span><span class=\"keyword operator logical js\"><span>||</span></span><span>&nbsp;</span><span class=\"support variable dom js\"><span>document</span></span><span class=\"meta method-call js\"><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"support function dom js\"><span>getElementsByTagName</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&#39;</span></span><span>body</span><span class=\"punctuation definition string end js\"><span>&#39;</span></span></span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span></span><span class=\"meta brace square js\"><span>[</span></span><span class=\"constant numeric decimal js\"><span>0</span></span><span class=\"meta brace square js\"><span>]</span></span><span class=\"meta brace round js\"><span>)</span></span><span class=\"meta method-call js\"><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"support function dom js\"><span>appendChild</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span>ds</span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span class=\"source js embedded html\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"punctuation definition function body end bracket curly js\"><span>}</span></span><span class=\"meta brace round js\"><span>)</span><span>(</span><span>)</span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span class=\"source js embedded html\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"punctuation definition tag html\"><span>&lt;/</span></span><span class=\"entity name tag script html\"><span>script</span></span><span class=\"punctuation definition tag html\"><span>&gt;</span></span><span>&nbsp;</span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"comment block html\"><span class=\"punctuation definition comment html\"><span>&lt;!--</span></span><span>多说js加载结束，一个页面只需要加载一次&nbsp;</span><span class=\"punctuation definition comment html\"><span>--&gt;</span></span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span>&nbsp;&nbsp;&nbsp;&nbsp;{%&nbsp;endif&nbsp;%}</span></span></div><div class=\"line\"><span class=\"text html basic\"><span class=\"meta tag block any html\"><span class=\"punctuation definition tag begin html\"><span>&lt;/</span></span><span class=\"entity name tag block any html\"><span>section</span></span><span class=\"punctuation definition tag end html\"><span>&gt;</span></span></span></span></div><div class=\"line\"><span class=\"text html basic\"><span>{%&nbsp;endif&nbsp;%}</span></span></div></pre>\n<p>如果没有评价，不需要显示孤零零的变迁，可以把 <code>duoshuo_asides</code> 设置成 <code>false</code>。</p>\n<p>最后在 <code>_config.yml</code> 的侧边栏数组中添加页面</p>\n<pre class=\"editor editor-colors\"><div class=\"line\"><span class=\"text plain null-grammar\"><span>default_asides:&nbsp;[asides/about.html,&nbsp;asides/recent_posts.html,&nbsp;asides/recent_comments.html,&nbsp;asides/links.html,&nbsp;asides/github.html,&nbsp;asides/delicious.html,&nbsp;asides/pinboard.html,&nbsp;asides/googleplus.html]</span></span></div></pre>\n<p>我选择在最新文章和链接之间显示最新评论。</p>\n<hr>","frontmatter":{"path":"/NgHhhZtj9hAW8PSWKfQB9WEH","title":"Octopress 博客添加多说评论系统","date":"2016-08-17 20:07:10 +0800","comments":true,"categories":"programming","author":"Sir0xb","tags":["octopress","多说"]},"excerpt":"以前用  hexo  维护网站的时候评论系统用的是多说，虽然  octopress  自带了一个  disqus  评论系统，不过感觉还是没有多说强大。所以这次改版之后也决定用多说。   添加文章评论 在  _config.yml  中找到  disqus…"}},{"node":{"id":"94a2599b-d042-56b4-afb5-970ca7d0c529","html":"<p>github 很慷慨的为程序员们提供了静态站功能，还给开启了 https 访问。比如我的站点 [<a target=\"_blank\" href=\"https://sir0xb.github.io\">https://sir0xb.github.io</a>]。虽然也很不错，不过对于想要追求完美的人来说，总感觉少了点什么(独立域名呗)。不过申请了独立域名之后，github 提供的 https 访问方式没发继续了。</p>\n<p>我的域名是阿里云(原来叫万网)购买的，就以阿里为例讲下如何解决 https 访问问题。</p>\n<h4>1.在 [<a target=\"_blank\" href=\"https://www.cloudflare.com\">https://www.cloudflare.com</a>] 注册帐号</h4>\n<p>具体注册过程不讲了，将自己的域名验证完之后，可以在 DNS 标签得到如下两个解析地址。</p>\n<!--more-->\n<img src=\"https://i.imgur.com/p7uRqpL.png\" />\n<h4>2.修改阿里云 DNS 记录</h4>\n<p>用上一步得到的两个地址，修改阿里云 DNS 解析记录。</p>\n<img src=\"https://i.imgur.com/fOhAymC.png\" />\n<p>成功之后回到 cloudflare 的 Overview 标签能看到状态变绿了。</p>\n<img src=\"https://i.imgur.com/so8qD0E.png\" />\n<h4>3.添加域名解析记录</h4>\n<p>具体内容跟在阿里云添加的记录是一样的，一个 www 记录，一个 @ 记录。</p>\n<img src=\"https://i.imgur.com/ArPnY7M.png\" />\n<p>具体 ip 地址获得方式，可以参考 [<a target=\"_blank\" href=\"\">解决 Github 邮件中提示的问题</a>]。</p>\n<h4>4.设置 ssl 解析方式</h4>\n<p>可以根据自己的喜好选一个，我自己弄了个动态方式。</p>\n<img src=\"https://i.imgur.com/MSvbMH3.png\" />\n<h4>5.添加地址过滤</h4>\n<p>地址过滤其实是过滤 http 地址，将其转跳到 https 地址。</p>\n<img src=\"https://i.imgur.com/bcOalQ9.png\" />\n<h4>^_^ 大功告成</h4>\n<hr>","frontmatter":{"path":"/yO73AClUeYfeLtkW2HPEMezG","title":"独立域名 pages 配置 https 访问","date":"2016-08-16 21:10:55 +0800","comments":true,"categories":"programming","author":"Sir0xb","tags":["pages","https","cloudflare"]},"excerpt":"github 很慷慨的为程序员们提供了静态站功能，还给开启了 https 访问。比如我的站点  https://sir0xb.github.io 。虽然也很不错，不过对于想要追求完美的人来说，总感觉少了点什么(独立域名呗)。不过申请了独立域名之后，github 提供的 https…"}},{"node":{"id":"ca4dccc3-1b21-5733-a038-1b0a2df0ff77","html":"<p>　　我们必需正视：一种文化上自我糟蹋的潮流正在所向披靡。</p>\n<p>　　我们悠久历史养育和积淀下来的文化精华，尤其那些最驰名、最响亮、最惹眼、最具影响的——从名城、名镇、名街、名人、名著，到名人死后的墓室和名著里出名的主人公，乃至列入国家名录的各类各种文化遗产等等，都在被浓妆艳抹，重新包装，甚至拆卸重组，再描龙画凤，披金戴银，挤眉弄眼，招摇于市。</p>\n<!--more-->\n<p>　　那些在“城改”中残剩无多的历史街区，忽然被聪明地发现，它们竟是一种天赐的旅游资源。已经拆掉的无法复原，没拆的虽然不再拆了，但也难逃厄运——全被开发成商业风情街——实际上是风情商业街。更糟糕的是被世人称作“最后的精神家园”的古村古镇，正在被“腾笼换鸟”，迁走原住民，然后大举招商，一个个被改造成各类商铺、旅店、农家乐、茶社和咖啡屋混成一团的“游客的天堂”；在这天堂里连一间见证历史的“博物馆”也没有，导游讲的故事传说不少是为吸引游人而编造的伪民间故事。至于各种名人故居，大都是找来一些与其主人毫不相干的红木家具、老瓶老壶、文房四宝，三流字画，不伦不类地摆一摆，好歹布置个模样；没人拿名人的人当回事，只拿名人的名当回事。还有那种原本安慰心灵的寺庙，无一例外全成了世俗的闹市。至于种种文化遗产，更是这种热热闹闹重新“打造”的对象。其中的历史的内涵、文化的意蕴、本土气质和个中独特的精神跑到哪去了？没人管也没人问。</p>\n<p>　　有人说旅游原本就是走马观花的快餐文化，用不着太认真。那么，就再看看我们影视中的历史文化吧。</p>\n<p>　　我们的历史名人只要跑到银幕和荧屏上，不论明君重臣，还是才子佳人，大都多了一身好功夫，动不动大打出手，甚至背剑上房。他们好像都活在时光隧道里。虽然身着古装，发型和配带却像时尚名模；没有切确的朝代与地域，一切衣食住行的道具、物品和礼俗全是胡编乱造；有个老样子就行，或者愈怪愈好，历史在这里只是借用一下的名义，一个空袋子，任什么乱七八糟、炫人耳目的东西都往里边塞。</p>\n<p>　　一边是真实的历史被抽空内涵，只留下躯壳，再滥加改造；一边是荒诞不经和无中生有的伪造——这便是当今国人眼中的历史文化。</p>\n<p>　　经过这样的粗鄙化的打造，在人们眼里，古村古镇无非是些年久失修的老房子，名人故居不过是名人在世时住过的几间屋子，庙宇都是烧香叩头却不知灵验不灵验的地方，历史上的人物全有几招花拳绣腿，全离不开男欢女爱，全不正经；没有庄重感、神圣感、厚重感、甚至美感。我们不是把中华文化博大精深挂在嘴边吗？如今国人从哪里能够感知这种博大精深？只能去一座城市才有一个的博物馆吗？</p>\n<p>　　文化不精不深，怎样可能“做大做强”？真正强大的文化一定又精又深。比如唐诗宋词、维也纳的音乐、俄罗斯文学和美国电影。只有在精深的文化中，才会有大作品和大家的出现，社会文明才能整体地提高。</p>\n<p>　　问题是当下这种鄙俗化的潮流，这种放肆的粗制滥造，这种充满谬误、以假乱真的伪文化，正在使我们的文化变得粗浅、轻薄、空洞、可笑、庸俗，甚至徒有虚名，一边有害公众的文化情怀和历史观，一边伤及中华文化的纯正及其传承。我相信，在这样文化环境中成长起来的一代，很难对自己文化心怀挚爱与虔敬。如果我们不再深爱和敬重自己的文化，再伟大的文化不也要名存实亡？到底什么动机与力量使这种潮流正在变本加厉？我想应当一句话戳穿，即以文化谋利。为了赚钱发财，为了GDP。GDP是衡量政绩的尺度——这也是问题的关键与症结之一。</p>\n<p>　　任何事物进入市场，就不免受到市场规律的制约，不免依照消费需求和商业利益调整自己。但调整是科学调整，不能扭曲甚至破坏自己去换取经济利益，就像自然资源的开发不能破坏生态。文化更具特殊性。因为文化的最重要的社会功能是精神功能。它直接影响着社会文明与全民素质。不能为了畅销、热销、票房、上座率和收视率成倍增长，为了市场人气攀升，为了利润的最大化和“疯狂的GDP”，而放弃文化固有的精神的准则。即文明的、知识的、道德的、真善美的准则。这准则也是文化的尊严，这尊严一旦被践踏被玷污，文化也失去它存在的意义。因为被糟蹋的文化反过来一定还会糟蹋人的精神。</p>\n<p>　　由此说，问题真正的要害——不是拿文化赚钱，而是糟蹋文化来赚钱。还有比这样赚钱更无知、更野蛮吗？</p>\n<p>　　当社会文明素质上升时，愈美好的东西愈有市场；当社会文明素质低下时，愈鄙俗的东西愈有市场。为什么我们为赢得市场和收视率就去迁就低俗，甚至不惜糟蹋我们的文化？</p>\n<p>　　我们是否听到我们的文化正在呼叫：不要糟蹋自己的文化了！</p>\n<p>　　任何有文化良心的人，都不能回避这个声音。</p>\n<p>[<a target=\"_blank\" href=\"http://blog.sina.com.cn/s/blog_46e7b3fd0100kyas.html\">原文：冯骥才</a>]</p>\n<hr>","frontmatter":{"path":"/6gj4wYyzm2fKgEdjWUHg0SIK","title":"请不要糟蹋我们的文化","date":"2016-08-12-13:15:41 +0800","comments":true,"categories":"conversation","author":"冯骥才","tags":["思考"]},"excerpt":"…"}},{"node":{"id":"42c7389b-2212-554c-b346-71f4f5b5746b","html":"<p>用 Node.js 的 Stream 概念，gulp 实现了一套自己的 pipe，再包裹上 Promise 机制，让每个功能在一个接一个的管道中流过，宏观上实现我们需要它完成的 Task。Task 很好用，于是用了很多，结果 gulpfile 变得很长，每次修改就要费劲找好长时间，径管理也比较麻烦，很不好维护。是时候彻底重构一下了。</p>\n<h3>用 es6 替代 coffee</h3>\n<p>脚本原来是用 coffee 维护的，既能减少代码长度，又能避免未返回 gulp 对象所引起的断流问题。不过毕竟 coffee 已经不维护了，也没有自带的模块开发功能，所以这次决定改版成 es6 方式。</p>\n<!--more-->\n<p>先引入 <code>babel-core</code> 和 <code>babel-preset-es2015</code> 这两个包</p>\n<p>配置 package.json</p>\n<pre class=\"editor editor-colors\"><div class=\"line\"><span class=\"source json\"><span>...</span></span></div><div class=\"line\"><span class=\"source json\"><span class=\"string quoted double json\"><span class=\"punctuation definition string begin json\"><span>&quot;</span></span><span>babel</span><span class=\"punctuation definition string end json\"><span>&quot;</span></span></span><span>:&nbsp;</span><span class=\"meta structure dictionary json\"><span class=\"punctuation definition dictionary begin json\"><span>{</span></span></span></span></div><div class=\"line\"><span class=\"source json\"><span class=\"meta structure dictionary json\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"string quoted double json\"><span class=\"punctuation definition string begin json\"><span>&quot;</span></span><span>presets</span><span class=\"punctuation definition string end json\"><span>&quot;</span></span></span><span class=\"meta structure dictionary value json\"><span class=\"punctuation separator dictionary key-value json\"><span>:</span></span><span>&nbsp;</span><span class=\"meta structure array json\"><span class=\"punctuation definition array begin json\"><span>[</span></span></span></span></span></span></div><div class=\"line\"><span class=\"source json\"><span class=\"meta structure dictionary json\"><span class=\"meta structure dictionary value json\"><span class=\"meta structure array json\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"string quoted double json\"><span class=\"punctuation definition string begin json\"><span>&quot;</span></span><span>es2015</span><span class=\"punctuation definition string end json\"><span>&quot;</span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source json\"><span class=\"meta structure dictionary json\"><span class=\"meta structure dictionary value json\"><span class=\"meta structure array json\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"punctuation definition array end json\"><span>]</span></span></span></span></span></span></div><div class=\"line\"><span class=\"source json\"><span class=\"meta structure dictionary json\"><span class=\"punctuation definition dictionary end json\"><span>}</span></span></span></span></div><div class=\"line\"><span class=\"source json\"><span>...</span></span></div></pre>\n<p>es6 用的脚本名称不再是 <code>gulpfile.js</code>，需要改成 <code>gulpfile.babel.js</code></p>\n<p>es6 环境搭建完成。</p>\n<h2> </h2>\n<h3>目录结构优化</h3>\n<img src=\"https://i.imgur.com/acdX7Uc.jpg\" />\n<p><code>fescripts</code> 文件夹作为脚本主目录，只放一些配置文件及任务文件夹。</p>\n<p><code>tasks</code> 文件夹存放需要根据环境调用的任务。像 <code>default.task.js</code> 平时开发时调用，<code>build.task.js</code> 在服务器发布环境中运行。</p>\n<p><code>cleaner</code>、<code>compile</code>、<code>debug</code> 等文件夹存放具体小功能(就是原来 <code>gulpfile.js</code> 里的 task)。</p>\n<h2> </h2>\n<h3>配置文件说明 <code>gulp.config.js</code></h3>\n<pre class=\"editor editor-colors\"><div class=\"line\"><span class=\"source js\"><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&#39;</span></span><span>use&nbsp;strict</span><span class=\"punctuation definition string end js\"><span>&#39;</span></span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta import js\"><span class=\"keyword control js\"><span>import</span></span><span>&nbsp;</span><span class=\"variable other module js\"><span>Q</span></span><span>&nbsp;</span><span class=\"keyword control js\"><span>from</span></span><span>&nbsp;</span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&#39;</span></span><span>q</span><span class=\"punctuation definition string end js\"><span>&#39;</span></span></span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"support variable js\"><span>module</span></span><span class=\"meta function js\"><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"entity name function js\"><span>exports</span></span><span>&nbsp;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&nbsp;</span><span class=\"storage type function js\"><span>function</span></span><span>&nbsp;</span><span class=\"meta parameters js\"><span class=\"punctuation definition parameters begin bracket round js\"><span>(</span></span><span class=\"meta brace curly js\"><span>{</span></span><span>&nbsp;isDev&nbsp;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&nbsp;</span><span class=\"constant language boolean false js\"><span>false</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&nbsp;stage&nbsp;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&nbsp;</span><span class=\"string quoted double js\"><span class=\"punctuation definition string begin js\"><span>&quot;</span></span><span>test</span><span class=\"punctuation definition string end js\"><span>&quot;</span></span></span><span>&nbsp;</span><span class=\"meta brace curly js\"><span>}</span></span><span>&nbsp;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&nbsp;</span><span class=\"punctuation section scope begin js\"><span>{</span></span><span class=\"punctuation section scope end js\"><span>}</span></span><span class=\"punctuation definition parameters end bracket round js\"><span>)</span></span></span></span><span>&nbsp;</span><span class=\"punctuation definition function body begin bracket curly js\"><span>{</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"storage type var js\"><span>let</span></span><span>&nbsp;config&nbsp;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&nbsp;</span><span class=\"meta brace curly js\"><span>{</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;isDev</span><span class=\"keyword operator assignment js\"><span>:</span></span><span>&nbsp;isDev</span><span class=\"meta delimiter object comma js\"><span>,</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;system_list</span><span class=\"keyword operator assignment js\"><span>:</span></span><span>&nbsp;</span><span class=\"meta brace round js\"><span>(</span></span><span class=\"meta function arrow js\"><span class=\"meta parameters js\"><span class=\"punctuation definition parameters begin bracket round js\"><span>(</span></span><span class=\"punctuation definition parameters end bracket round js\"><span>)</span></span></span><span>&nbsp;</span><span class=\"storage type function arrow js\"><span>=&gt;</span></span></span><span>&nbsp;</span><span class=\"punctuation definition function body begin bracket curly js\"><span>{</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"keyword control js\"><span>if</span></span><span>&nbsp;</span><span class=\"meta brace round js\"><span>(</span></span><span>isDev</span><span class=\"meta brace round js\"><span>)</span></span><span>&nbsp;</span><span class=\"meta brace curly js\"><span>{</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"keyword control js\"><span>return</span></span><span>&nbsp;</span><span class=\"meta brace square js\"><span>[</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"string quoted double js\"><span class=\"punctuation definition string begin js\"><span>&quot;</span></span><span>alphago/livecast/livecast-web/livecast-crm-webapp/src/main/webapp</span><span class=\"punctuation definition string end js\"><span>&quot;</span></span></span><span class=\"meta delimiter object comma js\"><span>,</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"string quoted double js\"><span class=\"punctuation definition string begin js\"><span>&quot;</span></span><span>alphago/livecast/livecast-web/livecast-student-webapp/src/main/webapp</span><span class=\"punctuation definition string end js\"><span>&quot;</span></span></span><span class=\"meta delimiter object comma js\"><span>,</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"string quoted double js\"><span class=\"punctuation definition string begin js\"><span>&quot;</span></span><span>alphago/livecast/livecast-web/livecast-teacher-webapp/src/main/webapp</span><span class=\"punctuation definition string end js\"><span>&quot;</span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"meta brace square js\"><span>]</span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"meta brace curly js\"><span>}</span></span><span>&nbsp;</span><span class=\"keyword control js\"><span>else</span></span><span>&nbsp;</span><span class=\"meta brace curly js\"><span>{</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"keyword control js\"><span>return</span></span><span>&nbsp;</span><span class=\"meta brace square js\"><span>[</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"string quoted template js\"><span class=\"punctuation definition string begin js\"><span>`</span></span><span>./build-repo/build-</span><span class=\"source js embedded source\"><span class=\"punctuation section embedded js\"><span>${</span></span><span>stage</span><span class=\"punctuation section embedded js\"><span>}</span></span></span><span>/livecast-crm-webapp/webroot</span><span class=\"punctuation definition string end js\"><span>`</span></span></span><span class=\"meta delimiter object comma js\"><span>,</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"string quoted template js\"><span class=\"punctuation definition string begin js\"><span>`</span></span><span>./build-repo/build-</span><span class=\"source js embedded source\"><span class=\"punctuation section embedded js\"><span>${</span></span><span>stage</span><span class=\"punctuation section embedded js\"><span>}</span></span></span><span>/livecast-student-webapp/webroot</span><span class=\"punctuation definition string end js\"><span>`</span></span></span><span class=\"meta delimiter object comma js\"><span>,</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"string quoted template js\"><span class=\"punctuation definition string begin js\"><span>`</span></span><span>./build-repo/build-</span><span class=\"source js embedded source\"><span class=\"punctuation section embedded js\"><span>${</span></span><span>stage</span><span class=\"punctuation section embedded js\"><span>}</span></span></span><span>/livecast-teacher-webapp/webroot</span><span class=\"punctuation definition string end js\"><span>`</span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"meta brace square js\"><span>]</span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"meta brace curly js\"><span>}</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"punctuation definition function body end bracket curly js\"><span>}</span></span><span class=\"meta brace round js\"><span>)</span><span>(</span><span>)</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"meta function json js\"><span class=\"entity name function js\"><span>great_promise</span></span><span class=\"keyword operator assignment js\"><span>:</span></span><span>&nbsp;</span><span class=\"storage type function js\"><span>function</span></span><span class=\"meta parameters js\"><span class=\"punctuation definition parameters begin bracket round js\"><span>(</span></span><span class=\"variable parameter function js\"><span>gulpJob</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&nbsp;</span><span class=\"variable parameter function js\"><span>prams</span></span><span>&nbsp;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&nbsp;</span><span class=\"constant language boolean true js\"><span>true</span></span><span class=\"punctuation definition parameters end bracket round js\"><span>)</span></span></span></span><span>&nbsp;</span><span class=\"punctuation definition function body begin bracket curly js\"><span>{</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"storage type var js\"><span>let</span></span><span>&nbsp;deferred&nbsp;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&nbsp;</span><span class=\"constant other object js\"><span>Q</span></span><span class=\"meta delimiter property period js\"><span>.</span></span><span class=\"support variable property dom js\"><span>defer</span></span><span class=\"meta brace round js\"><span>(</span><span>)</span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"storage type var js\"><span>let</span></span><span>&nbsp;promiseArray&nbsp;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&nbsp;</span><span class=\"meta brace square js\"><span>[</span><span>]</span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"source js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"variable language js\"><span>this</span></span><span class=\"meta delimiter property period js\"><span>.</span></span><span class=\"variable other object property js\"><span>system_list</span></span><span class=\"meta method-call js\"><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"support function dom js\"><span>forEach</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span class=\"meta function arrow js\"><span class=\"meta parameters js\"><span class=\"punctuation definition parameters begin bracket round js\"><span>(</span></span><span class=\"variable parameter function js\"><span>base</span></span><span class=\"punctuation definition parameters end bracket round js\"><span>)</span></span></span><span>&nbsp;</span><span class=\"storage type function arrow js\"><span>=&gt;</span></span></span><span>&nbsp;</span><span class=\"punctuation definition function body begin bracket curly js\"><span>{</span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"storage type var js\"><span>let</span></span><span>&nbsp;def&nbsp;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&nbsp;</span><span class=\"constant other object js\"><span>Q</span></span><span class=\"meta delimiter property period js\"><span>.</span></span><span class=\"support variable property dom js\"><span>defer</span></span><span class=\"meta brace round js\"><span>(</span><span>)</span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span>&nbsp;</span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"meta function-call js\"><span class=\"entity name function js\"><span>gulpJob</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span>base</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&nbsp;def</span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span>&nbsp;</span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"variable other object js\"><span>promiseArray</span></span><span class=\"meta method-call js\"><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"support function js\"><span>push</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span class=\"variable other object js\"><span>def</span></span><span class=\"meta delimiter property period js\"><span>.</span></span><span class=\"variable other property js\"><span>promise</span></span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"punctuation definition function body end bracket curly js\"><span>}</span></span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"source js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"constant other object js\"><span>Q</span></span><span class=\"meta delimiter property period js\"><span>.</span></span><span class=\"support variable property dom js\"><span>all</span></span><span class=\"meta brace round js\"><span>(</span></span><span>promiseArray</span><span class=\"meta brace round js\"><span>)</span></span><span class=\"meta method-call js\"><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"entity name function js\"><span>then</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span class=\"meta function js\"><span class=\"storage type function js\"><span>function</span></span><span>&nbsp;</span><span class=\"meta parameters js\"><span class=\"punctuation definition parameters begin bracket round js\"><span>(</span></span><span class=\"punctuation definition parameters end bracket round js\"><span>)</span></span></span></span><span>&nbsp;</span><span class=\"punctuation definition function body begin bracket curly js\"><span>{</span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"variable other object js\"><span>deferred</span></span><span class=\"meta method-call js\"><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"entity name function js\"><span>resolve</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span>prams</span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"punctuation definition function body end bracket curly js\"><span>}</span></span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"source js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"keyword control js\"><span>return</span></span><span>&nbsp;</span><span class=\"variable other object js\"><span>deferred</span></span><span class=\"meta delimiter property period js\"><span>.</span></span><span class=\"variable other property js\"><span>promise</span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"punctuation definition function body end bracket curly js\"><span>}</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"meta function json js\"><span class=\"entity name function js\"><span>colorful</span></span><span class=\"keyword operator assignment js\"><span>:</span></span><span>&nbsp;</span><span class=\"storage type function js\"><span>function</span></span><span>&nbsp;</span><span class=\"meta parameters js\"><span class=\"punctuation definition parameters begin bracket round js\"><span>(</span></span><span class=\"variable parameter function js\"><span>word</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&nbsp;</span><span class=\"variable parameter function js\"><span>$</span></span><span class=\"punctuation definition parameters end bracket round js\"><span>)</span></span></span></span><span>&nbsp;</span><span class=\"punctuation definition function body begin bracket curly js\"><span>{</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"storage type var js\"><span>let</span></span><span>&nbsp;message&nbsp;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&nbsp;</span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&#39;</span></span><span class=\"punctuation definition string end js\"><span>&#39;</span></span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"support class js\"><span>Array</span></span><span class=\"meta method-call js\"><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"entity name function js\"><span>from</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span>word</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&nbsp;</span><span class=\"meta function js\"><span class=\"storage type function js\"><span>function</span></span><span>&nbsp;</span><span class=\"meta parameters js\"><span class=\"punctuation definition parameters begin bracket round js\"><span>(</span></span><span class=\"variable parameter function js\"><span>x</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&nbsp;</span><span class=\"variable parameter function js\"><span>i</span></span><span class=\"punctuation definition parameters end bracket round js\"><span>)</span></span></span></span><span>&nbsp;</span><span class=\"punctuation definition function body begin bracket curly js\"><span>{</span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;message&nbsp;</span><span class=\"keyword operator assignment compound js\"><span>+=</span></span><span>&nbsp;</span><span class=\"variable other object js\"><span>$</span></span><span class=\"meta delimiter property period js\"><span>.</span></span><span class=\"variable other property js\"><span>chalk</span></span><span class=\"meta brace square js\"><span>[</span><span>[</span></span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&#39;</span></span><span>red</span><span class=\"punctuation definition string end js\"><span>&#39;</span></span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&nbsp;</span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&#39;</span></span><span>yellow</span><span class=\"punctuation definition string end js\"><span>&#39;</span></span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&nbsp;</span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&#39;</span></span><span>green</span><span class=\"punctuation definition string end js\"><span>&#39;</span></span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&nbsp;</span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&#39;</span></span><span>blue</span><span class=\"punctuation definition string end js\"><span>&#39;</span></span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&nbsp;</span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&#39;</span></span><span>magenta</span><span class=\"punctuation definition string end js\"><span>&#39;</span></span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&nbsp;</span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&#39;</span></span><span>cyan</span><span class=\"punctuation definition string end js\"><span>&#39;</span></span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&nbsp;</span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&#39;</span></span><span>gray</span><span class=\"punctuation definition string end js\"><span>&#39;</span></span></span><span class=\"meta brace square js\"><span>]</span><span>[</span></span><span>i</span><span class=\"keyword operator js\"><span>%</span></span><span class=\"constant numeric decimal js\"><span>7</span></span><span class=\"meta brace square js\"><span>]</span><span>]</span></span><span class=\"meta brace round js\"><span>(</span></span><span>x</span><span class=\"meta brace round js\"><span>)</span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"punctuation definition function body end bracket curly js\"><span>}</span></span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"entity name type object console js\"><span>console</span></span><span class=\"meta method-call js\"><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"support function console js\"><span>info</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span class=\"string quoted template js\"><span class=\"punctuation definition string begin js\"><span>`</span></span><span>[</span><span class=\"source js embedded source\"><span class=\"punctuation section embedded js\"><span>${</span></span><span>&nbsp;</span><span class=\"variable other object js\"><span>$</span></span><span class=\"meta delimiter property period js\"><span>.</span></span><span class=\"variable other object property js\"><span>chalk</span></span><span class=\"meta method-call js\"><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"entity name function js\"><span>gray</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span class=\"variable other object js\"><span>$</span></span><span class=\"meta method-call js\"><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"entity name function js\"><span>dateformat</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span class=\"meta class instance constructor js\"><span class=\"keyword operator new js\"><span>new</span></span><span>&nbsp;</span><span class=\"entity name type instance js\"><span>Date</span></span></span><span class=\"meta brace round js\"><span>(</span><span>)</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&nbsp;</span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&#39;</span></span><span>H:MM:ss</span><span class=\"punctuation definition string end js\"><span>&#39;</span></span></span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span></span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span></span><span>&nbsp;</span><span class=\"punctuation section embedded js\"><span>}</span></span></span><span>]&nbsp;&gt;&gt;&gt;&nbsp;</span><span class=\"source js embedded source\"><span class=\"punctuation section embedded js\"><span>${</span></span><span>&nbsp;message&nbsp;</span><span class=\"punctuation section embedded js\"><span>}</span></span></span><span>&nbsp;&lt;&lt;&lt;</span><span class=\"punctuation definition string end js\"><span>`</span></span></span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"punctuation definition function body end bracket curly js\"><span>}</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"meta function json js\"><span class=\"entity name function js\"><span>jobStart</span></span><span class=\"keyword operator assignment js\"><span>:</span></span><span>&nbsp;</span><span class=\"storage type function js\"><span>function</span></span><span>&nbsp;</span><span class=\"meta parameters js\"><span class=\"punctuation definition parameters begin bracket round js\"><span>(</span></span><span class=\"variable parameter function js\"><span>$</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&nbsp;</span><span class=\"variable parameter function js\"><span>time</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&nbsp;</span><span class=\"variable parameter function js\"><span>taskName</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&nbsp;</span><span class=\"variable parameter function js\"><span>base</span></span><span>&nbsp;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&nbsp;</span><span class=\"constant language null js\"><span>null</span></span><span class=\"punctuation definition parameters end bracket round js\"><span>)</span></span></span></span><span>&nbsp;</span><span class=\"punctuation definition function body begin bracket curly js\"><span>{</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"entity name type object console js\"><span>console</span></span><span class=\"meta method-call js\"><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"support function console js\"><span>info</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span class=\"string quoted template js\"><span class=\"punctuation definition string begin js\"><span>`</span></span><span>[</span><span class=\"source js embedded source\"><span class=\"punctuation section embedded js\"><span>${</span></span><span>&nbsp;</span><span class=\"variable other object js\"><span>$</span></span><span class=\"meta delimiter property period js\"><span>.</span></span><span class=\"variable other object property js\"><span>chalk</span></span><span class=\"meta method-call js\"><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"entity name function js\"><span>gray</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span class=\"variable other object js\"><span>$</span></span><span class=\"meta method-call js\"><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"entity name function js\"><span>dateformat</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span>time</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&nbsp;</span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&#39;</span></span><span>H:MM:ss</span><span class=\"punctuation definition string end js\"><span>&#39;</span></span></span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span></span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span></span><span>&nbsp;</span><span class=\"punctuation section embedded js\"><span>}</span></span></span><span>]&nbsp;</span><span class=\"source js embedded source\"><span class=\"punctuation section embedded js\"><span>${</span></span><span>&nbsp;</span><span class=\"variable other object js\"><span>$</span></span><span class=\"meta delimiter property period js\"><span>.</span></span><span class=\"variable other object property js\"><span>chalk</span></span><span class=\"meta method-call js\"><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"entity name function js\"><span>red</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&#39;</span></span><span>Starting</span><span class=\"punctuation definition string end js\"><span>&#39;</span></span></span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span></span><span>&nbsp;</span><span class=\"punctuation section embedded js\"><span>}</span></span></span><span>&nbsp;&#39;</span><span class=\"source js embedded source\"><span class=\"punctuation section embedded js\"><span>${</span></span><span>&nbsp;</span><span class=\"variable other object js\"><span>$</span></span><span class=\"meta delimiter property period js\"><span>.</span></span><span class=\"variable other object property js\"><span>chalk</span></span><span class=\"meta method-call js\"><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"entity name function js\"><span>green</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span>taskName</span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span></span><span>&nbsp;</span><span class=\"punctuation section embedded js\"><span>}</span></span></span><span>&#39;&nbsp;...&nbsp;</span><span class=\"source js embedded source\"><span class=\"punctuation section embedded js\"><span>${</span></span><span>&nbsp;base&nbsp;</span><span class=\"keyword operator comparison js\"><span>!=</span></span><span>&nbsp;</span><span class=\"constant language null js\"><span>null</span></span><span>&nbsp;</span><span class=\"keyword operator ternary js\"><span>?</span></span><span>&nbsp;</span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&#39;</span></span><span>&nbsp;==&gt;&nbsp;</span><span class=\"punctuation definition string end js\"><span>&#39;</span></span></span><span>&nbsp;</span><span class=\"keyword operator js\"><span>+</span></span><span>&nbsp;</span><span class=\"variable other object js\"><span>$</span></span><span class=\"meta delimiter property period js\"><span>.</span></span><span class=\"variable other object property js\"><span>chalk</span></span><span class=\"meta method-call js\"><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"entity name function js\"><span>yellow</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span>base</span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span></span><span>&nbsp;</span><span class=\"keyword operator ternary js\"><span>:</span></span><span>&nbsp;</span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&#39;</span></span><span class=\"punctuation definition string end js\"><span>&#39;</span></span></span><span>&nbsp;</span><span class=\"punctuation section embedded js\"><span>}</span></span></span><span class=\"punctuation definition string end js\"><span>`</span></span></span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"punctuation definition function body end bracket curly js\"><span>}</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"meta function json js\"><span class=\"entity name function js\"><span>jobEnd</span></span><span class=\"keyword operator assignment js\"><span>:</span></span><span>&nbsp;</span><span class=\"storage type function js\"><span>function</span></span><span>&nbsp;</span><span class=\"meta parameters js\"><span class=\"punctuation definition parameters begin bracket round js\"><span>(</span></span><span class=\"variable parameter function js\"><span>$</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&nbsp;</span><span class=\"variable parameter function js\"><span>time</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&nbsp;</span><span class=\"variable parameter function js\"><span>taskName</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&nbsp;</span><span class=\"variable parameter function js\"><span>defTime</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&nbsp;</span><span class=\"variable parameter function js\"><span>base</span></span><span>&nbsp;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&nbsp;</span><span class=\"constant language null js\"><span>null</span></span><span class=\"punctuation definition parameters end bracket round js\"><span>)</span></span></span></span><span>&nbsp;</span><span class=\"punctuation definition function body begin bracket curly js\"><span>{</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"entity name type object console js\"><span>console</span></span><span class=\"meta method-call js\"><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"support function console js\"><span>info</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span class=\"string quoted template js\"><span class=\"punctuation definition string begin js\"><span>`</span></span><span>[</span><span class=\"source js embedded source\"><span class=\"punctuation section embedded js\"><span>${</span></span><span>&nbsp;</span><span class=\"variable other object js\"><span>$</span></span><span class=\"meta delimiter property period js\"><span>.</span></span><span class=\"variable other object property js\"><span>chalk</span></span><span class=\"meta method-call js\"><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"entity name function js\"><span>gray</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span class=\"variable other object js\"><span>$</span></span><span class=\"meta method-call js\"><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"entity name function js\"><span>dateformat</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span>time</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&nbsp;</span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&#39;</span></span><span>H:MM:ss</span><span class=\"punctuation definition string end js\"><span>&#39;</span></span></span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span></span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span></span><span>&nbsp;</span><span class=\"punctuation section embedded js\"><span>}</span></span></span><span>]&nbsp;</span><span class=\"source js embedded source\"><span class=\"punctuation section embedded js\"><span>${</span></span><span>&nbsp;</span><span class=\"variable other object js\"><span>$</span></span><span class=\"meta delimiter property period js\"><span>.</span></span><span class=\"variable other object property js\"><span>chalk</span></span><span class=\"meta method-call js\"><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"entity name function js\"><span>blue</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&#39;</span></span><span>Finished</span><span class=\"punctuation definition string end js\"><span>&#39;</span></span></span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span></span><span>&nbsp;</span><span class=\"punctuation section embedded js\"><span>}</span></span></span><span>&nbsp;&#39;</span><span class=\"source js embedded source\"><span class=\"punctuation section embedded js\"><span>${</span></span><span>&nbsp;</span><span class=\"variable other object js\"><span>$</span></span><span class=\"meta delimiter property period js\"><span>.</span></span><span class=\"variable other object property js\"><span>chalk</span></span><span class=\"meta method-call js\"><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"entity name function js\"><span>green</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span>taskName</span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span></span><span>&nbsp;</span><span class=\"punctuation section embedded js\"><span>}</span></span></span><span>&#39;&nbsp;in&nbsp;</span><span class=\"source js embedded source\"><span class=\"punctuation section embedded js\"><span>${</span></span><span>&nbsp;</span><span class=\"variable other object js\"><span>$</span></span><span class=\"meta delimiter property period js\"><span>.</span></span><span class=\"variable other object property js\"><span>chalk</span></span><span class=\"meta method-call js\"><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"entity name function js\"><span>magenta</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span>defTime&nbsp;</span><span class=\"keyword operator js\"><span>+</span></span><span>&nbsp;</span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&#39;</span></span><span>&nbsp;ms</span><span class=\"punctuation definition string end js\"><span>&#39;</span></span></span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span></span><span>&nbsp;</span><span class=\"punctuation section embedded js\"><span>}</span></span></span><span>&nbsp;</span><span class=\"source js embedded source\"><span class=\"punctuation section embedded js\"><span>${</span></span><span>&nbsp;base&nbsp;</span><span class=\"keyword operator comparison js\"><span>!=</span></span><span>&nbsp;</span><span class=\"constant language null js\"><span>null</span></span><span>&nbsp;</span><span class=\"keyword operator ternary js\"><span>?</span></span><span>&nbsp;</span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&#39;</span></span><span>&nbsp;==&gt;&nbsp;</span><span class=\"punctuation definition string end js\"><span>&#39;</span></span></span><span>&nbsp;</span><span class=\"keyword operator js\"><span>+</span></span><span>&nbsp;</span><span class=\"variable other object js\"><span>$</span></span><span class=\"meta delimiter property period js\"><span>.</span></span><span class=\"variable other object property js\"><span>chalk</span></span><span class=\"meta method-call js\"><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"entity name function js\"><span>yellow</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span>base</span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span></span><span>&nbsp;</span><span class=\"keyword operator ternary js\"><span>:</span></span><span>&nbsp;</span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&#39;</span></span><span class=\"punctuation definition string end js\"><span>&#39;</span></span></span><span>&nbsp;</span><span class=\"punctuation section embedded js\"><span>}</span></span></span><span class=\"punctuation definition string end js\"><span>`</span></span></span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"punctuation definition function body end bracket curly js\"><span>}</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"meta brace curly js\"><span>}</span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"source js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"keyword control js\"><span>return</span></span><span>&nbsp;config</span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"punctuation definition function body end bracket curly js\"><span>}</span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div></pre>\n<h4>参数说明</h4>\n<p>isDev 开发与发布环境辨别的参数，默认值给了false，也就是开发环境。</p>\n<p>stage 发布环境状态的不同环境区分，例如: test、staging、release等</p>\n<h4>内部函数说明</h4>\n<p>system_list: 是立即执行函数，根据环境返回不同目录，最终是个数组。</p>\n<p>great_promise: 解决同一任务便利不同系统目录，并并发直行用的。</p>\n<p>jobStart &#x26; jobEnd：除了服务器脚本，其他所有的脚本都直接用 promise 实现，所以任务信息需要自己打出。</p>\n<h2> </h2>\n<h3>入口脚本配置 <code>gulpfile.babel.js</code></h3>\n<pre class=\"editor editor-colors\"><div class=\"line\"><span class=\"source js\"><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&#39;</span></span><span>use&nbsp;strict</span><span class=\"punctuation definition string end js\"><span>&#39;</span></span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta import js\"><span class=\"keyword control js\"><span>import</span></span><span>&nbsp;</span><span class=\"variable other module js\"><span>gulp</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"keyword control js\"><span>from</span></span><span>&nbsp;</span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&#39;</span></span><span>gulp</span><span class=\"punctuation definition string end js\"><span>&#39;</span></span></span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta import js\"><span class=\"keyword control js\"><span>import</span></span><span>&nbsp;$&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"keyword control js\"><span>from</span></span><span>&nbsp;</span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&#39;</span></span><span>gulp-load-plugins</span><span class=\"punctuation definition string end js\"><span>&#39;</span></span></span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta import js\"><span class=\"keyword control js\"><span>import</span></span><span>&nbsp;</span><span class=\"variable other module js\"><span>config</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"keyword control js\"><span>from</span></span><span>&nbsp;</span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&#39;</span></span><span>./fescripts/gulp.config.js</span><span class=\"punctuation definition string end js\"><span>&#39;</span></span></span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta import js\"><span class=\"keyword control js\"><span>import</span></span><span>&nbsp;</span><span class=\"variable other module js\"><span>Clean</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"keyword control js\"><span>from</span></span><span>&nbsp;</span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&#39;</span></span><span>./fescripts/tasks/clean.task.js</span><span class=\"punctuation definition string end js\"><span>&#39;</span></span></span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta import js\"><span class=\"keyword control js\"><span>import</span></span><span>&nbsp;</span><span class=\"variable other module js\"><span>Build</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"keyword control js\"><span>from</span></span><span>&nbsp;</span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&#39;</span></span><span>./fescripts/tasks/build.task.js</span><span class=\"punctuation definition string end js\"><span>&#39;</span></span></span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta import js\"><span class=\"keyword control js\"><span>import</span></span><span>&nbsp;</span><span class=\"variable other module js\"><span>Default</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"keyword control js\"><span>from</span></span><span>&nbsp;</span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&#39;</span></span><span>./fescripts/tasks/default.task.js</span><span class=\"punctuation definition string end js\"><span>&#39;</span></span></span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"variable other object js\"><span>gulp</span></span><span class=\"meta method-call js\"><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"entity name function js\"><span>task</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span class=\"string quoted double js\"><span class=\"punctuation definition string begin js\"><span>&quot;</span></span><span>clean</span><span class=\"punctuation definition string end js\"><span>&quot;</span></span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&nbsp;</span><span class=\"meta function js\"><span class=\"storage type function js\"><span>function</span></span><span>&nbsp;</span><span class=\"meta parameters js\"><span class=\"punctuation definition parameters begin bracket round js\"><span>(</span></span><span class=\"punctuation definition parameters end bracket round js\"><span>)</span></span></span></span><span>&nbsp;</span><span class=\"punctuation definition function body begin bracket curly js\"><span>{</span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"keyword control js\"><span>return</span></span><span>&nbsp;</span><span class=\"meta function-call js\"><span class=\"entity name function js\"><span>Clean</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span>gulp</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&nbsp;</span><span class=\"meta function-call js\"><span class=\"entity name function js\"><span>config</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&nbsp;</span><span class=\"meta function-call js\"><span class=\"entity name function js\"><span>$</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span class=\"meta brace curly js\"><span>{</span></span></span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span class=\"meta function-call js\"><span class=\"meta arguments js\"><span class=\"meta function-call js\"><span class=\"meta arguments js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pattern</span><span class=\"keyword operator assignment js\"><span>:</span></span><span>&nbsp;</span><span class=\"meta brace square js\"><span>[</span></span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&#39;</span></span><span>gulp-*</span><span class=\"punctuation definition string end js\"><span>&#39;</span></span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&nbsp;</span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&#39;</span></span><span>gulp.*</span><span class=\"punctuation definition string end js\"><span>&#39;</span></span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&nbsp;</span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&#39;</span></span><span>chalk</span><span class=\"punctuation definition string end js\"><span>&#39;</span></span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&nbsp;</span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&#39;</span></span><span>dateformat</span><span class=\"punctuation definition string end js\"><span>&#39;</span></span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&nbsp;</span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&#39;</span></span><span>q</span><span class=\"punctuation definition string end js\"><span>&#39;</span></span></span><span class=\"meta brace square js\"><span>]</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span></span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span class=\"meta function-call js\"><span class=\"meta arguments js\"><span class=\"meta function-call js\"><span class=\"meta arguments js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lazy</span><span class=\"keyword operator assignment js\"><span>:</span></span><span>&nbsp;</span><span class=\"constant language boolean true js\"><span>true</span></span></span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span class=\"meta function-call js\"><span class=\"meta arguments js\"><span class=\"meta function-call js\"><span class=\"meta arguments js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"meta brace curly js\"><span>}</span></span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&nbsp;</span><span class=\"variable other object js\"><span>gulp</span></span><span class=\"meta delimiter property period js\"><span>.</span></span><span class=\"variable other object property js\"><span>env</span></span><span class=\"meta delimiter property period js\"><span>.</span></span><span class=\"variable other property js\"><span>taskName</span></span><span>&nbsp;</span><span class=\"keyword operator logical js\"><span>||</span></span><span>&nbsp;</span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&#39;</span></span><span>all</span><span class=\"punctuation definition string end js\"><span>&#39;</span></span></span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span class=\"punctuation definition function body end bracket curly js\"><span>}</span></span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"variable other object js\"><span>gulp</span></span><span class=\"meta method-call js\"><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"entity name function js\"><span>task</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span class=\"string quoted double js\"><span class=\"punctuation definition string begin js\"><span>&quot;</span></span><span>build</span><span class=\"punctuation definition string end js\"><span>&quot;</span></span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&nbsp;</span><span class=\"meta function js\"><span class=\"storage type function js\"><span>function</span></span><span>&nbsp;</span><span class=\"meta parameters js\"><span class=\"punctuation definition parameters begin bracket round js\"><span>(</span></span><span class=\"punctuation definition parameters end bracket round js\"><span>)</span></span></span></span><span>&nbsp;</span><span class=\"punctuation definition function body begin bracket curly js\"><span>{</span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"keyword control js\"><span>return</span></span><span>&nbsp;</span><span class=\"meta function-call js\"><span class=\"entity name function js\"><span>Build</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span>gulp</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&nbsp;</span><span class=\"meta function-call js\"><span class=\"entity name function js\"><span>config</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span class=\"meta brace curly js\"><span>{</span></span></span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span class=\"meta function-call js\"><span class=\"meta arguments js\"><span class=\"meta function-call js\"><span class=\"meta arguments js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stage</span><span class=\"keyword operator assignment js\"><span>:</span></span><span>&nbsp;</span><span class=\"support variable js\"><span>process</span></span><span class=\"meta delimiter property period js\"><span>.</span></span><span class=\"variable other object property js\"><span>argv</span></span><span class=\"meta delimiter property period js\"><span>.</span></span><span class=\"support variable property js\"><span>length</span></span><span>&nbsp;</span><span class=\"keyword operator comparison js\"><span>&gt;=</span></span><span>&nbsp;</span><span class=\"constant numeric decimal js\"><span>5</span></span><span>&nbsp;</span><span class=\"keyword operator logical js\"><span>&amp;&amp;</span></span><span>&nbsp;</span><span class=\"support variable js\"><span>process</span></span><span class=\"meta delimiter property period js\"><span>.</span></span><span class=\"variable other property js\"><span>argv</span></span><span class=\"meta brace square js\"><span>[</span></span><span class=\"constant numeric decimal js\"><span>4</span></span><span class=\"meta brace square js\"><span>]</span></span><span>&nbsp;</span><span class=\"keyword operator logical js\"><span>||</span></span><span>&nbsp;</span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&#39;</span></span><span>test</span><span class=\"punctuation definition string end js\"><span>&#39;</span></span></span></span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span class=\"meta function-call js\"><span class=\"meta arguments js\"><span class=\"meta function-call js\"><span class=\"meta arguments js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"meta brace curly js\"><span>}</span></span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&nbsp;</span><span class=\"meta function-call js\"><span class=\"entity name function js\"><span>$</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span class=\"meta brace curly js\"><span>{</span></span></span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span class=\"meta function-call js\"><span class=\"meta arguments js\"><span class=\"meta function-call js\"><span class=\"meta arguments js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pattern</span><span class=\"keyword operator assignment js\"><span>:</span></span><span>&nbsp;</span><span class=\"meta brace square js\"><span>[</span></span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&#39;</span></span><span>gulp-*</span><span class=\"punctuation definition string end js\"><span>&#39;</span></span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&nbsp;</span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&#39;</span></span><span>gulp.*</span><span class=\"punctuation definition string end js\"><span>&#39;</span></span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&nbsp;</span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&#39;</span></span><span>chalk</span><span class=\"punctuation definition string end js\"><span>&#39;</span></span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&nbsp;</span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&#39;</span></span><span>dateformat</span><span class=\"punctuation definition string end js\"><span>&#39;</span></span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&nbsp;</span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&#39;</span></span><span>q</span><span class=\"punctuation definition string end js\"><span>&#39;</span></span></span><span class=\"meta brace square js\"><span>]</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span></span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span class=\"meta function-call js\"><span class=\"meta arguments js\"><span class=\"meta function-call js\"><span class=\"meta arguments js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lazy</span><span class=\"keyword operator assignment js\"><span>:</span></span><span>&nbsp;</span><span class=\"constant language boolean true js\"><span>true</span></span></span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span class=\"meta function-call js\"><span class=\"meta arguments js\"><span class=\"meta function-call js\"><span class=\"meta arguments js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"meta brace curly js\"><span>}</span></span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span></span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span class=\"punctuation definition function body end bracket curly js\"><span>}</span></span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"variable other object js\"><span>gulp</span></span><span class=\"meta method-call js\"><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"entity name function js\"><span>task</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span class=\"string quoted double js\"><span class=\"punctuation definition string begin js\"><span>&quot;</span></span><span>watch</span><span class=\"punctuation definition string end js\"><span>&quot;</span></span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&nbsp;</span><span class=\"meta brace square js\"><span>[</span></span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&#39;</span></span><span>default</span><span class=\"punctuation definition string end js\"><span>&#39;</span></span></span><span class=\"meta brace square js\"><span>]</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&nbsp;</span><span class=\"meta function js\"><span class=\"storage type function js\"><span>function</span></span><span>&nbsp;</span><span class=\"meta parameters js\"><span class=\"punctuation definition parameters begin bracket round js\"><span>(</span></span><span class=\"punctuation definition parameters end bracket round js\"><span>)</span></span></span></span><span>&nbsp;</span><span class=\"punctuation definition function body begin bracket curly js\"><span>{</span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"keyword control js\"><span>return</span></span><span>&nbsp;</span><span class=\"variable other object js\"><span>gulp</span></span><span class=\"meta method-call js\"><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"support function js\"><span>watch</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span class=\"meta brace square js\"><span>[</span></span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&#39;</span></span><span>alphago/livecast/livecast-web/**/*.scss</span><span class=\"punctuation definition string end js\"><span>&#39;</span></span></span><span class=\"meta brace square js\"><span>]</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&nbsp;</span><span class=\"meta brace square js\"><span>[</span></span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&#39;</span></span><span>default</span><span class=\"punctuation definition string end js\"><span>&#39;</span></span></span><span class=\"meta brace square js\"><span>]</span></span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span class=\"punctuation definition function body end bracket curly js\"><span>}</span></span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"variable other object js\"><span>gulp</span></span><span class=\"meta method-call js\"><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"entity name function js\"><span>task</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span class=\"string quoted double js\"><span class=\"punctuation definition string begin js\"><span>&quot;</span></span><span>default</span><span class=\"punctuation definition string end js\"><span>&quot;</span></span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&nbsp;</span><span class=\"meta function js\"><span class=\"storage type function js\"><span>function</span></span><span>&nbsp;</span><span class=\"meta parameters js\"><span class=\"punctuation definition parameters begin bracket round js\"><span>(</span></span><span class=\"punctuation definition parameters end bracket round js\"><span>)</span></span></span></span><span>&nbsp;</span><span class=\"punctuation definition function body begin bracket curly js\"><span>{</span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"keyword control js\"><span>return</span></span><span>&nbsp;</span><span class=\"meta function-call js\"><span class=\"entity name function js\"><span>Default</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span>gulp</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&nbsp;</span><span class=\"meta function-call js\"><span class=\"entity name function js\"><span>config</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span class=\"meta brace curly js\"><span>{</span></span></span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span class=\"meta function-call js\"><span class=\"meta arguments js\"><span class=\"meta function-call js\"><span class=\"meta arguments js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;isDev</span><span class=\"keyword operator assignment js\"><span>:</span></span><span>&nbsp;</span><span class=\"constant language boolean true js\"><span>true</span></span></span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span class=\"meta function-call js\"><span class=\"meta arguments js\"><span class=\"meta function-call js\"><span class=\"meta arguments js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"meta brace curly js\"><span>}</span></span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&nbsp;</span><span class=\"meta function-call js\"><span class=\"entity name function js\"><span>$</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span class=\"meta brace curly js\"><span>{</span></span></span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span class=\"meta function-call js\"><span class=\"meta arguments js\"><span class=\"meta function-call js\"><span class=\"meta arguments js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pattern</span><span class=\"keyword operator assignment js\"><span>:</span></span><span>&nbsp;</span><span class=\"meta brace square js\"><span>[</span></span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&#39;</span></span><span>gulp-*</span><span class=\"punctuation definition string end js\"><span>&#39;</span></span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&nbsp;</span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&#39;</span></span><span>gulp.*</span><span class=\"punctuation definition string end js\"><span>&#39;</span></span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&nbsp;</span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&#39;</span></span><span>chalk</span><span class=\"punctuation definition string end js\"><span>&#39;</span></span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&nbsp;</span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&#39;</span></span><span>dateformat</span><span class=\"punctuation definition string end js\"><span>&#39;</span></span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&nbsp;</span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&#39;</span></span><span>q</span><span class=\"punctuation definition string end js\"><span>&#39;</span></span></span><span class=\"meta brace square js\"><span>]</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span></span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span class=\"meta function-call js\"><span class=\"meta arguments js\"><span class=\"meta function-call js\"><span class=\"meta arguments js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lazy</span><span class=\"keyword operator assignment js\"><span>:</span></span><span>&nbsp;</span><span class=\"constant language boolean true js\"><span>true</span></span></span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span class=\"meta function-call js\"><span class=\"meta arguments js\"><span class=\"meta function-call js\"><span class=\"meta arguments js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"meta brace curly js\"><span>}</span></span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span></span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span class=\"punctuation definition function body end bracket curly js\"><span>}</span></span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div></pre>\n<p>这里的 $ 不是 jQuery 的缩写，是 gulp 的一个插件 <code>gulp-load-plugins</code>。</p>\n<p>这插件会默认把 <code>package.json</code> 下 <code>gulp-</code> &#x26; <code>gulp.*</code> 开头的插件全部加载到环境中。</p>\n<p>如果需要，可以根据自己的需要修改 <code>pattern</code> 配置，加载更多其他插件。</p>\n<h2> </h2>\n<h3>编译脚本 <code>build.task.js</code></h3>\n<pre class=\"editor editor-colors\"><div class=\"line\"><span class=\"source js\"><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&#39;</span></span><span>use&nbsp;strict</span><span class=\"punctuation definition string end js\"><span>&#39;</span></span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta import js\"><span class=\"keyword control js\"><span>import</span></span><span>&nbsp;</span><span class=\"variable other module js\"><span>clean</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"keyword control js\"><span>from</span></span><span>&nbsp;</span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&#39;</span></span><span>./clean.task.js</span><span class=\"punctuation definition string end js\"><span>&#39;</span></span></span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta import js\"><span class=\"keyword control js\"><span>import</span></span><span>&nbsp;</span><span class=\"variable other module js\"><span>css</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"keyword control js\"><span>from</span></span><span>&nbsp;</span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&#39;</span></span><span>./compile/css.compile.js</span><span class=\"punctuation definition string end js\"><span>&#39;</span></span></span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta import js\"><span class=\"keyword control js\"><span>import</span></span><span>&nbsp;</span><span class=\"variable other module js\"><span>tools</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"keyword control js\"><span>from</span></span><span>&nbsp;</span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&#39;</span></span><span>./compile/tools.compile.js</span><span class=\"punctuation definition string end js\"><span>&#39;</span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta import js\"><span class=\"keyword control js\"><span>import</span></span><span>&nbsp;</span><span class=\"variable other module js\"><span>js</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"keyword control js\"><span>from</span></span><span>&nbsp;</span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&#39;</span></span><span>./compile/js.compile.js</span><span class=\"punctuation definition string end js\"><span>&#39;</span></span></span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta import js\"><span class=\"keyword control js\"><span>import</span></span><span>&nbsp;</span><span class=\"variable other module js\"><span>html</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"keyword control js\"><span>from</span></span><span>&nbsp;</span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&#39;</span></span><span>./compile/html.compile.js</span><span class=\"punctuation definition string end js\"><span>&#39;</span></span></span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta import js\"><span class=\"keyword control js\"><span>import</span></span><span>&nbsp;</span><span class=\"variable other module js\"><span>formal</span></span><span>&nbsp;&nbsp;&nbsp;</span><span class=\"keyword control js\"><span>from</span></span><span>&nbsp;</span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&#39;</span></span><span>./debug/formal.mode.js</span><span class=\"punctuation definition string end js\"><span>&#39;</span></span></span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"support variable js\"><span>module</span></span><span class=\"meta function js\"><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"entity name function js\"><span>exports</span></span><span>&nbsp;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&nbsp;</span><span class=\"storage type function js\"><span>function</span></span><span>&nbsp;</span><span class=\"meta parameters js\"><span class=\"punctuation definition parameters begin bracket round js\"><span>(</span></span><span class=\"variable parameter function js\"><span>gulp</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&nbsp;</span><span class=\"variable parameter function js\"><span>config</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&nbsp;</span><span class=\"variable parameter function js\"><span>$</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&nbsp;</span><span class=\"variable parameter function js\"><span>param</span></span><span>&nbsp;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&nbsp;</span><span class=\"constant language boolean true js\"><span>true</span></span><span class=\"punctuation definition parameters end bracket round js\"><span>)</span></span></span></span><span>&nbsp;</span><span class=\"punctuation definition function body begin bracket curly js\"><span>{</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"keyword control js\"><span>return</span></span><span>&nbsp;</span><span class=\"variable other object js\"><span>$</span></span><span class=\"meta delimiter property period js\"><span>.</span></span><span class=\"variable other object property js\"><span>q</span></span><span class=\"meta method-call js\"><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"entity name function js\"><span>fcall</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span class=\"meta function arrow js\"><span class=\"meta parameters js\"><span class=\"punctuation definition parameters begin bracket round js\"><span>(</span></span><span class=\"punctuation definition parameters end bracket round js\"><span>)</span></span></span><span>&nbsp;</span><span class=\"storage type function arrow js\"><span>=&gt;</span></span></span><span>&nbsp;</span><span class=\"constant language boolean true js\"><span>true</span></span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"entity name function js\"><span>then</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span class=\"meta function js\"><span class=\"storage type function js\"><span>function</span></span><span>&nbsp;</span><span class=\"meta parameters js\"><span class=\"punctuation definition parameters begin bracket round js\"><span>(</span></span><span class=\"punctuation definition parameters end bracket round js\"><span>)</span></span></span></span><span>&nbsp;</span><span class=\"punctuation definition function body begin bracket curly js\"><span>{</span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"keyword control js\"><span>return</span></span><span>&nbsp;</span><span class=\"meta function-call js\"><span class=\"entity name function js\"><span>clean</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span>gulp</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&nbsp;config</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&nbsp;$</span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"punctuation definition function body end bracket curly js\"><span>}</span></span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"entity name function js\"><span>then</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span class=\"meta function js\"><span class=\"storage type function js\"><span>function</span></span><span>&nbsp;</span><span class=\"meta parameters js\"><span class=\"punctuation definition parameters begin bracket round js\"><span>(</span></span><span class=\"punctuation definition parameters end bracket round js\"><span>)</span></span></span></span><span>&nbsp;</span><span class=\"punctuation definition function body begin bracket curly js\"><span>{</span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"keyword control js\"><span>return</span></span><span>&nbsp;</span><span class=\"meta function-call js\"><span class=\"entity name function js\"><span>css</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span>gulp</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&nbsp;config</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&nbsp;$</span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"punctuation definition function body end bracket curly js\"><span>}</span></span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"entity name function js\"><span>then</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span class=\"meta function js\"><span class=\"storage type function js\"><span>function</span></span><span>&nbsp;</span><span class=\"meta parameters js\"><span class=\"punctuation definition parameters begin bracket round js\"><span>(</span></span><span class=\"punctuation definition parameters end bracket round js\"><span>)</span></span></span></span><span>&nbsp;</span><span class=\"punctuation definition function body begin bracket curly js\"><span>{</span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"keyword control js\"><span>return</span></span><span>&nbsp;</span><span class=\"meta function-call js\"><span class=\"entity name function js\"><span>tools</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span>gulp</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&nbsp;config</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&nbsp;$</span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"punctuation definition function body end bracket curly js\"><span>}</span></span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"entity name function js\"><span>then</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span class=\"meta function js\"><span class=\"storage type function js\"><span>function</span></span><span>&nbsp;</span><span class=\"meta parameters js\"><span class=\"punctuation definition parameters begin bracket round js\"><span>(</span></span><span class=\"punctuation definition parameters end bracket round js\"><span>)</span></span></span></span><span>&nbsp;</span><span class=\"punctuation definition function body begin bracket curly js\"><span>{</span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"keyword control js\"><span>return</span></span><span>&nbsp;</span><span class=\"meta function-call js\"><span class=\"entity name function js\"><span>js</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span>gulp</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&nbsp;config</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&nbsp;$</span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"punctuation definition function body end bracket curly js\"><span>}</span></span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"entity name function js\"><span>then</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span class=\"meta function js\"><span class=\"storage type function js\"><span>function</span></span><span>&nbsp;</span><span class=\"meta parameters js\"><span class=\"punctuation definition parameters begin bracket round js\"><span>(</span></span><span class=\"punctuation definition parameters end bracket round js\"><span>)</span></span></span></span><span>&nbsp;</span><span class=\"punctuation definition function body begin bracket curly js\"><span>{</span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"keyword control js\"><span>return</span></span><span>&nbsp;</span><span class=\"meta function-call js\"><span class=\"entity name function js\"><span>html</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span>gulp</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&nbsp;config</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&nbsp;$</span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"punctuation definition function body end bracket curly js\"><span>}</span></span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"entity name function js\"><span>then</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span class=\"meta function js\"><span class=\"storage type function js\"><span>function</span></span><span>&nbsp;</span><span class=\"meta parameters js\"><span class=\"punctuation definition parameters begin bracket round js\"><span>(</span></span><span class=\"punctuation definition parameters end bracket round js\"><span>)</span></span></span></span><span>&nbsp;</span><span class=\"punctuation definition function body begin bracket curly js\"><span>{</span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"keyword control js\"><span>return</span></span><span>&nbsp;</span><span class=\"variable other object js\"><span>config</span></span><span class=\"meta delimiter property period js\"><span>.</span></span><span class=\"variable other property js\"><span>isDev</span></span><span>&nbsp;</span><span class=\"keyword operator ternary js\"><span>?</span></span><span>&nbsp;</span><span class=\"meta function-call js\"><span class=\"entity name function js\"><span>formal</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span>gulp</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&nbsp;config</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&nbsp;$</span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span></span><span>&nbsp;</span><span class=\"keyword operator ternary js\"><span>:</span></span><span>&nbsp;</span><span class=\"constant language boolean true js\"><span>true</span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"punctuation definition function body end bracket curly js\"><span>}</span></span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"entity name function js\"><span>then</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span class=\"meta function js\"><span class=\"storage type function js\"><span>function</span></span><span>&nbsp;</span><span class=\"meta parameters js\"><span class=\"punctuation definition parameters begin bracket round js\"><span>(</span></span><span class=\"punctuation definition parameters end bracket round js\"><span>)</span></span></span></span><span>&nbsp;</span><span class=\"punctuation definition function body begin bracket curly js\"><span>{</span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"keyword control js\"><span>return</span></span><span>&nbsp;param</span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"punctuation definition function body end bracket curly js\"><span>}</span></span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"punctuation definition function body end bracket curly js\"><span>}</span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div></pre>\n<p>这里用到了 Node.js 的 q 模块</p>\n<h2> </h2>\n<h3>小任务脚本 <code>css.compile.js</code></h3>\n<pre class=\"editor editor-colors\"><div class=\"line\"><span class=\"source js\"><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&#39;</span></span><span>use&nbsp;strict</span><span class=\"punctuation definition string end js\"><span>&#39;</span></span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"support variable js\"><span>module</span></span><span class=\"meta function js\"><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"entity name function js\"><span>exports</span></span><span>&nbsp;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&nbsp;</span><span class=\"storage type function js\"><span>function</span></span><span>&nbsp;</span><span class=\"meta parameters js\"><span class=\"punctuation definition parameters begin bracket round js\"><span>(</span></span><span class=\"variable parameter function js\"><span>gulp</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&nbsp;</span><span class=\"variable parameter function js\"><span>config</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&nbsp;</span><span class=\"variable parameter function js\"><span>$</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&nbsp;</span><span class=\"variable parameter function js\"><span>param</span></span><span>&nbsp;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&nbsp;</span><span class=\"constant language boolean true js\"><span>true</span></span><span class=\"punctuation definition parameters end bracket round js\"><span>)</span></span></span></span><span>&nbsp;</span><span class=\"punctuation definition function body begin bracket curly js\"><span>{</span></span></span></div><div class=\"line\"><span class=\"source js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"keyword control js\"><span>return</span></span><span>&nbsp;</span><span class=\"variable other object js\"><span>$</span></span><span class=\"meta delimiter property period js\"><span>.</span></span><span class=\"variable other object property js\"><span>q</span></span><span class=\"meta method-call js\"><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"entity name function js\"><span>fcall</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span class=\"meta function arrow js\"><span class=\"meta parameters js\"><span class=\"punctuation definition parameters begin bracket round js\"><span>(</span></span><span class=\"punctuation definition parameters end bracket round js\"><span>)</span></span></span><span>&nbsp;</span><span class=\"storage type function arrow js\"><span>=&gt;</span></span></span><span>&nbsp;</span><span class=\"constant language boolean true js\"><span>true</span></span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"entity name function js\"><span>then</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span class=\"meta function js\"><span class=\"storage type function js\"><span>function</span></span><span>&nbsp;</span><span class=\"meta parameters js\"><span class=\"punctuation definition parameters begin bracket round js\"><span>(</span></span><span class=\"punctuation definition parameters end bracket round js\"><span>)</span></span></span></span><span>&nbsp;</span><span class=\"punctuation definition function body begin bracket curly js\"><span>{</span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"keyword control js\"><span>return</span></span><span>&nbsp;</span><span class=\"variable other object js\"><span>config</span></span><span class=\"meta method-call js\"><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"entity name function js\"><span>great_promise</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span class=\"meta function js\"><span class=\"storage type function js\"><span>function</span></span><span>&nbsp;</span><span class=\"meta parameters js\"><span class=\"punctuation definition parameters begin bracket round js\"><span>(</span></span><span class=\"variable parameter function js\"><span>base</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&nbsp;</span><span class=\"variable parameter function js\"><span>def</span></span><span class=\"punctuation definition parameters end bracket round js\"><span>)</span></span></span></span><span>&nbsp;</span><span class=\"punctuation definition function body begin bracket curly js\"><span>{</span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"storage type var js\"><span>let</span></span><span>&nbsp;startTime&nbsp;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&nbsp;</span><span class=\"meta class instance constructor js\"><span class=\"keyword operator new js\"><span>new</span></span><span>&nbsp;</span><span class=\"entity name type instance js\"><span>Date</span></span></span><span class=\"meta brace round js\"><span>(</span><span>)</span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"variable other object js\"><span>config</span></span><span class=\"meta method-call js\"><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"entity name function js\"><span>jobStart</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span>$</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&nbsp;startTime</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&nbsp;</span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&#39;</span></span><span>Make&nbsp;css&nbsp;version</span><span class=\"punctuation definition string end js\"><span>&#39;</span></span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&nbsp;base</span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span>&nbsp;</span></span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"variable other object js\"><span>gulp</span></span><span class=\"meta method-call js\"><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"entity name function js\"><span>src</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span class=\"meta brace square js\"><span>[</span></span></span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"string quoted template js\"><span class=\"punctuation definition string begin js\"><span>`</span></span><span class=\"source js embedded source\"><span class=\"punctuation section embedded js\"><span>${</span></span><span>base</span><span class=\"punctuation section embedded js\"><span>}</span></span></span><span>/public/css/*.css</span><span class=\"punctuation definition string end js\"><span>`</span></span></span><span class=\"meta delimiter object comma js\"><span>,</span></span></span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"string quoted template js\"><span class=\"punctuation definition string begin js\"><span>`</span></span><span>!</span><span class=\"source js embedded source\"><span class=\"punctuation section embedded js\"><span>${</span></span><span>base</span><span class=\"punctuation section embedded js\"><span>}</span></span></span><span>/public/css/*-*.css</span><span class=\"punctuation definition string end js\"><span>`</span></span></span></span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"meta brace square js\"><span>]</span></span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"meta method-call js\"><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"entity name function js\"><span>pipe</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span class=\"variable other object js\"><span>$</span></span><span class=\"meta method-call js\"><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"entity name function js\"><span>plumber</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span></span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"meta method-call js\"><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"entity name function js\"><span>pipe</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span class=\"variable other object js\"><span>$</span></span><span class=\"meta delimiter property period js\"><span>.</span></span><span class=\"variable other object property js\"><span>sourcemaps</span></span><span class=\"meta method-call js\"><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"support function dom js\"><span>write</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&#39;</span></span><span>maps</span><span class=\"punctuation definition string end js\"><span>&#39;</span></span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&nbsp;</span><span class=\"meta brace curly js\"><span>{</span></span></span></span></span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;includeContent</span><span class=\"keyword operator assignment js\"><span>:</span></span><span>&nbsp;</span><span class=\"constant language boolean false js\"><span>false</span></span></span></span></span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"meta brace curly js\"><span>}</span></span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span></span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"meta method-call js\"><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"entity name function js\"><span>pipe</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span class=\"variable other object js\"><span>$</span></span><span class=\"meta delimiter property period js\"><span>.</span></span><span class=\"support variable property dom js\"><span>rev</span></span><span class=\"meta brace round js\"><span>(</span><span>)</span></span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"meta method-call js\"><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"entity name function js\"><span>pipe</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span class=\"variable other object js\"><span>gulp</span></span><span class=\"meta method-call js\"><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"entity name function js\"><span>dest</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span class=\"string quoted template js\"><span class=\"punctuation definition string begin js\"><span>`</span></span><span class=\"source js embedded source\"><span class=\"punctuation section embedded js\"><span>${</span></span><span>base</span><span class=\"punctuation section embedded js\"><span>}</span></span></span><span>/public/css</span><span class=\"punctuation definition string end js\"><span>`</span></span></span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span></span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"meta method-call js\"><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"entity name function js\"><span>pipe</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span class=\"variable other object js\"><span>$</span></span><span class=\"meta delimiter property period js\"><span>.</span></span><span class=\"support variable property dom js\"><span>rev</span></span><span class=\"meta method-call js\"><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"entity name function js\"><span>manifest</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span></span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"meta method-call js\"><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"entity name function js\"><span>pipe</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span class=\"variable other object js\"><span>gulp</span></span><span class=\"meta method-call js\"><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"entity name function js\"><span>dest</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span class=\"string quoted template js\"><span class=\"punctuation definition string begin js\"><span>`</span></span><span class=\"source js embedded source\"><span class=\"punctuation section embedded js\"><span>${</span></span><span>base</span><span class=\"punctuation section embedded js\"><span>}</span></span></span><span>/public/css</span><span class=\"punctuation definition string end js\"><span>`</span></span></span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span></span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"meta method-call js\"><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"entity name function js\"><span>on</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&#39;</span></span><span>end</span><span class=\"punctuation definition string end js\"><span>&#39;</span></span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&nbsp;</span><span class=\"meta function js\"><span class=\"storage type function js\"><span>function</span></span><span>&nbsp;</span><span class=\"meta parameters js\"><span class=\"punctuation definition parameters begin bracket round js\"><span>(</span></span><span class=\"punctuation definition parameters end bracket round js\"><span>)</span></span></span></span><span>&nbsp;</span><span class=\"punctuation definition function body begin bracket curly js\"><span>{</span></span></span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"storage type var js\"><span>let</span></span><span>&nbsp;endTime&nbsp;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&nbsp;</span><span class=\"meta class instance constructor js\"><span class=\"keyword operator new js\"><span>new</span></span><span>&nbsp;</span><span class=\"entity name type instance js\"><span>Date</span></span></span><span class=\"meta brace round js\"><span>(</span><span>)</span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"variable other object js\"><span>config</span></span><span class=\"meta method-call js\"><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"entity name function js\"><span>jobEnd</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span>$</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&nbsp;endTime</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&nbsp;</span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&#39;</span></span><span>Make&nbsp;css&nbsp;version</span><span class=\"punctuation definition string end js\"><span>&#39;</span></span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&nbsp;</span><span class=\"variable other object js\"><span>endTime</span></span><span class=\"meta method-call js\"><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"support function js\"><span>getTime</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span></span><span>&nbsp;</span><span class=\"keyword operator js\"><span>-</span></span><span>&nbsp;</span><span class=\"variable other object js\"><span>startTime</span></span><span class=\"meta method-call js\"><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"support function js\"><span>getTime</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&nbsp;base</span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span>&nbsp;</span></span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"variable other object js\"><span>def</span></span><span class=\"meta method-call js\"><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"entity name function js\"><span>resolve</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"punctuation definition function body end bracket curly js\"><span>}</span></span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"punctuation definition function body end bracket curly js\"><span>}</span></span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"punctuation definition function body end bracket curly js\"><span>}</span></span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"entity name function js\"><span>then</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span class=\"meta function js\"><span class=\"storage type function js\"><span>function</span></span><span>&nbsp;</span><span class=\"meta parameters js\"><span class=\"punctuation definition parameters begin bracket round js\"><span>(</span></span><span class=\"punctuation definition parameters end bracket round js\"><span>)</span></span></span></span><span>&nbsp;</span><span class=\"punctuation definition function body begin bracket curly js\"><span>{</span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"keyword control js\"><span>return</span></span><span>&nbsp;</span><span class=\"variable other object js\"><span>config</span></span><span class=\"meta method-call js\"><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"entity name function js\"><span>great_promise</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span class=\"meta function js\"><span class=\"storage type function js\"><span>function</span></span><span>&nbsp;</span><span class=\"meta parameters js\"><span class=\"punctuation definition parameters begin bracket round js\"><span>(</span></span><span class=\"variable parameter function js\"><span>base</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&nbsp;</span><span class=\"variable parameter function js\"><span>def</span></span><span class=\"punctuation definition parameters end bracket round js\"><span>)</span></span></span></span><span>&nbsp;</span><span class=\"punctuation definition function body begin bracket curly js\"><span>{</span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"storage type var js\"><span>let</span></span><span>&nbsp;startTime&nbsp;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&nbsp;</span><span class=\"meta class instance constructor js\"><span class=\"keyword operator new js\"><span>new</span></span><span>&nbsp;</span><span class=\"entity name type instance js\"><span>Date</span></span></span><span class=\"meta brace round js\"><span>(</span><span>)</span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"variable other object js\"><span>config</span></span><span class=\"meta method-call js\"><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"entity name function js\"><span>jobStart</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span>$</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&nbsp;startTime</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&nbsp;</span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&#39;</span></span><span>Change&nbsp;links</span><span class=\"punctuation definition string end js\"><span>&#39;</span></span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&nbsp;base</span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span>&nbsp;</span></span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"variable other object js\"><span>gulp</span></span><span class=\"meta method-call js\"><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"entity name function js\"><span>src</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span class=\"meta brace square js\"><span>[</span></span></span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"string quoted template js\"><span class=\"punctuation definition string begin js\"><span>`</span></span><span class=\"source js embedded source\"><span class=\"punctuation section embedded js\"><span>${</span></span><span>base</span><span class=\"punctuation section embedded js\"><span>}</span></span></span><span>/public/css/rev-manifest.json</span><span class=\"punctuation definition string end js\"><span>`</span></span></span><span class=\"meta delimiter object comma js\"><span>,</span></span></span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"string quoted template js\"><span class=\"punctuation definition string begin js\"><span>`</span></span><span class=\"source js embedded source\"><span class=\"punctuation section embedded js\"><span>${</span></span><span>base</span><span class=\"punctuation section embedded js\"><span>}</span></span></span><span>/WEB-INF/livecast/layout/*links.ftl</span><span class=\"punctuation definition string end js\"><span>`</span></span></span></span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"meta brace square js\"><span>]</span></span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"meta method-call js\"><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"entity name function js\"><span>pipe</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span class=\"variable other object js\"><span>$</span></span><span class=\"meta method-call js\"><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"entity name function js\"><span>plumber</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span></span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"meta method-call js\"><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"entity name function js\"><span>pipe</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span class=\"variable other object js\"><span>$</span></span><span class=\"meta method-call js\"><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"entity name function js\"><span>if</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span class=\"string regexp js\"><span class=\"punctuation definition string begin js\"><span>/</span></span><span class=\"constant character escape backslash regexp\"><span>\\.</span></span><span>ftl</span><span class=\"keyword control anchor regexp\"><span>$</span></span><span class=\"punctuation definition string end js\"><span>/</span></span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&nbsp;</span><span class=\"variable other object js\"><span>$</span></span><span class=\"meta method-call js\"><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"support function js\"><span>replace</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span class=\"string regexp js\"><span class=\"punctuation definition string begin js\"><span>/</span></span><span>main</span><span class=\"meta group regexp\"><span class=\"punctuation definition group regexp\"><span>(</span></span><span class=\"constant character character-class regexp\"><span>\\S</span></span><span class=\"keyword operator quantifier regexp\"><span>*</span></span><span class=\"punctuation definition group regexp\"><span>)</span></span></span><span class=\"constant character character-class regexp\"><span>.</span></span><span>css</span><span class=\"punctuation definition string end js\"><span>/</span></span><span>g</span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&nbsp;</span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&#39;</span></span><span>main.css</span><span class=\"punctuation definition string end js\"><span>&#39;</span></span></span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span></span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span></span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"meta method-call js\"><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"entity name function js\"><span>pipe</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span class=\"variable other object js\"><span>$</span></span><span class=\"meta method-call js\"><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"entity name function js\"><span>revCollector</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span></span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"meta method-call js\"><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"entity name function js\"><span>pipe</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span class=\"variable other object js\"><span>gulp</span></span><span class=\"meta method-call js\"><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"entity name function js\"><span>dest</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span class=\"string quoted template js\"><span class=\"punctuation definition string begin js\"><span>`</span></span><span class=\"source js embedded source\"><span class=\"punctuation section embedded js\"><span>${</span></span><span>base</span><span class=\"punctuation section embedded js\"><span>}</span></span></span><span>/WEB-INF/livecast/layout/</span><span class=\"punctuation definition string end js\"><span>`</span></span></span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span></span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"meta method-call js\"><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"entity name function js\"><span>on</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&#39;</span></span><span>end</span><span class=\"punctuation definition string end js\"><span>&#39;</span></span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&nbsp;</span><span class=\"meta function js\"><span class=\"storage type function js\"><span>function</span></span><span>&nbsp;</span><span class=\"meta parameters js\"><span class=\"punctuation definition parameters begin bracket round js\"><span>(</span></span><span class=\"punctuation definition parameters end bracket round js\"><span>)</span></span></span></span><span>&nbsp;</span><span class=\"punctuation definition function body begin bracket curly js\"><span>{</span></span></span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"storage type var js\"><span>let</span></span><span>&nbsp;endTime&nbsp;</span><span class=\"keyword operator assignment js\"><span>=</span></span><span>&nbsp;</span><span class=\"meta class instance constructor js\"><span class=\"keyword operator new js\"><span>new</span></span><span>&nbsp;</span><span class=\"entity name type instance js\"><span>Date</span></span></span><span class=\"meta brace round js\"><span>(</span><span>)</span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"variable other object js\"><span>config</span></span><span class=\"meta method-call js\"><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"entity name function js\"><span>jobEnd</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span>$</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&nbsp;endTime</span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&nbsp;</span><span class=\"string quoted single js\"><span class=\"punctuation definition string begin js\"><span>&#39;</span></span><span>Change&nbsp;links</span><span class=\"punctuation definition string end js\"><span>&#39;</span></span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&nbsp;</span><span class=\"variable other object js\"><span>endTime</span></span><span class=\"meta method-call js\"><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"support function js\"><span>getTime</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span></span><span>&nbsp;</span><span class=\"keyword operator js\"><span>-</span></span><span>&nbsp;</span><span class=\"variable other object js\"><span>startTime</span></span><span class=\"meta method-call js\"><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"support function js\"><span>getTime</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span></span><span class=\"meta delimiter object comma js\"><span>,</span></span><span>&nbsp;base</span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span>&nbsp;</span></span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"variable other object js\"><span>def</span></span><span class=\"meta method-call js\"><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"entity name function js\"><span>resolve</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"punctuation definition function body end bracket curly js\"><span>}</span></span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"punctuation definition function body end bracket curly js\"><span>}</span></span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"punctuation definition function body end bracket curly js\"><span>}</span></span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span><span class=\"meta delimiter method period js\"><span>.</span></span><span class=\"entity name function js\"><span>then</span></span><span class=\"meta arguments js\"><span class=\"punctuation definition arguments begin bracket round js\"><span>(</span></span><span class=\"meta function js\"><span class=\"storage type function js\"><span>function</span></span><span>&nbsp;</span><span class=\"meta parameters js\"><span class=\"punctuation definition parameters begin bracket round js\"><span>(</span></span><span class=\"punctuation definition parameters end bracket round js\"><span>)</span></span></span></span><span>&nbsp;</span><span class=\"punctuation definition function body begin bracket curly js\"><span>{</span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"keyword control js\"><span>return</span></span><span>&nbsp;param</span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"meta method-call js\"><span class=\"meta arguments js\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"punctuation definition function body end bracket curly js\"><span>}</span></span><span class=\"punctuation definition arguments end bracket round js\"><span>)</span></span></span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source js\"><span class=\"punctuation definition function body end bracket curly js\"><span>}</span></span><span class=\"punctuation terminator statement js\"><span>;</span></span></span></div></pre>\n<h2> </h2>\n<h3>运行后效果</h3>\n<img src=\"https://i.imgur.com/l6Jgsyi.jpg\" />\n<p>可以看到 <code>Recover links</code> 任务开始的顺序是 crm -> student -> teacher，最后完成顺序是 crm -> teacher -> student。</p>\n<p>每个具体任务间是串行，三个项目目录间同一个任务是并行的。</p>\n<hr>","frontmatter":{"path":"/HZuzV2Mry3o0cjvWK2JEBiBX","title":"重构你的 gulpfile","date":"2016-08-12 16:18:55 +0800","comments":true,"categories":"programming","author":"Sir0xb","tags":["gulp","es6"]},"excerpt":"用 Node.js 的 Stream 概念，gulp 实现了一套自己的 pipe，再包裹上 Promise 机制，让每个功能在一个接一个的管道中流过，宏观上实现我们需要它完成的 Task。Task 很好用，于是用了很多，结果 gulpfile…"}},{"node":{"id":"e0b373ca-a706-5492-86ef-bfe91502cc7b","html":"<p>前些时间转发微信上的文章，结果没多久，因为不可知道的原因被删除了。</p>\n<p>前些时间转发微信上的文章，结果没多久，因为不可知道的原因被删除了。看过了文章，我估计你猜一猜也知道是什么原因了，鑫哥仗义，再次发给我全文，我放在这给大家分享。</p>\n<p>私人脐带血库如此不靠谱，为什么有这么多宣传？</p>\n<p>因为太赚钱！</p>\n<!--more-->\n<p>公共脐带血库如此有用，为什么没有听到更多宣传？</p>\n<p>因为不赚钱！</p>\n<p>【自体脐带血，留着没有用】朋友辉哥老婆快生了，问鑫哥：“那个脐带血，听说很神奇，你说我要不要留一份呀？”</p>\n<p>鑫哥白了他一眼：“哥，这么有钱呀？听说保存一份小几万呢。”</p>\n<p>辉哥说：“我看他们宣传的：“脐带血可以治疗上百种疾病，包括白血病。天然完美配型，无异体排斥反应。存储脐带血一生只有一次，错过了就再无机会。你说钱可以再挣，这不是为了孩子嘛，再多钱我也愿意花呀。”</p>\n<p>鑫哥说：“有钱，你喝酸奶不舔盖是你的豪气，你愿意存孩子的脐带血也没人管你，但你要是想为了孩子，对不起，你想多了。就像献血，你献血如果是为了救助他人，那的确能帮助到其他人，可如果你自己掏几万块钱，找一家公司存上自己的血，等着万一哪天用上，那你不是傻逼吗？</p>\n<p>第一，脐带血有用，是对别人有用。脐带血和骨髓一样，含有大量的造血干细胞，可以被用于干细胞移植，在临床上可以根治白血病、地中海贫血症等很多严重的疾病。脐带血配型成功概率远高于骨髓配型。骨髓里的干细胞配型是8位的，移植成功通常需要8/8完美配型(8个位点完全符合），而对脐带血来说，干细胞配型是6位的，只需要5/6配型（6个位点有5个符合）。科学研究表明5/6配型不完美脐带血和8/8完美配型骨髓移植在治疗儿童急性白血病上成功率几乎一样。从脐带血进入临床的20多年以来，已经有几万人接受了脐带血移植，有很大比例被治愈。脐带血最主要的价值是它能构成一个巨大的干细胞库，这样大家都可以寻求有用的配型资源。在接受了脐带血移植的几万人里面，99.99%都是接受的别人的脐带血。因此捐献脐带血给公共库是有巨大社会价值的。</p>\n<p>第二、脐带血有用，你的那一份不够用。由环境因素，比如辐射、病毒等因素造成的血液系统疾病，一般都出现在孩子比较大的时候。这时再进行干细胞移植，一般就需要3-5份脐带血的量，除了自己存的那份之外，依然需要配型。一个婴儿出生能够收取到的脐带血量一般50ml左右，其中能够提取到有效的带核细胞数大约有三亿个。这个数目看似很高，但想成功进行脐带血移植的话，病人每公斤体重最少需要三千万个带核细胞，且越多越好。假设一个3、4岁的孩子有20公斤重，要成功进行脐带血移植，就需要六亿个带核细胞，这就需要至少2份脐带血。现在有种“干细胞扩增”技术，但扩增、鉴定等关键技术都还不成熟，有些干细胞，复制着复制着，就失去了原先的功能。</p>\n<p>第三、脐带血有用，有问题你没法用。对于基因突变导致的血液疾病，比如白血病，突变在怀孕阶段已经发生，因此病人出生时的脐带血里面往往已经包含了突变癌细胞。在这种情况下使用自身的脐带血进行移植，相当于用少量癌细胞去置换大量癌细胞，没有意义，保证100%复发。事实上，使用自身脐带血治愈白血病成功率极低。即便脐带血完全健康，治疗白血病最优供体是配型合适的异体脐带血。癌细胞在病人自身的免疫细胞面前很擅长伪装，因此病人自己的脐带血植入产生的免疫细胞也很难识别自身的癌细胞。相反，异体干细胞植入产生的异体免疫细胞能更好地识别并消除残余癌细胞。因此用异体脐带血比用自己的脐带血治愈白血病更好。这个在科学有个专门术语叫做GvT（移植物抗肿瘤效应）</p>\n<p>第四、脐带血有用，哪种情况可以用。根据研究，在小孩出生后20年内需要用到自己脐带血的概率极低，仅为0.04%到0.0005%，因此我们不推荐健康家庭保存自体脐带血。但如果新生儿有兄弟姐妹患有重大疾病，需要干细胞移植；或者新生儿的父母一方患有重大疾病，需要干细胞移植，且检测表明婴儿和患病父亲或母亲配型一致，这两种情况下，和专科医生沟通，看需不需要保存自体脐带血，其实还是够呛，量不够。”</p>\n<p>辉哥问：“那为啥那么多铺天盖地的宣传呢？”</p>\n<p>鑫哥说：“做广告，是要花钱的，他花的宣传费越多，说明利润越多。真要好，用得着宣传吗？自体脐带血保留，就是花钱买空气。这个套路是这么玩的。成立一家公司，挂靠某个公共脐带血库，打着它的旗号做宣传，说在他那里存了脐带血的，可以优先享受公共脐带血资源。每个私人脐带血保存收取2万人民币，建立一个1万人的脐带血库就有2亿收入。实际上，公司没条件也没兴趣保留这些脐带血，要么直接把脐带血丢到垃圾桶里，要么捐给公共脐带血库。由于自体脐带血使用概率不到万分之一，那么这个1万人的脐血库估计一辈子会有不到1个人需要自己的脐带血，万一有人需要怎么办？简单，第一，医生由于上面的原因，不会用他的脐带血。第二，一份不够，肯定需要在公共脐血库里找配型，这个本来就是顺理成章的事，在他那里就成特权了。第三。万一遇到个较真的，就要见到自己的脐带血咋办？赔钱呗！找家属谈判：这件事情走法律程序很慢，你们等不起吧？这样，赔你们200万，咱们私了。家属一般耗不起，也需要钱，道理想通了拿钱息事宁人。赔了200万，还剩1亿9千8百万，买游艇，睡名模，看《鑫哥故事会》，日子不知道有多爽呢。”</p>\n<p>辉哥说：“那脐带血不是浪费了？我到那里去找公共脐带血库捐呢。”</p>\n<p>鑫哥说：“2015年以前全国实行“一省一库”统一管理。广东省脐血库位于以前在广东省妇幼保健院内；2008年广州科学城扩建的新库投入使用，目前总面积15000平方米，储存能力130万份，已发展成为中国最大的脐血库。有兴趣，你去联系他们吧，记住，捐了，别花自己钱。”</p>\n<p>[<a target=\"_blank\" href=\"http://weibo.com/ttarticle/p/show?id=2309404004695751441983\">原文：龚晓明医生</a>]</p>\n<hr>","frontmatter":{"path":"/2J1G20NIXfeH0Gl3jXF40dIh","title":"脐带血保存，你该存不存","date":"2016-08-12 13:29:45 +0800","comments":true,"categories":"conversation","author":"龚晓明医生","tags":["思考"]},"excerpt":"…"}},{"node":{"id":"021497ee-b97e-50a4-aff1-c00b82e7507b","html":"<p>武大捉奸被踢伤后，潘金莲依旧和西门庆每日做一处。但他们也知道，武二总是要回来的。这让他们的好兴致骤然降温。好在，他们有王婆。</p>\n<p>王婆给他们出了个主意，让他们分两步走：第一步，把武大结果了，一把火烧得干干净净，没了踪迹，便是武二回来，待敢怎地？第二步，等待夫孝满日，大官人娶了家去，做个长远夫妻，偕老同欢。</p>\n<p>当天夜里，潘金莲就亲手用西门庆提供的砒霜毒死了武大。杀人不难，难在能不能做到干干净净、没有踪迹，这才是关键。</p>\n<!--more-->\n<p>但是，要干干净净、没有踪迹地瞒住所有的人是不可能的，因为没有不透风的墙。这事，早就四处透风了——紫石街谁不知这段轰轰烈烈的奸情？用《水浒传》里的话，是“街坊邻舍，都知得了”。</p>\n<p>其实，王婆之聪明，不在于她有什么高招瞒住所有的人，而是她知道根本不用瞒住所有的人——因为，在没有人权保障的社会，人，在面对恶人恶行时，往往是沉默的。</p>\n<p>所以，王婆的自信，不是来自对坏人能力的相信，而是来自对好人沉默的判断。只要确信好人在恶人恶行面前会沉默，那就可以无恶不作了。</p>\n<p>我们往下看。</p>\n<p>第二天一早，邻舍坊厢都来吊问。众邻舍明知道此人死得不明，不敢死问，只自人情劝道：“死是死了，活的自要过，娘子省烦恼。”潘金莲只得假意儿谢了。众人各自散了。</p>\n<p>你看，“众邻舍明知道此人死得不明”，但是，他们怎么样呢？他们散了！连围观都没有！</p>\n<p>因此，我们完全可以相信：如果没有武松，武大将冤沉大海！</p>\n<p>当然，王婆还是担心一个人，那就是阳谷县殡葬协会的会长——团头何九叔。王婆对西门庆、潘金莲道：“只有一件事最要紧。地方上团头何九叔，他是个精细的人，只怕他看出破绽不肯殓。”</p>\n<p>注意王婆的话，是怕他看出破绽吗？不是。邻舍坊厢都会看出破绽。要让这方面经验丰富的专家何九叔看不出破绽，是不可能的。</p>\n<p>那王婆担心何九叔的是什么呢？是怕他“不肯殓”。因为，何九叔作为入殓师，干系在身，有可能因为害怕承担责任而不敢沉默。</p>\n<p>但是，西门庆不担心。</p>\n<p>何九叔来了，西门庆截住他，拉他到一个小酒店里，送给何九叔一锭十两银子。何九叔心中疑忌，但银子还是收了。何九叔并不贪财，他收西门庆的银子，是因为怕。一怕：西门庆是个刁徒；二怕：西门庆把持官府。</p>\n<p>接下来，他现场确定武大定是中毒身死，他假装中了恶，昏迷不醒，被人用门板抬回家。声张起来，不敢，怕西门庆；不声张，又不敢，怕武二郎。</p>\n<p>权力社会和法治社会的区别是什么？权力社会里，一个人会怕另一个人。法治社会里，一个人不用怕另一个人。</p>\n<p>何九叔明明知道武大是被毒死的，但是，他怕西门庆，选择了沉默。他之所以又保存武大的骨殖以作证据，不是因为良知，而是因为他也怕武松。</p>\n<p>又怕西门庆，又怕武二郎，何九叔是可怜的。在权力社会里，所有的人都是可怜的，都是满腹惧怕的何九叔。</p>\n<p>因为怕，何九叔、武大的众邻舍们明知道武大死得不明，但谁都不愿意站出来揭开真相，还武大一个公道。大家都成了沉默的同谋。</p>\n<p>这样的沉默，我们在林冲被迫害时看到过；在金翠莲父女被镇关西欺凌时，看到过。</p>\n<p>在整个《水浒传》故事里，举凡弱者被欺凌的地方，必有沉默的大多数，站在一旁，沉默不语。</p>\n<p>假如这个世界堕入黑暗，那么，吹灭最后一盏灯的，不是坏人的嚣张气焰，而是好人的忍气吞声。</p>\n<hr>","frontmatter":{"path":"/hp1OSlbt2gZShGAstGwoZjG0","title":"凡弱者被欺凌的地方，必有沉默的大多数","date":"2016-08-12 12:17:50 +0800","comments":true,"categories":"conversation","author":"鲍鹏山","tags":["思考"]},"excerpt":"…"}},{"node":{"id":"b99e675f-00bc-54f2-b0b8-b82e645e520f","html":"<p>经常弄不清自己是谁；放历史情境里，更不知道自己会是谁。</p>\n<p>多年前的一天，我列举了中国历史上一大堆文学家、艺术家、科学家、教育家、政治家等著名人物，然后问学生们：你最崇拜其中哪一位？</p>\n<p>被选择最多的群体是政治家，政治家中被选择最多的是可想而知那几位，可想而知那几位里被选择最多的是成吉思汗。</p>\n<p>理由是，当时国家最强，打的最远，疆域最大，一代天骄，举世无双，“有威名、有魄力、有智慧、异常英勇……”</p>\n<!--more-->\n<p>接着，我问了这样一个问题：如果恰好活在他那个时代，想一想，你会是谁？</p>\n<p>问题显然有点出乎意料，众人一时摸不着头脑。</p>\n<p>好吧，我来帮你们设想一下。</p>\n<p>首先成吉思汗就一个，成为他的可能性几乎没有。退而求其次，宗室诸王、万户官、千户官，一共分封还不到百人。</p>\n<p>你不怕流血厮杀，想象当个勇猛的骑士也不错，这也一共才几十万。</p>\n<p>就是整个蒙古民族，当时不过百多万，在中国版图内各民族人口中属于很少一部分，就整个欧亚大陆来说更是如此。</p>\n<p>成吉思汗曾说，男子最大之乐事，在于压服乱众，战胜敌人，夺取其所有的一切，骑其骏马，纳其美貌之妻妾。历史记载，蒙古铁蹄所到之处，屠城无数，哀鸿遍野，文明摧毁，满目疮痍。</p>\n<p>而你，从概率上看，最有可能是家产遭掠，亲人被夺，沦为奴役，甚至死于非命的被征服民族中一员。</p>\n<p>就算你熬过了战乱，别忘了蒙古统治者还把人分为四等：蒙古人；色目人，即中西亚人；汉人；南人，也就是南宋人。后两种人按规定被打不能还手，十户一把菜刀，结婚蒙古人有初夜权，人老直接送坟墓等死，不准集会、不准拜神、不准打猎、不准买卖……你觉得你更可能是哪一等？</p>\n<p>就算你幸为蒙古人，那又如何？蒙古人也要提供大量赋役，遇到征伐，还要自备马匹、兵械、衣食出征，为筹备这些有人甚至要出卖妻儿。出征一次多少年，常常一去不复还……</p>\n<p>说到此，我停下望着他们，底下一片沉默。</p>\n<p>现在，社会变迁，思维多元，但弄不清自己是谁这种症状并未明显减少，依然经常有所表现。</p>\n<p>那年，美国发生911恐怖袭击，竟有那么多人欢呼喝彩。国际上每每发生恐怖袭击事件，尤其针对西方国家，都不乏叫好之声。恐怖主义本来是无规则、无底线、无差别的反人类，是世界公敌，好多人却当成了反对霸权的英雄。后来，塔利班组织在巴基斯坦一个高山上，杀害了多名登山者，其中包括两名中国人，有些人才惊异的意识到，恐怖分子原来也杀中国人。你以为你是谁？</p>\n<p>有次国庆节在家看电视，又见圆明园里一女游客在镜头前谈爱国，说看了遗址心里特别不舒服，侵略者把我们这么美好家园给破坏，现在他们不敢了，我们人民也不允许这样。一时间声泪俱下。</p>\n<p>且不说那场战争的发生清朝有多大责任，更不为事实俱在的抢劫辩护，我只想小声提醒一下这位女士，如果您不姓爱新觉罗，就请注意点产权问题。那圆明园是皇帝的私家园林，好像没您什么事儿，别我们我们的，那时候就算没烧，能让您进去？就是现在，您也是买了门票的吧。</p>\n<p>最近，又时常听到有人怀念、赞颂那个“火红年代”。先看看下边这些，你觉得你那个时候会是谁：“造反有理”的学生；“广阔天地练红心”的知青；遭遇“自然灾害”的农民；“停产闹革命”的工人；“知识越多越反动”的知识分子；“地富反坏右”或他们的子女；被打倒的“走资派”；被揪斗的“牛鬼蛇神”；死得不明不白的将军、元帅、国家主席……</p>\n<p>你对伟大领袖“与人斗其乐无穷”、“为有牺牲多壮志，敢叫日月换新天”的豪迈敬佩得五体投地，你怎么知道被斗的不是你，牺牲的不是你？核战争有什么了不起，中国6亿人，死一半还剩3亿，你怎么知道你不是死的那一半？</p>\n<p>当你为一种力量的崛起而赞叹，乃至热血沸腾的时候；当你为一种力量的覆灭而悲情，感到愤怒屈辱的时候；当你为一种力量的肆虐而欢呼，感觉事不关己，幸灾乐祸的时候，最好先想一想这个问题：</p>\n<p>你，以为你是谁；你，以为你会是谁？</p>\n<hr>","frontmatter":{"path":"/ElJlqXhZ6Euieu8DN6SDgZ4g","title":"你以为你是谁——致那些吃沟油操海心的人","date":"2016-08-12 12:14:10 +0800","comments":true,"categories":"conversation","author":"孙立平","tags":["思考"]},"excerpt":"…"}},{"node":{"id":"83a36fbe-3ebd-516c-b73e-d40a9d31933d","html":"<p>我们常说，中国人喜欢撒谎，做事不讲规则，没有契约精神。虽然我无法知道中国人是从什么时候开始有这些毛病，但能成为一个民族共性的现象，一定有着深刻的文化内涵。有一点我敢断言，“田忌赛马”的智慧对我们民族的这些国民性的影响是极大的，贻害也是深远的。</p>\n<p>田忌经常与齐国诸公子赛马，设重金赌注。孙膑发现他们的马脚力都差不多，可分为上、中、下三等。于是孙膑对田忌说：“您只管下大赌注，我能让您取胜。”田忌相信并答应了他，与齐王和诸公子用千金来赌胜。</p>\n<!--more-->\n<p>比赛即将开始，孙膑说：“现在用您的下等马对付他们的上等马，拿您的上等马对付他们的中等马，拿您的中等马对付他们的下等马。”三场比赛完后，田忌一场不胜而两场胜，最终赢得齐威王的千金赌注。</p>\n<p>其实，只要一点破，再读这个故事就很容易发现，田忌（孙膑）就是胜在作假、破坏规则和契约上——用下等马假充上等马、上等马假充中等马、中等马假充下等马于齐威王比赛，是“为达目的不择手段”的。</p>\n<p>可能有人会说，赛前没有定规则呀？其实，我们只要认真看看故事，就会明白，里面的规则规定的是很明确的：“齐国的大将田忌，很喜欢赛马，有一回，他和齐威王约定，要进行一场比赛。他们商量好，把各自的马分成上，中，下三等。比赛的时候，要上马对上马，中马对中马，下马对下马。由于齐威王每个等级的马都比田忌的马强得多，所以比赛了几次，田忌都失败了。……”其中所述的非常明确——约定了上马对上马、中马对中马、下马对下马进行比赛的规则，因此，田忌（孙膑）违规、违约是显而易见的。</p>\n<p>这个故事就这样传颂千古，大家都很以为然，并没有觉得有什么不妥，甚至说：这个故事表现了“孙膑细致的观察能力和运筹能力”，揭示了“如何善用自己的长处去对付对手的短处，从而在竞技中获胜”……</p>\n<p>这说明中国人普遍缺乏规则和契约意识以及对作假行为的认同，也说明我们这个民族整体是不知善恶和无耻的。也许，这也是我们民族始终无法走出蒙昧，走进文明的原因</p>\n<p>也许有人会说，虽然有些无耻，但你不能否认其聪明。这样说，只能证明我们民族确是弱智的，因为我们只能看到破坏规则和契约带来的好处，无法理解遵守规则和契约带来的巨大好处。</p>\n<p>当然，破坏规则对于少数人来说有时是高效的，但对于整体来说却是低效的，甚至是代价高昂的。比如说，在我国的很多城市都会经常发生堵车，有时一堵就是几十分钟甚至几个小时，但前年我在韩国的首尔，看到远比我们多的车辆，但人家那里几乎不堵车，在首都的大街上，车可以开到80码。人家的守规则意识太强了。我们乘坐的大巴，走匝道右转弯，直行车辆没过完之前，司机是绝对不抢道的。正因为人家人人守规则，所以人人都不当误事儿；正因为我们很多人破坏规则，抢道加塞，结果是车走的像蜗牛爬，人人受害。</p>\n<p>田忌赛马，耍的是小聪明，而一个对小聪明大加赞赏的民族，我实在是看不出他的聪明来！</p>\n<hr>","frontmatter":{"path":"/eFX5dhu5Ur2OgJIFBzQIuGos","title":"“田忌赛马”对后世的毒害之深超乎你的想象","date":"2016-08-12 11:55:40 +0800","comments":true,"categories":"conversation","author":"Sir0xb","tags":["田忌赛马","思考"]},"excerpt":"…"}}],"pathPrefix":"blog","first":false,"last":false,"index":6,"pageCount":15,"additionalContext":{}}}