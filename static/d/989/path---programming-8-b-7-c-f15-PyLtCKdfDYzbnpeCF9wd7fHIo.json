{"pageContext":{"group":[{"node":{"id":"93ac6946-5a46-59e3-94da-6475dfb3dd82","html":"<h4>log4j.properties配置如下：</h4>\n<pre class=\"editor editor-colors\"><div class=\"line\"><span class=\"text xml\"><span>log4j.rootLogger&nbsp;=&nbsp;debug,CONSOLE</span></span></div><div class=\"line\"><span class=\"text xml\"><span>log4j.appender.CONSOLE&nbsp;=&nbsp;org.apache.log4j.ConsoleAppender</span></span></div><div class=\"line\"><span class=\"text xml\"><span>log4j.appender.Threshold&nbsp;=&nbsp;debug</span></span></div><div class=\"line\"><span class=\"text xml\"><span>log4j.appender.CONSOLE.Target&nbsp;=&nbsp;System.out</span></span></div><div class=\"line\"><span class=\"text xml\"><span>log4j.appender.CONSOLE.layout&nbsp;=&nbsp;org.apache.log4j.PatternLayout</span></span></div><div class=\"line\"><span class=\"text xml\"><span>log4j.appender.CONSOLE.layout.ConversionPattern&nbsp;=</span><span class=\"constant character entity xml\"><span class=\"punctuation definition constant xml\"><span>&amp;</span></span><span>gt</span><span class=\"punctuation definition constant xml\"><span>;</span><span>&amp;</span></span><span>gt</span><span class=\"punctuation definition constant xml\"><span>;</span></span></span><span>&nbsp;%p&nbsp;</span><span class=\"constant character entity xml\"><span class=\"punctuation definition constant xml\"><span>&amp;</span></span><span>lt</span><span class=\"punctuation definition constant xml\"><span>;</span><span>&amp;</span></span><span>gt</span><span class=\"punctuation definition constant xml\"><span>;</span></span></span><span>&nbsp;%d{yyyy-MM-dd&nbsp;HH\\:mm\\:ss}%n</span><span class=\"constant character entity xml\"><span class=\"punctuation definition constant xml\"><span>&amp;</span></span><span>gt</span><span class=\"punctuation definition constant xml\"><span>;</span><span>&amp;</span></span><span>gt</span><span class=\"punctuation definition constant xml\"><span>;</span></span></span><span>&nbsp;%m%n%n</span></span></div></pre>\n<p>其中显示级别一定要选择 debug，因为在静态实现的时候也会设定。</p>\n<!--more-->\n<h4>静态log4j实现代码如下：</h4>\n<pre class=\"editor editor-colors\"><div class=\"line\"><span class=\"source java\"><span class=\"meta package java\"><span class=\"keyword other package java\"><span>package</span></span><span>&nbsp;</span><span class=\"storage modifier package java\"><span>com.winux</span></span><span class=\"punctuation terminator java\"><span>;</span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta import java\"><span class=\"keyword other import java\"><span>import</span></span><span>&nbsp;</span><span class=\"storage modifier import java\"><span>org</span><span class=\"punctuation separator java\"><span>.</span></span><span>apache</span><span class=\"punctuation separator java\"><span>.</span></span><span>log4j</span><span class=\"punctuation separator java\"><span>.</span></span><span>Logger</span></span><span class=\"punctuation terminator java\"><span>;</span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"storage modifier java\"><span>public</span></span><span>&nbsp;</span><span class=\"meta class identifier java\"><span class=\"storage modifier java\"><span>class</span></span><span>&nbsp;</span><span class=\"entity name type class java\"><span>logs</span></span></span><span>&nbsp;</span><span class=\"meta class body java\"><span class=\"punctuation section class begin java\"><span>{</span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"storage modifier java\"><span>private</span></span><span>&nbsp;</span><span class=\"meta definition variable java\"><span class=\"storage modifier java\"><span>static</span></span><span>&nbsp;</span><span class=\"storage type java\"><span>Logger</span></span><span>&nbsp;</span><span class=\"meta definition variable name java\"><span>logger</span></span><span>&nbsp;</span><span class=\"keyword operator assignment java\"><span>=</span></span><span>&nbsp;</span><span class=\"storage type java\"><span>Logger</span></span><span class=\"keyword operator dereference java\"><span>.</span></span><span class=\"meta method-call java\"><span class=\"meta method java\"><span>getLogger</span></span><span class=\"punctuation definition method-parameters begin java\"><span>(</span></span><span>logs</span><span class=\"keyword operator dereference java\"><span>.</span></span><span>class</span><span class=\"punctuation definition method-parameters end java\"><span>)</span></span></span></span><span class=\"punctuation terminator java\"><span>;</span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"storage modifier java\"><span>private</span></span><span>&nbsp;</span><span class=\"storage modifier java\"><span>static</span></span><span>&nbsp;</span><span class=\"meta definition variable java\"><span class=\"storage modifier java\"><span>final</span></span><span>&nbsp;</span><span class=\"storage type java\"><span>String</span></span><span>&nbsp;</span><span class=\"meta definition variable name java\"><span>thisClassName</span></span><span>&nbsp;</span><span class=\"keyword operator assignment java\"><span>=</span></span><span>&nbsp;logs</span><span class=\"keyword operator dereference java\"><span>.</span></span><span>class</span><span class=\"keyword operator dereference java\"><span>.</span></span><span class=\"meta method-call java\"><span class=\"meta method java\"><span>getName</span></span><span class=\"punctuation definition method-parameters begin java\"><span>(</span></span><span class=\"punctuation definition method-parameters end java\"><span>)</span></span></span></span><span class=\"punctuation terminator java\"><span>;</span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span class=\"punctuation whitespace comment leading java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class=\"comment line double-slash java\"><span class=\"punctuation definition comment java\"><span>//</span></span><span>信息分隔符</span><span>&nbsp;</span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"storage modifier java\"><span>private</span></span><span>&nbsp;</span><span class=\"storage modifier java\"><span>static</span></span><span>&nbsp;</span><span class=\"meta definition variable java\"><span class=\"storage modifier java\"><span>final</span></span><span>&nbsp;</span><span class=\"storage type java\"><span>String</span></span><span>&nbsp;</span><span class=\"meta definition variable name java\"><span>msgSplit</span></span><span>&nbsp;</span><span class=\"keyword operator assignment java\"><span>=</span></span><span>&nbsp;</span><span class=\"string quoted double java\"><span class=\"punctuation definition string begin java\"><span>&quot;</span></span><span>:</span><span class=\"punctuation definition string end java\"><span>&quot;</span></span></span></span><span class=\"punctuation terminator java\"><span>;</span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span class=\"punctuation whitespace comment leading java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class=\"comment line double-slash java\"><span class=\"punctuation definition comment java\"><span>//</span></span><span>是否要定位服务</span><span>&nbsp;</span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"storage modifier java\"><span>private</span></span><span>&nbsp;</span><span class=\"storage modifier java\"><span>static</span></span><span>&nbsp;</span><span class=\"meta definition variable java\"><span class=\"storage type primitive array java\"><span>boolean</span></span><span>&nbsp;</span><span class=\"meta definition variable name java\"><span>showLocSrc</span></span><span>&nbsp;</span><span class=\"keyword operator assignment java\"><span>=</span></span><span>&nbsp;</span><span class=\"constant language java\"><span>true</span></span></span><span class=\"punctuation terminator java\"><span>;</span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span class=\"punctuation whitespace comment leading java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class=\"comment line double-slash java\"><span class=\"punctuation definition comment java\"><span>//</span></span><span>是否显示日志</span><span>&nbsp;</span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"storage modifier java\"><span>private</span></span><span>&nbsp;</span><span class=\"storage modifier java\"><span>static</span></span><span>&nbsp;</span><span class=\"storage modifier java\"><span>final</span></span><span>&nbsp;</span><span class=\"meta definition variable java\"><span class=\"storage type primitive array java\"><span>boolean</span></span><span>&nbsp;</span><span class=\"meta definition variable name java\"><span>enabled</span></span><span>&nbsp;</span><span class=\"keyword operator assignment java\"><span>=</span></span><span>&nbsp;</span><span class=\"constant language java\"><span>true</span></span></span><span class=\"punctuation terminator java\"><span>;</span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span class=\"punctuation whitespace comment leading java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class=\"comment line double-slash java\"><span class=\"punctuation definition comment java\"><span>//</span></span><span>显示等级</span><span>&nbsp;</span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"storage modifier java\"><span>private</span></span><span>&nbsp;</span><span class=\"storage modifier java\"><span>static</span></span><span>&nbsp;</span><span class=\"meta definition variable java\"><span class=\"storage type primitive array java\"><span>int</span></span><span>&nbsp;</span><span class=\"meta definition variable name java\"><span>level</span></span><span>&nbsp;</span><span class=\"keyword operator assignment java\"><span>=</span></span><span>&nbsp;</span><span class=\"constant numeric java\"><span>1</span></span></span><span class=\"punctuation terminator java\"><span>;</span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"storage modifier java\"><span>private</span></span><span>&nbsp;</span><span class=\"storage modifier java\"><span>static</span></span><span>&nbsp;</span><span class=\"storage modifier java\"><span>final</span></span><span>&nbsp;</span><span class=\"meta definition variable java\"><span class=\"storage type primitive array java\"><span>int</span></span><span>&nbsp;</span><span class=\"meta definition variable name java\"><span>debug</span></span><span>&nbsp;</span><span class=\"keyword operator assignment java\"><span>=</span></span><span>&nbsp;</span><span class=\"constant numeric java\"><span>1</span></span></span><span class=\"punctuation terminator java\"><span>;</span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"storage modifier java\"><span>private</span></span><span>&nbsp;</span><span class=\"storage modifier java\"><span>static</span></span><span>&nbsp;</span><span class=\"storage modifier java\"><span>final</span></span><span>&nbsp;</span><span class=\"meta definition variable java\"><span class=\"storage type primitive array java\"><span>int</span></span><span>&nbsp;</span><span class=\"meta definition variable name java\"><span>info</span></span><span>&nbsp;</span><span class=\"keyword operator assignment java\"><span>=</span></span><span>&nbsp;</span><span class=\"constant numeric java\"><span>2</span></span></span><span class=\"punctuation terminator java\"><span>;</span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"storage modifier java\"><span>private</span></span><span>&nbsp;</span><span class=\"storage modifier java\"><span>static</span></span><span>&nbsp;</span><span class=\"storage modifier java\"><span>final</span></span><span>&nbsp;</span><span class=\"meta definition variable java\"><span class=\"storage type primitive array java\"><span>int</span></span><span>&nbsp;</span><span class=\"meta definition variable name java\"><span>warn</span></span><span>&nbsp;</span><span class=\"keyword operator assignment java\"><span>=</span></span><span>&nbsp;</span><span class=\"constant numeric java\"><span>3</span></span></span><span class=\"punctuation terminator java\"><span>;</span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"storage modifier java\"><span>private</span></span><span>&nbsp;</span><span class=\"storage modifier java\"><span>static</span></span><span>&nbsp;</span><span class=\"storage modifier java\"><span>final</span></span><span>&nbsp;</span><span class=\"meta definition variable java\"><span class=\"storage type primitive array java\"><span>int</span></span><span>&nbsp;</span><span class=\"meta definition variable name java\"><span>error</span></span><span>&nbsp;</span><span class=\"keyword operator assignment java\"><span>=</span></span><span>&nbsp;</span><span class=\"constant numeric java\"><span>4</span></span></span><span class=\"punctuation terminator java\"><span>;</span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span>&nbsp;</span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"meta method java\"><span class=\"storage modifier java\"><span>public</span></span><span>&nbsp;</span><span class=\"storage modifier java\"><span>static</span></span><span>&nbsp;</span><span class=\"storage modifier java\"><span>final</span></span><span>&nbsp;</span><span class=\"meta method return-type java\"><span class=\"storage type primitive array java\"><span>void</span></span><span>&nbsp;</span></span><span class=\"meta method identifier java\"><span class=\"entity name function java\"><span>debug</span></span><span>(</span><span class=\"storage type java\"><span>Object</span></span><span>&nbsp;</span><span class=\"variable parameter java\"><span>message</span></span><span>)</span></span><span>&nbsp;</span><span class=\"meta method body java\"><span class=\"punctuation section method begin java\"><span>{</span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span class=\"meta method java\"><span class=\"meta method body java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"keyword control java\"><span>if</span></span><span>&nbsp;</span><span>(</span><span class=\"keyword operator logical java\"><span>!</span></span><span>enabled&nbsp;</span><span class=\"keyword operator logical java\"><span>||</span></span><span>&nbsp;debug&nbsp;</span><span class=\"keyword operator bitwise java\"><span>&amp;</span></span><span>lt</span><span class=\"punctuation terminator java\"><span>;</span></span><span>&nbsp;level</span><span>)</span></span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span class=\"meta method java\"><span class=\"meta method body java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"keyword control java\"><span>return</span></span><span class=\"punctuation terminator java\"><span>;</span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span class=\"meta method java\"><span class=\"meta method body java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"keyword control java\"><span>if</span></span><span>&nbsp;</span><span>(</span><span>showLocSrc</span><span>)</span><span>&nbsp;</span><span class=\"punctuation section block begin java\"><span>{</span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span class=\"meta method java\"><span class=\"meta method body java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"meta method-call java\"><span class=\"meta method java\"><span>log</span></span><span class=\"punctuation definition method-parameters begin java\"><span>(</span></span><span>debug</span><span class=\"punctuation definition seperator parameter java\"><span>,</span></span><span>&nbsp;message</span><span class=\"punctuation definition seperator parameter java\"><span>,</span></span><span>&nbsp;</span><span class=\"storage type java\"><span>Thread</span></span><span class=\"keyword operator dereference java\"><span>.</span></span><span class=\"meta method-call java\"><span class=\"meta method java\"><span>currentThread</span></span><span class=\"punctuation definition method-parameters begin java\"><span>(</span></span><span class=\"punctuation definition method-parameters end java\"><span>)</span></span></span><span class=\"keyword operator dereference java\"><span>.</span></span><span class=\"meta method-call java\"><span class=\"meta method java\"><span>getStackTrace</span></span><span class=\"punctuation definition method-parameters begin java\"><span>(</span></span><span class=\"punctuation definition method-parameters end java\"><span>)</span></span></span><span class=\"punctuation definition method-parameters end java\"><span>)</span></span></span><span class=\"punctuation terminator java\"><span>;</span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span class=\"meta method java\"><span class=\"meta method body java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"punctuation section block end java\"><span>}</span></span><span>&nbsp;</span><span class=\"keyword control java\"><span>else</span></span><span>&nbsp;</span><span class=\"punctuation section block begin java\"><span>{</span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span class=\"meta method java\"><span class=\"meta method body java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"meta method-call java\"><span class=\"meta method java\"><span>log</span></span><span class=\"punctuation definition method-parameters begin java\"><span>(</span></span><span>debug</span><span class=\"punctuation definition seperator parameter java\"><span>,</span></span><span>&nbsp;message</span><span class=\"punctuation definition seperator parameter java\"><span>,</span></span><span>&nbsp;</span><span class=\"constant language java\"><span>null</span></span><span class=\"punctuation definition method-parameters end java\"><span>)</span></span></span><span class=\"punctuation terminator java\"><span>;</span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span class=\"meta method java\"><span class=\"meta method body java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"punctuation section block end java\"><span>}</span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span class=\"meta method java\"><span class=\"meta method body java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class=\"punctuation section method end java\"><span>}</span></span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span>&nbsp;</span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"meta method java\"><span class=\"storage modifier java\"><span>public</span></span><span>&nbsp;</span><span class=\"storage modifier java\"><span>static</span></span><span>&nbsp;</span><span class=\"storage modifier java\"><span>final</span></span><span>&nbsp;</span><span class=\"meta method return-type java\"><span class=\"storage type primitive array java\"><span>void</span></span><span>&nbsp;</span></span><span class=\"meta method identifier java\"><span class=\"entity name function java\"><span>info</span></span><span>(</span><span class=\"storage type java\"><span>Object</span></span><span>&nbsp;</span><span class=\"variable parameter java\"><span>message</span></span><span>)</span></span><span>&nbsp;</span><span class=\"meta method body java\"><span class=\"punctuation section method begin java\"><span>{</span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span class=\"meta method java\"><span class=\"meta method body java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"keyword control java\"><span>if</span></span><span>&nbsp;</span><span>(</span><span class=\"keyword operator logical java\"><span>!</span></span><span>enabled&nbsp;</span><span class=\"keyword operator logical java\"><span>||</span></span><span>&nbsp;info&nbsp;</span><span class=\"keyword operator bitwise java\"><span>&amp;</span></span><span>lt</span><span class=\"punctuation terminator java\"><span>;</span></span><span>&nbsp;level</span><span>)</span></span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span class=\"meta method java\"><span class=\"meta method body java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"keyword control java\"><span>return</span></span><span class=\"punctuation terminator java\"><span>;</span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span class=\"meta method java\"><span class=\"meta method body java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"keyword control java\"><span>if</span></span><span>&nbsp;</span><span>(</span><span>showLocSrc</span><span>)</span><span>&nbsp;</span><span class=\"punctuation section block begin java\"><span>{</span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span class=\"meta method java\"><span class=\"meta method body java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"meta method-call java\"><span class=\"meta method java\"><span>log</span></span><span class=\"punctuation definition method-parameters begin java\"><span>(</span></span><span>info</span><span class=\"punctuation definition seperator parameter java\"><span>,</span></span><span>&nbsp;message</span><span class=\"punctuation definition seperator parameter java\"><span>,</span></span><span>&nbsp;</span><span class=\"storage type java\"><span>Thread</span></span><span class=\"keyword operator dereference java\"><span>.</span></span><span class=\"meta method-call java\"><span class=\"meta method java\"><span>currentThread</span></span><span class=\"punctuation definition method-parameters begin java\"><span>(</span></span><span class=\"punctuation definition method-parameters end java\"><span>)</span></span></span><span class=\"keyword operator dereference java\"><span>.</span></span><span class=\"meta method-call java\"><span class=\"meta method java\"><span>getStackTrace</span></span><span class=\"punctuation definition method-parameters begin java\"><span>(</span></span><span class=\"punctuation definition method-parameters end java\"><span>)</span></span></span><span class=\"punctuation definition method-parameters end java\"><span>)</span></span></span><span class=\"punctuation terminator java\"><span>;</span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span class=\"meta method java\"><span class=\"meta method body java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"punctuation section block end java\"><span>}</span></span><span>&nbsp;</span><span class=\"keyword control java\"><span>else</span></span><span>&nbsp;</span><span class=\"punctuation section block begin java\"><span>{</span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span class=\"meta method java\"><span class=\"meta method body java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"meta method-call java\"><span class=\"meta method java\"><span>log</span></span><span class=\"punctuation definition method-parameters begin java\"><span>(</span></span><span>info</span><span class=\"punctuation definition seperator parameter java\"><span>,</span></span><span>&nbsp;message</span><span class=\"punctuation definition seperator parameter java\"><span>,</span></span><span>&nbsp;</span><span class=\"constant language java\"><span>null</span></span><span class=\"punctuation definition method-parameters end java\"><span>)</span></span></span><span class=\"punctuation terminator java\"><span>;</span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span class=\"meta method java\"><span class=\"meta method body java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"punctuation section block end java\"><span>}</span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span class=\"meta method java\"><span class=\"meta method body java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class=\"punctuation section method end java\"><span>}</span></span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span>&nbsp;</span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"meta method java\"><span class=\"storage modifier java\"><span>public</span></span><span>&nbsp;</span><span class=\"storage modifier java\"><span>static</span></span><span>&nbsp;</span><span class=\"storage modifier java\"><span>final</span></span><span>&nbsp;</span><span class=\"meta method return-type java\"><span class=\"storage type primitive array java\"><span>void</span></span><span>&nbsp;</span></span><span class=\"meta method identifier java\"><span class=\"entity name function java\"><span>warn</span></span><span>(</span><span class=\"storage type java\"><span>Object</span></span><span>&nbsp;</span><span class=\"variable parameter java\"><span>message</span></span><span>)</span></span><span>&nbsp;</span><span class=\"meta method body java\"><span class=\"punctuation section method begin java\"><span>{</span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span class=\"meta method java\"><span class=\"meta method body java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"keyword control java\"><span>if</span></span><span>&nbsp;</span><span>(</span><span class=\"keyword operator logical java\"><span>!</span></span><span>enabled&nbsp;</span><span class=\"keyword operator logical java\"><span>||</span></span><span>&nbsp;warn&nbsp;</span><span class=\"keyword operator bitwise java\"><span>&amp;</span></span><span>lt</span><span class=\"punctuation terminator java\"><span>;</span></span><span>&nbsp;level</span><span>)</span></span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span class=\"meta method java\"><span class=\"meta method body java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"keyword control java\"><span>return</span></span><span class=\"punctuation terminator java\"><span>;</span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span class=\"meta method java\"><span class=\"meta method body java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"keyword control java\"><span>if</span></span><span>&nbsp;</span><span>(</span><span>showLocSrc</span><span>)</span><span>&nbsp;</span><span class=\"punctuation section block begin java\"><span>{</span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span class=\"meta method java\"><span class=\"meta method body java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"meta method-call java\"><span class=\"meta method java\"><span>log</span></span><span class=\"punctuation definition method-parameters begin java\"><span>(</span></span><span>warn</span><span class=\"punctuation definition seperator parameter java\"><span>,</span></span><span>&nbsp;message</span><span class=\"punctuation definition seperator parameter java\"><span>,</span></span><span>&nbsp;</span><span class=\"storage type java\"><span>Thread</span></span><span class=\"keyword operator dereference java\"><span>.</span></span><span class=\"meta method-call java\"><span class=\"meta method java\"><span>currentThread</span></span><span class=\"punctuation definition method-parameters begin java\"><span>(</span></span><span class=\"punctuation definition method-parameters end java\"><span>)</span></span></span><span class=\"keyword operator dereference java\"><span>.</span></span><span class=\"meta method-call java\"><span class=\"meta method java\"><span>getStackTrace</span></span><span class=\"punctuation definition method-parameters begin java\"><span>(</span></span><span class=\"punctuation definition method-parameters end java\"><span>)</span></span></span><span class=\"punctuation definition method-parameters end java\"><span>)</span></span></span><span class=\"punctuation terminator java\"><span>;</span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span class=\"meta method java\"><span class=\"meta method body java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"punctuation section block end java\"><span>}</span></span><span>&nbsp;</span><span class=\"keyword control java\"><span>else</span></span><span>&nbsp;</span><span class=\"punctuation section block begin java\"><span>{</span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span class=\"meta method java\"><span class=\"meta method body java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"meta method-call java\"><span class=\"meta method java\"><span>log</span></span><span class=\"punctuation definition method-parameters begin java\"><span>(</span></span><span>warn</span><span class=\"punctuation definition seperator parameter java\"><span>,</span></span><span>&nbsp;message</span><span class=\"punctuation definition seperator parameter java\"><span>,</span></span><span>&nbsp;</span><span class=\"constant language java\"><span>null</span></span><span class=\"punctuation definition method-parameters end java\"><span>)</span></span></span><span class=\"punctuation terminator java\"><span>;</span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span class=\"meta method java\"><span class=\"meta method body java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"punctuation section block end java\"><span>}</span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span class=\"meta method java\"><span class=\"meta method body java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class=\"punctuation section method end java\"><span>}</span></span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span>&nbsp;</span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"meta method java\"><span class=\"storage modifier java\"><span>public</span></span><span>&nbsp;</span><span class=\"storage modifier java\"><span>static</span></span><span>&nbsp;</span><span class=\"storage modifier java\"><span>final</span></span><span>&nbsp;</span><span class=\"meta method return-type java\"><span class=\"storage type primitive array java\"><span>void</span></span><span>&nbsp;</span></span><span class=\"meta method identifier java\"><span class=\"entity name function java\"><span>error</span></span><span>(</span><span class=\"storage type java\"><span>Object</span></span><span>&nbsp;</span><span class=\"variable parameter java\"><span>message</span></span><span>)</span></span><span>&nbsp;</span><span class=\"meta method body java\"><span class=\"punctuation section method begin java\"><span>{</span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span class=\"meta method java\"><span class=\"meta method body java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"keyword control java\"><span>if</span></span><span>&nbsp;</span><span>(</span><span class=\"keyword operator logical java\"><span>!</span></span><span>enabled&nbsp;</span><span class=\"keyword operator logical java\"><span>||</span></span><span>&nbsp;error&nbsp;</span><span class=\"keyword operator bitwise java\"><span>&amp;</span></span><span>lt</span><span class=\"punctuation terminator java\"><span>;</span></span><span>&nbsp;level</span><span>)</span></span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span class=\"meta method java\"><span class=\"meta method body java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"keyword control java\"><span>return</span></span><span class=\"punctuation terminator java\"><span>;</span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span class=\"meta method java\"><span class=\"meta method body java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"keyword control java\"><span>if</span></span><span>&nbsp;</span><span>(</span><span>showLocSrc</span><span>)</span><span>&nbsp;</span><span class=\"punctuation section block begin java\"><span>{</span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span class=\"meta method java\"><span class=\"meta method body java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"meta method-call java\"><span class=\"meta method java\"><span>log</span></span><span class=\"punctuation definition method-parameters begin java\"><span>(</span></span><span>error</span><span class=\"punctuation definition seperator parameter java\"><span>,</span></span><span>&nbsp;message</span><span class=\"punctuation definition seperator parameter java\"><span>,</span></span><span>&nbsp;</span><span class=\"storage type java\"><span>Thread</span></span><span class=\"keyword operator dereference java\"><span>.</span></span><span class=\"meta method-call java\"><span class=\"meta method java\"><span>currentThread</span></span><span class=\"punctuation definition method-parameters begin java\"><span>(</span></span><span class=\"punctuation definition method-parameters end java\"><span>)</span></span></span><span class=\"keyword operator dereference java\"><span>.</span></span><span class=\"meta method-call java\"><span class=\"meta method java\"><span>getStackTrace</span></span><span class=\"punctuation definition method-parameters begin java\"><span>(</span></span><span class=\"punctuation definition method-parameters end java\"><span>)</span></span></span><span class=\"punctuation definition method-parameters end java\"><span>)</span></span></span><span class=\"punctuation terminator java\"><span>;</span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span class=\"meta method java\"><span class=\"meta method body java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"punctuation section block end java\"><span>}</span></span><span>&nbsp;</span><span class=\"keyword control java\"><span>else</span></span><span>&nbsp;</span><span class=\"punctuation section block begin java\"><span>{</span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span class=\"meta method java\"><span class=\"meta method body java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"meta method-call java\"><span class=\"meta method java\"><span>log</span></span><span class=\"punctuation definition method-parameters begin java\"><span>(</span></span><span>error</span><span class=\"punctuation definition seperator parameter java\"><span>,</span></span><span>&nbsp;message</span><span class=\"punctuation definition seperator parameter java\"><span>,</span></span><span>&nbsp;</span><span class=\"constant language java\"><span>null</span></span><span class=\"punctuation definition method-parameters end java\"><span>)</span></span></span><span class=\"punctuation terminator java\"><span>;</span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span class=\"meta method java\"><span class=\"meta method body java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"punctuation section block end java\"><span>}</span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span class=\"meta method java\"><span class=\"meta method body java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class=\"punctuation section method end java\"><span>}</span></span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span>&nbsp;</span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"meta method java\"><span class=\"storage modifier java\"><span>private</span></span><span>&nbsp;</span><span class=\"storage modifier java\"><span>static</span></span><span>&nbsp;</span><span class=\"meta method return-type java\"><span class=\"storage type java\"><span>String</span></span><span>&nbsp;</span></span><span class=\"meta method identifier java\"><span class=\"entity name function java\"><span>getStackMsg</span></span><span>(</span><span class=\"storage type object array java\"><span>StackTraceElement</span></span><span>[]&nbsp;</span><span class=\"variable parameter java\"><span>ste</span></span><span>)</span></span><span>&nbsp;</span><span class=\"meta method body java\"><span class=\"punctuation section method begin java\"><span>{</span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span class=\"meta method java\"><span class=\"meta method body java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"keyword control java\"><span>if</span></span><span>&nbsp;</span><span>(</span><span>ste&nbsp;</span><span class=\"keyword operator comparison java\"><span>==</span></span><span>&nbsp;</span><span class=\"constant language java\"><span>null</span></span><span>)</span></span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span class=\"meta method java\"><span class=\"meta method body java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"keyword control java\"><span>return</span></span><span>&nbsp;</span><span class=\"constant language java\"><span>null</span></span><span class=\"punctuation terminator java\"><span>;</span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span class=\"meta method java\"><span class=\"meta method body java\"><span>&nbsp;</span></span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span class=\"meta method java\"><span class=\"meta method body java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"storage type primitive array java\"><span>boolean</span></span><span>&nbsp;srcFlag&nbsp;</span><span class=\"keyword operator assignment java\"><span>=</span></span><span>&nbsp;</span><span class=\"constant language java\"><span>false</span></span><span class=\"punctuation terminator java\"><span>;</span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span class=\"meta method java\"><span class=\"meta method body java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"keyword control java\"><span>for</span></span><span>&nbsp;</span><span>(</span><span class=\"storage type primitive array java\"><span>int</span></span><span>&nbsp;i&nbsp;</span><span class=\"keyword operator assignment java\"><span>=</span></span><span>&nbsp;</span><span class=\"constant numeric java\"><span>0</span></span><span class=\"punctuation terminator java\"><span>;</span></span><span>&nbsp;i&nbsp;</span><span class=\"keyword operator bitwise java\"><span>&amp;</span></span><span>lt</span><span class=\"punctuation terminator java\"><span>;</span></span><span>&nbsp;ste</span><span class=\"keyword operator dereference java\"><span>.</span></span><span>length</span><span class=\"punctuation terminator java\"><span>;</span></span><span>&nbsp;i</span><span class=\"keyword operator increment-decrement java\"><span>++</span></span><span>)</span><span>&nbsp;</span><span class=\"punctuation section block begin java\"><span>{</span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span class=\"meta method java\"><span class=\"meta method body java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"storage type java\"><span>StackTraceElement</span></span><span>&nbsp;s&nbsp;</span><span class=\"keyword operator assignment java\"><span>=</span></span><span>&nbsp;ste[i]</span><span class=\"punctuation terminator java\"><span>;</span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span class=\"meta method java\"><span class=\"meta method body java\"><span>&nbsp;</span></span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span class=\"meta method java\"><span class=\"meta method body java\"><span class=\"punctuation whitespace comment leading java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class=\"comment line double-slash java\"><span class=\"punctuation definition comment java\"><span>//</span></span><span>&nbsp;如果上一行堆栈代码是本类的堆栈，则该行代码则为源代码的最原始堆栈。</span><span>&nbsp;</span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span class=\"meta method java\"><span class=\"meta method body java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"keyword control java\"><span>if</span></span><span>&nbsp;</span><span>(</span><span>srcFlag</span><span>)</span><span>&nbsp;</span><span class=\"punctuation section block begin java\"><span>{</span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span class=\"meta method java\"><span class=\"meta method body java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"keyword control java\"><span>return</span></span><span>&nbsp;s&nbsp;</span><span class=\"keyword operator comparison java\"><span>==</span></span><span>&nbsp;</span><span class=\"constant language java\"><span>null</span></span><span>&nbsp;</span><span class=\"keyword control ternary java\"><span>?</span></span><span>&nbsp;</span><span class=\"string quoted double java\"><span class=\"punctuation definition string begin java\"><span>&quot;</span></span><span class=\"punctuation definition string end java\"><span>&quot;</span></span></span><span>&nbsp;</span><span class=\"keyword control ternary java\"><span>:</span></span><span>&nbsp;s</span><span class=\"keyword operator dereference java\"><span>.</span></span><span class=\"meta method-call java\"><span class=\"meta method java\"><span>toString</span></span><span class=\"punctuation definition method-parameters begin java\"><span>(</span></span><span class=\"punctuation definition method-parameters end java\"><span>)</span></span></span><span class=\"punctuation terminator java\"><span>;</span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span class=\"meta method java\"><span class=\"meta method body java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"punctuation section block end java\"><span>}</span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span class=\"meta method java\"><span class=\"meta method body java\"><span>&nbsp;</span></span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span class=\"meta method java\"><span class=\"meta method body java\"><span class=\"punctuation whitespace comment leading java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class=\"comment line double-slash java\"><span class=\"punctuation definition comment java\"><span>//</span></span><span>&nbsp;定位本类的堆栈</span><span>&nbsp;</span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span class=\"meta method java\"><span class=\"meta method body java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"keyword control java\"><span>if</span></span><span>&nbsp;</span><span>(</span><span>thisClassName</span><span class=\"keyword operator dereference java\"><span>.</span></span><span class=\"meta method-call java\"><span class=\"meta method java\"><span>equals</span></span><span class=\"punctuation definition method-parameters begin java\"><span>(</span></span><span>s</span><span class=\"keyword operator dereference java\"><span>.</span></span><span class=\"meta method-call java\"><span class=\"meta method java\"><span>getClassName</span></span><span class=\"punctuation definition method-parameters begin java\"><span>(</span></span><span class=\"punctuation definition method-parameters end java\"><span>)</span></span></span><span class=\"punctuation definition method-parameters end java\"><span>)</span></span></span><span>)</span><span>&nbsp;</span><span class=\"punctuation section block begin java\"><span>{</span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span class=\"meta method java\"><span class=\"meta method body java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;srcFlag&nbsp;</span><span class=\"keyword operator assignment java\"><span>=</span></span><span>&nbsp;</span><span class=\"constant language java\"><span>true</span></span><span class=\"punctuation terminator java\"><span>;</span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span class=\"meta method java\"><span class=\"meta method body java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"punctuation section block end java\"><span>}</span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span class=\"meta method java\"><span class=\"meta method body java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"punctuation section block end java\"><span>}</span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span class=\"meta method java\"><span class=\"meta method body java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"keyword control java\"><span>return</span></span><span>&nbsp;</span><span class=\"constant language java\"><span>null</span></span><span class=\"punctuation terminator java\"><span>;</span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span class=\"meta method java\"><span class=\"meta method body java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class=\"punctuation section method end java\"><span>}</span></span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span>&nbsp;</span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"meta method java\"><span class=\"storage modifier java\"><span>private</span></span><span>&nbsp;</span><span class=\"storage modifier java\"><span>static</span></span><span>&nbsp;</span><span class=\"meta method return-type java\"><span class=\"storage type primitive array java\"><span>void</span></span><span>&nbsp;</span></span><span class=\"meta method identifier java\"><span class=\"entity name function java\"><span>log</span></span><span>(</span><span class=\"storage type primitive array java\"><span>int</span></span><span>&nbsp;</span><span class=\"variable parameter java\"><span>level</span></span><span>,&nbsp;</span><span class=\"storage type java\"><span>Object</span></span><span>&nbsp;</span><span class=\"variable parameter java\"><span>message</span></span><span>,&nbsp;</span><span class=\"storage type object array java\"><span>StackTraceElement</span></span><span>[]&nbsp;</span><span class=\"variable parameter java\"><span>ste</span></span><span>)</span></span><span>&nbsp;</span><span class=\"meta method body java\"><span class=\"punctuation section method begin java\"><span>{</span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span class=\"meta method java\"><span class=\"meta method body java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"keyword control java\"><span>if</span></span><span>&nbsp;</span><span>(</span><span>ste&nbsp;</span><span class=\"keyword operator comparison java\"><span>!=</span></span><span>&nbsp;</span><span class=\"constant language java\"><span>null</span></span><span>)</span><span>&nbsp;</span><span class=\"punctuation section block begin java\"><span>{</span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span class=\"meta method java\"><span class=\"meta method body java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;message&nbsp;</span><span class=\"keyword operator assignment java\"><span>=</span></span><span>&nbsp;</span><span class=\"meta method-call java\"><span class=\"meta method java\"><span>getStackMsg</span></span><span class=\"punctuation definition method-parameters begin java\"><span>(</span></span><span>ste</span><span class=\"punctuation definition method-parameters end java\"><span>)</span></span></span><span>&nbsp;</span><span class=\"keyword operator arithmetic java\"><span>+</span></span><span>&nbsp;msgSplit&nbsp;</span><span class=\"keyword operator arithmetic java\"><span>+</span></span><span>&nbsp;message</span><span class=\"punctuation terminator java\"><span>;</span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span class=\"meta method java\"><span class=\"meta method body java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"punctuation section block end java\"><span>}</span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span class=\"meta method java\"><span class=\"meta method body java\"><span>&nbsp;</span></span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span class=\"meta method java\"><span class=\"meta method body java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"keyword control java\"><span>switch</span></span><span>&nbsp;</span><span>(</span><span>level</span><span>)</span><span>&nbsp;</span><span class=\"punctuation section block begin java\"><span>{</span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span class=\"meta method java\"><span class=\"meta method body java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"keyword control java\"><span>case</span></span><span>&nbsp;info</span><span class=\"keyword control ternary java\"><span>:</span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span class=\"meta method java\"><span class=\"meta method body java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logger</span><span class=\"keyword operator dereference java\"><span>.</span></span><span class=\"meta method-call java\"><span class=\"meta method java\"><span>info</span></span><span class=\"punctuation definition method-parameters begin java\"><span>(</span></span><span>message</span><span class=\"punctuation definition method-parameters end java\"><span>)</span></span></span><span class=\"punctuation terminator java\"><span>;</span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span class=\"meta method java\"><span class=\"meta method body java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"keyword control java\"><span>break</span></span><span class=\"punctuation terminator java\"><span>;</span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span class=\"meta method java\"><span class=\"meta method body java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"keyword control java\"><span>case</span></span><span>&nbsp;debug</span><span class=\"keyword control ternary java\"><span>:</span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span class=\"meta method java\"><span class=\"meta method body java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logger</span><span class=\"keyword operator dereference java\"><span>.</span></span><span class=\"meta method-call java\"><span class=\"meta method java\"><span>debug</span></span><span class=\"punctuation definition method-parameters begin java\"><span>(</span></span><span>message</span><span class=\"punctuation definition method-parameters end java\"><span>)</span></span></span><span class=\"punctuation terminator java\"><span>;</span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span class=\"meta method java\"><span class=\"meta method body java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"keyword control java\"><span>break</span></span><span class=\"punctuation terminator java\"><span>;</span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span class=\"meta method java\"><span class=\"meta method body java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"keyword control java\"><span>case</span></span><span>&nbsp;warn</span><span class=\"keyword control ternary java\"><span>:</span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span class=\"meta method java\"><span class=\"meta method body java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logger</span><span class=\"keyword operator dereference java\"><span>.</span></span><span class=\"meta method-call java\"><span class=\"meta method java\"><span>warn</span></span><span class=\"punctuation definition method-parameters begin java\"><span>(</span></span><span>message</span><span class=\"punctuation definition method-parameters end java\"><span>)</span></span></span><span class=\"punctuation terminator java\"><span>;</span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span class=\"meta method java\"><span class=\"meta method body java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"keyword control java\"><span>break</span></span><span class=\"punctuation terminator java\"><span>;</span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span class=\"meta method java\"><span class=\"meta method body java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"keyword control java\"><span>case</span></span><span>&nbsp;error</span><span class=\"keyword control ternary java\"><span>:</span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span class=\"meta method java\"><span class=\"meta method body java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logger</span><span class=\"keyword operator dereference java\"><span>.</span></span><span class=\"meta method-call java\"><span class=\"meta method java\"><span>error</span></span><span class=\"punctuation definition method-parameters begin java\"><span>(</span></span><span>message</span><span class=\"punctuation definition method-parameters end java\"><span>)</span></span></span><span class=\"punctuation terminator java\"><span>;</span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span class=\"meta method java\"><span class=\"meta method body java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"keyword control java\"><span>break</span></span><span class=\"punctuation terminator java\"><span>;</span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span class=\"meta method java\"><span class=\"meta method body java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"keyword control java\"><span>default</span></span><span class=\"keyword control ternary java\"><span>:</span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span class=\"meta method java\"><span class=\"meta method body java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logger</span><span class=\"keyword operator dereference java\"><span>.</span></span><span class=\"meta method-call java\"><span class=\"meta method java\"><span>debug</span></span><span class=\"punctuation definition method-parameters begin java\"><span>(</span></span><span>message</span><span class=\"punctuation definition method-parameters end java\"><span>)</span></span></span><span class=\"punctuation terminator java\"><span>;</span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span class=\"meta method java\"><span class=\"meta method body java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"punctuation section block end java\"><span>}</span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span class=\"meta method java\"><span class=\"meta method body java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class=\"punctuation section method end java\"><span>}</span></span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span>&nbsp;</span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"meta method java\"><span class=\"storage modifier java\"><span>public</span></span><span>&nbsp;</span><span class=\"storage modifier java\"><span>static</span></span><span>&nbsp;</span><span class=\"meta method return-type java\"><span class=\"storage type primitive array java\"><span>void</span></span><span>&nbsp;</span></span><span class=\"meta method identifier java\"><span class=\"entity name function java\"><span>main</span></span><span>(</span><span class=\"storage type object array java\"><span>String</span></span><span>[]&nbsp;</span><span class=\"variable parameter java\"><span>args</span></span><span>)</span></span><span>&nbsp;</span><span class=\"meta method body java\"><span class=\"punctuation section method begin java\"><span>{</span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span class=\"meta method java\"><span class=\"meta method body java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logs</span><span class=\"keyword operator dereference java\"><span>.</span></span><span class=\"meta method-call java\"><span class=\"meta method java\"><span>debug</span></span><span class=\"punctuation definition method-parameters begin java\"><span>(</span></span><span class=\"string quoted double java\"><span class=\"punctuation definition string begin java\"><span>&quot;</span></span><span>测试输出</span><span class=\"punctuation definition string end java\"><span>&quot;</span></span></span><span class=\"punctuation definition method-parameters end java\"><span>)</span></span></span><span class=\"punctuation terminator java\"><span>;</span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span class=\"meta method java\"><span class=\"meta method body java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logs</span><span class=\"keyword operator dereference java\"><span>.</span></span><span class=\"meta method-call java\"><span class=\"meta method java\"><span>info</span></span><span class=\"punctuation definition method-parameters begin java\"><span>(</span></span><span class=\"string quoted double java\"><span class=\"punctuation definition string begin java\"><span>&quot;</span></span><span>测试输出</span><span class=\"punctuation definition string end java\"><span>&quot;</span></span></span><span class=\"punctuation definition method-parameters end java\"><span>)</span></span></span><span class=\"punctuation terminator java\"><span>;</span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"meta class body java\"><span class=\"meta method java\"><span class=\"meta method body java\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class=\"punctuation section method end java\"><span>}</span></span></span></span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"meta class java\"><span class=\"punctuation section class end java\"><span>}</span></span></span></span></div></pre>\n<hr>","frontmatter":{"path":"/NWmM10nSXfwe2snC1E6M8o9J","title":"Log4j静态使用","date":"2011-04-16 12:58:33 +0800","comments":true,"categories":"programming","author":"Sir0xb","tags":["java","log4j"]},"excerpt":"log4j.properties配置如下： 其中显示级别一定要选择 debug，因为在静态实现的时候也会设定。 静态log4j实现代码如下："}}],"pathPrefix":"programming","first":false,"last":true,"index":8,"pageCount":8,"additionalContext":{}}}