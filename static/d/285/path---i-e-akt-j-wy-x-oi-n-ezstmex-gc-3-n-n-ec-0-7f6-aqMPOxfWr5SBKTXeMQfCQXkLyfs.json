{"data":{"markdownRemark":{"html":"<table>\n<thead>\n<tr>\n<th>项目</th>\n<th>校验</th>\n<th>参数</th>\n<th>事件</th>\n<th>页面跳转</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>action</td>\n<td>ok</td>\n<td>不传入当前控件</td>\n<td>当铵钮被单击时产生事件.提交表单</td>\n<td>返回跳转的页面导向，根据配置文件跳转</td>\n</tr>\n<tr>\n<td>actionListener</td>\n<td>ok</td>\n<td>传入当前控件</td>\n<td>当铵钮被单击时产生事件.提交表单</td>\n<td>无返回值，返回本页面</td>\n</tr>\n<tr>\n<td>ValueChangeListener</td>\n<td>ok</td>\n<td>传入当前控件,无返回值</td>\n<td>不提交表单(需指定其onchange/onclick=“submit\"才自动提交表单</td>\n<td>返回 action, 动态生成跳转</td>\n</tr>\n</tbody>\n</table>\n<!--more-->\n<br/>\n<h4>绑定ActionListener:</h4>\n<pre class=\"editor editor-colors\"><div class=\"line\"><span class=\"source java\"><span class=\"storage type java\"><span>HtmlCommandButton</span></span><span>&nbsp;bt&nbsp;</span><span class=\"keyword operator assignment java\"><span>=</span></span><span>&nbsp;</span><span class=\"keyword control new java\"><span>new</span></span><span>&nbsp;</span><span class=\"storage type java\"><span>HtmlCommandButton</span></span><span>(</span><span>)</span><span class=\"punctuation terminator java\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source java\"><span>bt</span><span class=\"keyword operator dereference java\"><span>.</span></span><span class=\"meta method-call java\"><span class=\"meta method java\"><span>setId</span></span><span class=\"punctuation definition method-parameters begin java\"><span>(</span></span><span class=\"constant other java\"><span>ID</span></span><span class=\"punctuation definition method-parameters end java\"><span>)</span></span></span><span class=\"punctuation terminator java\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"storage type object array java\"><span>Class</span></span><span>[]&nbsp;c&nbsp;</span><span class=\"keyword operator assignment java\"><span>=</span></span><span>&nbsp;</span><span class=\"punctuation section block begin java\"><span>{</span></span><span class=\"storage type java\"><span>ActionEvent</span></span><span class=\"keyword operator dereference java\"><span>.</span></span><span>class</span><span class=\"punctuation section block end java\"><span>}</span></span><span class=\"punctuation terminator java\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"storage type java\"><span>MethodBinding</span></span><span>&nbsp;</span><span class=\"storage type java\"><span>ListenerBinding</span></span><span>&nbsp;</span><span class=\"keyword operator assignment java\"><span>=</span></span><span>&nbsp;</span><span class=\"storage type java\"><span>FacesContext</span></span><span class=\"keyword operator dereference java\"><span>.</span></span><span class=\"meta method-call java\"><span class=\"meta method java\"><span>getCurrentInstance</span></span><span class=\"punctuation definition method-parameters begin java\"><span>(</span></span><span class=\"punctuation definition method-parameters end java\"><span>)</span></span></span><span class=\"keyword operator dereference java\"><span>.</span></span><span class=\"meta method-call java\"><span class=\"meta method java\"><span>getApplication</span></span><span class=\"punctuation definition method-parameters begin java\"><span>(</span></span><span class=\"punctuation definition method-parameters end java\"><span>)</span></span></span><span class=\"keyword operator dereference java\"><span>.</span></span><span class=\"meta method-call java\"><span class=\"meta method java\"><span>createMethodBinding</span></span><span class=\"punctuation definition method-parameters begin java\"><span>(</span></span><span class=\"string quoted double java\"><span class=\"punctuation definition string begin java\"><span>&quot;</span></span><span>#{pendingBean.SetHidden}</span><span class=\"punctuation definition string end java\"><span>&quot;</span></span></span><span class=\"punctuation definition seperator parameter java\"><span>,</span></span><span>&nbsp;c</span><span class=\"punctuation definition method-parameters end java\"><span>)</span></span></span><span class=\"punctuation terminator java\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source java\"><span>bt</span><span class=\"keyword operator dereference java\"><span>.</span></span><span class=\"meta method-call java\"><span class=\"meta method java\"><span>setActionListener</span></span><span class=\"punctuation definition method-parameters begin java\"><span>(</span></span><span class=\"storage type java\"><span>ListenerBinding</span></span><span class=\"punctuation definition method-parameters end java\"><span>)</span></span></span><span class=\"punctuation terminator java\"><span>;</span></span></span></div></pre>\n<h4>绑定Action:</h4>\n<pre class=\"editor editor-colors\"><div class=\"line\"><span class=\"source java\"><span class=\"storage type java\"><span>HtmlCommandButton</span></span><span>&nbsp;bt&nbsp;</span><span class=\"keyword operator assignment java\"><span>=</span></span><span>&nbsp;</span><span class=\"keyword control new java\"><span>new</span></span><span>&nbsp;</span><span class=\"storage type java\"><span>HtmlCommandButton</span></span><span>(</span><span>)</span><span class=\"punctuation terminator java\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source java\"><span>bt</span><span class=\"keyword operator dereference java\"><span>.</span></span><span class=\"meta method-call java\"><span class=\"meta method java\"><span>setId</span></span><span class=\"punctuation definition method-parameters begin java\"><span>(</span></span><span class=\"constant other java\"><span>ID</span></span><span class=\"punctuation definition method-parameters end java\"><span>)</span></span></span><span class=\"punctuation terminator java\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"storage type java\"><span>ExpressionFactory</span></span><span>&nbsp;expFactory&nbsp;</span><span class=\"keyword operator assignment java\"><span>=</span></span><span>&nbsp;</span><span class=\"storage type java\"><span>FacesContext</span></span><span class=\"keyword operator dereference java\"><span>.</span></span><span class=\"meta method-call java\"><span class=\"meta method java\"><span>getCurrentInstance</span></span><span class=\"punctuation definition method-parameters begin java\"><span>(</span></span><span class=\"punctuation definition method-parameters end java\"><span>)</span></span></span><span class=\"keyword operator dereference java\"><span>.</span></span><span class=\"meta method-call java\"><span class=\"meta method java\"><span>getApplication</span></span><span class=\"punctuation definition method-parameters begin java\"><span>(</span></span><span class=\"punctuation definition method-parameters end java\"><span>)</span></span></span><span class=\"keyword operator dereference java\"><span>.</span></span><span class=\"meta method-call java\"><span class=\"meta method java\"><span>getExpressionFactory</span></span><span class=\"punctuation definition method-parameters begin java\"><span>(</span></span><span class=\"punctuation definition method-parameters end java\"><span>)</span></span></span><span class=\"punctuation terminator java\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"storage type java\"><span>ELContext</span></span><span>&nbsp;elContext&nbsp;</span><span class=\"keyword operator assignment java\"><span>=</span></span><span>&nbsp;</span><span class=\"storage type java\"><span>FacesContext</span></span><span class=\"keyword operator dereference java\"><span>.</span></span><span class=\"meta method-call java\"><span class=\"meta method java\"><span>getCurrentInstance</span></span><span class=\"punctuation definition method-parameters begin java\"><span>(</span></span><span class=\"punctuation definition method-parameters end java\"><span>)</span></span></span><span class=\"keyword operator dereference java\"><span>.</span></span><span class=\"meta method-call java\"><span class=\"meta method java\"><span>getELContext</span></span><span class=\"punctuation definition method-parameters begin java\"><span>(</span></span><span class=\"punctuation definition method-parameters end java\"><span>)</span></span></span><span class=\"punctuation terminator java\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source java\"><span class=\"storage type java\"><span>MethodExpression</span></span><span>&nbsp;expression&nbsp;</span><span class=\"keyword operator assignment java\"><span>=</span></span><span>&nbsp;expFactory</span><span class=\"keyword operator dereference java\"><span>.</span></span><span class=\"meta method-call java\"><span class=\"meta method java\"><span>createMethodexpression_r</span></span><span class=\"punctuation definition method-parameters begin java\"><span>(</span></span><span>elContext</span><span class=\"punctuation definition seperator parameter java\"><span>,</span></span><span>&nbsp;</span><span class=\"string quoted double java\"><span class=\"punctuation definition string begin java\"><span>&quot;</span></span><span>#{pendingBean.formList}</span><span class=\"punctuation definition string end java\"><span>&quot;</span></span></span><span class=\"punctuation definition seperator parameter java\"><span>,</span></span><span>&nbsp;</span><span class=\"storage type java\"><span>String</span></span><span class=\"keyword operator dereference java\"><span>.</span></span><span>class</span><span class=\"punctuation definition seperator parameter java\"><span>,</span></span><span>&nbsp;</span><span class=\"keyword control new java\"><span>new</span></span><span>&nbsp;</span><span class=\"storage type java\"><span>Class</span></span><span>[</span><span>]</span><span class=\"punctuation section block begin java\"><span>{</span></span><span class=\"punctuation section block end java\"><span>}</span></span><span class=\"punctuation definition method-parameters end java\"><span>)</span></span></span><span class=\"punctuation terminator java\"><span>;</span></span></span></div><div class=\"line\"><span class=\"source java\"><span>bt</span><span class=\"keyword operator dereference java\"><span>.</span></span><span class=\"meta method-call java\"><span class=\"meta method java\"><span>setActionexpression_r</span></span><span class=\"punctuation definition method-parameters begin java\"><span>(</span></span><span>expression</span><span class=\"punctuation definition method-parameters end java\"><span>)</span></span></span><span class=\"punctuation terminator java\"><span>;</span></span></span></div></pre>\n<p>当需要进行跳转并需要得到组件时，可采用绑定ActionListener再绑定Action的方式。\n在处理ActionListener时，将组件信息写入Hidden域里。\n在处理Action时，从Hidden域里提取出组件信息即可。</p>\n<hr>","frontmatter":{"path":"/iEAktJWyXOiNEzstmexGc3nN","title":"JSF中action 和 actionListener的区别","date":"2011-10-21 15:46:50 +0800","comments":true,"categories":"programming","author":"Sir0xb","tags":["jsf","action","actionListener"]}}},"pageContext":{}}