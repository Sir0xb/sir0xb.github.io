{"pageContext":{"group":[{"node":{"id":"9edf62d0-9dc8-5090-b262-9b3bec5b65b8","html":"<h5># 下载php</h5>\n<p><a target=\"_blank\" href=\"http://windows.php.net/download/\">http://windows.php.net/download/</a></p>\n<p>下载 Non Thread Safe 版本，本人下了个zip绿色版本的。</p>\n<h5># php部署到哪儿无所谓，主要是给Nginx用的，所以放Nginx目录下了。</h5>\n<h5># 找到 php.ini-development 文件，更名为 php.ini</h5>\n<h5># 修改 php.ini 配置参数：</h5>\n<pre><code class=\"language-bash\">; extension_dir = \"ext\"\n</code></pre>\n<!--more-->\n<p>修改成(下面是本人的配置，根据自己的进行修改)：</p>\n<pre><code class=\"language-bash\">extension_dir = \" C:/nginx-1.1.5/php-5.3.8/ext\"\n</code></pre>\n<p>开启如下配置注释：</p>\n<pre><code class=\"language-bash\">extension=php_curl.dll\nextension=php_gd2.dll\nextension=php_mbstring.dll\nextension=php_mysql.dll\nextension=php_pdo_odbc.dll\nextension=php_xmlrpc.dll\n</code></pre>\n<p>php 的 Session 也配一个吧，应该都没关系(随便建了个 temp 文件夹)：</p>\n<pre><code class=\"language-bash\">session.save_path = \"C:/nginx-1.1.5/php-5.3.8/temp\"\n</code></pre>\n<h5># 之后就是配置 nginx.conf 文件了，粉色部分是新加的：</h5>\n<pre><code class=\"language-bash\">server {\nlisten       80;\n    server_name  Dojo;\n    charset utf-8;\n\n    location / {\n       #主目录，相当于webapps目录\n       root   WebServer/Dojo;\n\n       #开启目录浏览\n       autoindex on;\n    }\n\n   location ~ \\.php$ {\n       root           WebServer/Dojo;\n       fastcgi_pass   127.0.0.1:9000;\n       fastcgi_index  index.php;\n       fastcgi_param  SCRIPT_FILENAME $document_root$fastcgi_script_name;\n      include        fastcgi_params;\n   }\n}\n</code></pre>\n<h4># 下载一个小工具，配置启动 bat 的时候用得上，解压后把 exe 文件丢到 php 住目录下即可。</h4>\n<p><a target=\"_blank\" href=\"http://redmine.lighttpd.net/attachments/660/RunHiddenConsole.zip\">http://redmine.lighttpd.net/attachments/660/RunHiddenConsole.zip</a></p>\n<h4># 还有一步是必须的，就是启动 Nginx 的时候，同时把 php 也启动了。还是修改启动 bat 文件为例吧。</h4>\n<pre><code class=\"language-bash\">cls\n@ECHO OFF\nSET NGINX_PATH=C:\nSET NGINX_DIR=C:\\nginx-1.1.5\\\ncolor 0a\nTITLE Nginx管理程序\nGOTO MENU\n:MENU\nCLS\nECHO.\nECHO. * * * *  Nginx Management  * * *\nECHO. *                                *\nECHO. *   1 启动Nginx                  *\nECHO. *                                *\nECHO. *   2 关闭Nginx                  *\nECHO. *                                *\nECHO. *   3 重启Nginx                  *\nECHO. *                                *\nECHO. *   4 检查配置                   *\nECHO. *                                *\nECHO. *   5 退 出                      *\nECHO. *                                *\nECHO. * * * * * * * * * * * * * * * * *\nECHO.\nECHO.请输入命令编号:\nset /p ID=\nIF \"%id%\"==\"1\" GOTO cmd1\nIF \"%id%\"==\"2\" GOTO cmd2\nIF \"%id%\"==\"3\" GOTO cmd3\nIF \"%id%\"==\"4\" GOTO cmd4\nIF \"%id%\"==\"5\" EXIT\nPAUSE\n\n:cmd1\nECHO.\n\n@ECHO OFF\nSET PHP_FCGI_MAX_REQUESTS=1000\nECHO.启动PHP FastCGI...\nRunHiddenConsole C:/nginx-1.1.5/php-5.3.8/php-cgi.exe -b 127.0.0.1:9000 -c C:/nginx-1.1.5/php-5.3.8/php.ini\n\nECHO.启动Nginx......\nIF NOT EXIST %NGINX_DIR%nginx.exe ECHO %NGINX_DIR%nginx.exe不存在\n%NGINX_PATH%\ncd %NGINX_DIR%\nIF EXIST %NGINX_DIR% start %NGINX_DIR%nginx.exe\nECHO.OK\nPAUSE\nGOTO MENU\n\n:cmd2\nECHO.\nECHO.关闭Nginx......\ntaskkill /F /IM nginx.exe > nul\nECHO.关闭 PHP FastCGI...\ntaskkill /F /IM php-cgi.exe > nul\nECHO.OK\nPAUSE\nGOTO MENU\n\n:cmd3\nECHO.\nECHO.关闭Nginx......\ntaskkill /F /IM nginx.exe > nul\nECHO.关闭PHP FastCGI...\ntaskkill /F /IM php-cgi.exe > nul\nECHO.OK\nGOTO cmd1\nGOTO MENU\n\n:cmd4\nECHO.\nECHO.检查Nginx配置......\nIF NOT EXIST %NGINX_DIR%nginx.exe ECHO %NGINX_DIR%nginx.exe不存在\n%NGINX_PATH%\ncd %NGINX_DIR%\nIF EXIST %NGINX_DIR% %NGINX_DIR%nginx.exe -t\nECHO.完成检查\nPAUSE\nGOTO MENU\n</code></pre>\n<h4># 完成之后可以用 php 页面测试一下。</h4>\n<pre><code class=\"language-html\">&#x3C;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Frameset//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-frameset.dtd\">\n&#x3C;head>\n&#x3C;meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" />\n&#x3C;title>xampp 的 php 开发环境测试页面&#x3C;/title>\n&#x3C;script type=\"text/javascript\" >\n    function thisClose(){\n            window.close();\n        }\n&#x3C;/script>\n&#x3C;/head>\n&#x3C;body>\n&#x3C;?php\n\n    for($i = 1;$i &#x3C;= 10; $i++) {\n            echo \"$i.这是一个测试页面。&#x3C;br />\";\n        }\n\n?>\n&#x3C;input id=\"btnClose\" type=\"button\" value=\"关闭窗口\" onclick=\"thisClose()\" />\n&#x3C;/body>\n&#x3C;/html>\n</code></pre>\n<p>效果如下：</p>\n<img src=\"https://i.imgur.com/FUbbJvr.png\" />\n<hr>","frontmatter":{"path":"/57OmkmFgj9nDjNmgYbvM6kQy","title":"Windows 环境下 Nginx 配置 php","date":"2011-12-26 11:40:22 +0800","comments":true,"categories":"programming","author":"Sir0xb","tags":["nginx"]},"excerpt":"# 下载php http://windows.php.net/download/ 下载 Non Thread Safe 版本，本人下了个zip绿色版本的。 # php部署到哪儿无所谓，主要是给Nginx用的，所以放Nginx目录下了。 # 找到 php.ini…"}},{"node":{"id":"d0d11c18-7ae5-50d3-827b-d925dccfee3c","html":"<pre><code class=\"language-bash\">%NGINX_DIR%/nginx.exe -t\n</code></pre>\n<p>返回结果例如：</p>\n<pre><code class=\"language-bash\">nginx: the configuration file C:\\nginx-1.1.5/conf/nginx.conf syntax is ok\nnginx: configuration file C:\\nginx-1.1.5/conf/nginx.conf test is successful\n</code></pre>\n<p>可以把检测配置文件项放到 Nginx 操作的 bat 文件里，代码如下：</p>\n<!--more-->\n<pre><code class=\"language-bash\">cls\n@ECHO OFF\nSET NGINX_PATH=C:\nSET NGINX_DIR=C:\\nginx-1.1.5\\\ncolor 0a\nTITLE Nginx管理程序\nGOTO MENU\n:MENU\nCLS\nECHO.\nECHO. * * * *  Nginx Management  * * *\nECHO. *                                *\nECHO. *   1 启动Nginx                  *\nECHO. *                                *\nECHO. *   2 关闭Nginx                  *\nECHO. *                                *\nECHO. *   3 重启Nginx                  *\nECHO. *                                *\nECHO. *   4 检查配置                   *\nECHO. *                                *\nECHO. *   5 退 出                      *\nECHO. *                                *\nECHO. * * * * * * * * * * * * * * * * *\nECHO.\nECHO.请输入命令编号:\nset /p ID=\nIF \"%id%\"==\"1\" GOTO cmd1\nIF \"%id%\"==\"2\" GOTO cmd2\nIF \"%id%\"==\"3\" GOTO cmd3\nIF \"%id%\"==\"4\" GOTO cmd4\nIF \"%id%\"==\"5\" EXIT\nPAUSE\n\n:cmd1\nECHO.\nECHO.启动Nginx......\nIF NOT EXIST %NGINX_DIR%nginx.exe ECHO %NGINX_DIR%nginx.exe不存在\n%NGINX_PATH%\ncd %NGINX_DIR%\nIF EXIST %NGINX_DIR% start %NGINX_DIR%nginx.exe\nECHO.OK\nPAUSE\nGOTO MENU\n\n:cmd2\nECHO.\nECHO.关闭Nginx......\ntaskkill /F /IM nginx.exe > nul\nECHO.OK\nPAUSE\nGOTO MENU\n\n:cmd3\nECHO.\nECHO.关闭Nginx......\ntaskkill /F /IM nginx.exe > nul\nECHO.OK\nGOTO cmd1\nGOTO MENU\n\n:cmd4\nECHO.\nECHO.检查Nginx配置......\nIF NOT EXIST %NGINX_DIR%nginx.exe ECHO %NGINX_DIR%nginx.exe不存在\n%NGINX_PATH%\ncd %NGINX_DIR%\nIF EXIST %NGINX_DIR% %NGINX_DIR%nginx.exe -t\nECHO.完成检查\nPAUSE\nGOTO MENU\n</code></pre>\n<hr>","frontmatter":{"path":"/B90COln3ySq5ZxIQAK87pn0l","title":"Nginx检测配置","date":"2011-12-26 09:19:00 +0800","comments":true,"categories":"programming","author":"Sir0xb","tags":["nginx"]},"excerpt":"返回结果例如： 可以把检测配置文件项放到 Nginx 操作的 bat 文件里，代码如下："}},{"node":{"id":"08304b6e-819a-519f-9be0-ae046afcfb0e","html":"<p><code>nginx.conf</code> 配置多个server属性即可，如下:</p>\n<pre><code class=\"language-xml\">... ...\nevents {\n    ... ...\n}\n... ...\nhttp {\n    i... ...\n    server {\n        ... ...\n    }\n\n    server {\n        ... ...\n    }\n\n    server {\n        ... ...\n    }\n\n    server {\n        ... ...\n    }\n\n    server {\n        listen       80;\n        server_name  Dojo;\n        charset utf-8;\n\n        location / {\n            root   WebServer/Dojo;\n\n            #开启目录浏览\n            autoindex on;\n        }\n    }\n}\n</code></pre>\n<p>注释：记得修改 <code>hosts</code> 文件，将 <code>server_name</code> 制定的域名，映射到 <code>127.0.0.1</code></p>\n<hr>","frontmatter":{"path":"/1i9hAd7YK2L0zPVsEi28nGD3","title":"Nginx配置虚拟服务器","date":"2011-12-26 09:15:57 +0800","comments":true,"categories":"programming","author":"Sir0xb","tags":["nginx"]},"excerpt":"nginx.conf  配置多个server属性即可，如下: 注释：记得修改  hosts  文件，将  server_name  制定的域名，映射到  127.0.0.1"}},{"node":{"id":"f61b36bd-6f1a-5c9b-90ef-58a4f2407aa6","html":"<p>　　Windows2000之前有输入法漏洞，不过在SP2中解决。这次粘滞键漏洞没有在2000中测试，不过应该也有。\nXP惊现安全漏洞</p>\n<p>　　虽然XP相对于2000，安全度提升了不少，尤其是XP SP2。但是它的管理员权限几乎是无敌的，不像Vista，只要启用了UAC（用户账户控制），管理员也只能以标准用户登陆，一旦运行、使用只有管理员可以动的东西，UAC就会弹出提示。然后来临时提升权限。</p>\n<p>　　粘滞键，可能会被大家遗忘的功能，就是连按5次Shift键弹出的对话框，在Vista中有所变化。我们就是利用这个东西。</p>\n<!--more-->\n<p>　　打开命令提示符，执行以下命令：（双斜杠后面为注释）</p>\n<pre><code class=\"language-bash\">cd %windir%\\system32\\         //进入系统盘\\Windows\\System32文件夹\n\nren sethc.exe sethcll.exe         //将sethc.exe改名为sethcll.exe\n\ncopy cmd.exe sethc.exe          //将cmd.exe复制并以sethc.exe为文件名粘贴\n</code></pre>\n<p>　 　上面的操作实际上就是将 cmd.exe 替换掉原来的 sethc.exe（粘滞键设置程序）。然后重启，然后进入需要输入密码的界面，直接连按 5 下 Shift 键，看看，是不是调出了命令提示符？直接输入 explorer，稍等片刻，就会出现桌面，你会惊喜的发现，你是用的是 SYSTEM 这个超级用户登录系统了。怎么样，对于入侵者来说，是很不错的方法吧？</p>\n<p>Vista、Win7 中漏洞依旧</p>\n<p>　 　本来以为微软知道这个漏洞，在 Vista 中可以有所防范，结果问题依旧。只是在执行 ren 改名命令时，会提示<code>拒绝访问</code>，这说明 Vista 中安全性稍高一些。你可以进入 PE 或者其他系统利用 cmd.exe 替换 sethc.exe，再重启 Vista，在登陆界面中连续按 5 次 Shift 键，cmd 又出来了，启动桌面，账户还是 SYSTEM！</p>\n<p>　　Win7 中，只要以管理员身份启动 cmd，输入上面 3 个命令，就可以轻松替换掉。只不过在 Win7 下，即使你登陆了，登录界面依然在，不显示桌面，但是开始菜单什么的就已经出现了，你就已经可以为所欲为了。</p>\n<p>堵漏洞</p>\n<p>反正这种漏洞基本上是不会有专门的补丁来解决了，我们只好用自己的方法。</p>\n<p>连按 5 次 Shift，弹出粘滞键对话款，在其中点击设置，取消选中<code>使用快捷键</code>，确定即可。这样，既使别人把键盘按碎，都没事。</p>\n<p>SYSTEM 账户</p>\n<p>顾名思义，这是系统账户，想使用 SYSTEM 比使用 Administrator 账户都难，而且 SYSTEM 拥有至高无上的权限，绝对超过 Administrator 的权限。很危险。</p>\n<p>[<a target=\"_blank\" href=\"http://xd58.com/thread-3352-1-1.html\">原文</a>]</p>\n<hr>","frontmatter":{"path":"/Z5k6vI50V34LnREG9ayad4Fk","title":"利用粘滞键漏洞绕过密码登录系统","date":"2011-12-25 21:12:10 +0800","comments":true,"categories":"programming","author":"Someone","tags":["windows"]},"excerpt":"　　Windows2000之前有输入法漏洞，不过在SP2中解决。这次粘滞键漏洞没有在2000中测试，不过应该也有。\nXP惊现安全漏洞 　　虽然XP相对于2000，安全度提升了不少，尤其是XP SP2。但是它的管理员权限几乎是无敌的，不像Vista，只要启用了UAC…"}},{"node":{"id":"e2885f39-b0af-5bf0-8a3b-25710123ee1f","html":"<p>修改 <code>hosts</code> 文件的传统方法是，用管理员方式打开 <code>notepad</code>，然后再打开 <code>hosts</code> 文件进行修改。</p>\n<p>本文提供另一种方式，仅供参考。</p>\n<p>命令行方式打开 <code>etc</code> 目录。</p>\n<p>执行如下命令:</p>\n<pre><code class=\"language-bash\">ren hosts XX.txt\nnotepad XX.txt\n</code></pre>\n<!--more-->\n<p>会弹出一个记事本窗口，对内容进行修改。</p>\n<p>完成后再执行如下命令:</p>\n<pre><code class=\"language-bash\">ren XX.txt hosts\n</code></pre>\n<p>对 <code>hosts</code> 文件修改完毕。</p>\n<p>或者可以写个批处理脚本，如下：</p>\n<pre><code class=\"language-bash\">cls\n@ECHO OFF\nSET HOSTS_PATH=C:\nSET HOSTS_DIR=C:\\Windows\\System32\\drivers\\etc\\\ncolor 0a\nTITLE hosts 配置程序\nGOTO MENU\n:MENU\nCLS\nECHO.\nECHO. * * * *  Hosts Management  * * * *\nECHO. * *\nECHO. * 1 Notepad 打开 Hosts 文件 *\nECHO. * *\nECHO. * 2 保存对 Hosts 文件的修改 *\nECHO. * *\nECHO. * 3 退 出                   *\nECHO. * *\nECHO. * * * * * * * * * * * * * * * * * * * * * * * *\nECHO.\nECHO.请输入选择项目的序号：\nset /p ID=\nIF \"%id%\"==\"1\" GOTO cmd1\nIF \"%id%\"==\"2\" GOTO cmd2\nIF \"%id%\"==\"3\" EXIT\nPAUSE\n\n:cmd1\nECHO.\nECHO.读取 Hosts 文件......\nIF NOT EXIST %HOSTS_DIR%hosts ECHO hosts 文件不存在.\n%HOSTS_PATH%\nCD %HOSTS_DIR%\nIF EXIST %HOSTS_DIR%hosts ren %HOSTS_DIR%hosts hosts.txt\n%HOSTS_PATH%\nCD %HOSTS_DIR%\nIF EXIST %HOSTS_DIR%hosts.txt notepad hosts.txt\nECHO.OK\nPAUSE\nGOTO MENU\n\n:cmd2\nECHO.\nECHO.保存 Hosts 文件......\nIF EXIST %HOSTS_DIR%hosts.txt ren %HOSTS_DIR%hosts.txt hosts\nECHO.OK\nPAUSE\nGOTO MENU\n</code></pre>\n<p>不要直接运行进行修改，要不会遇到拒绝访问的错误，如下：</p>\n<img src=\"https://i.imgur.com/BuSVpHm.png\" />\n<p>先打开一个 cmd 窗口，然后将 bat 文件拖入，在运行。效果如下：</p>\n<img src=\"https://i.imgur.com/usc9Iou.png\" />\n<p>对记事本修改完成后，记得输入 2 选项进行保存，如下：</p>\n<img src=\"https://i.imgur.com/FZAujVt.png\" />\n<hr>","frontmatter":{"path":"/OevkO7PPeBVVSgcgLqqmT9iw","title":"Win7 修改host另一种方法","date":"2011-12-25 20:41:48 +0800","comments":true,"categories":"programming","author":"Sir0xb","tags":["windows","host"]},"excerpt":"修改  hosts  文件的传统方法是，用管理员方式打开  notepad ，然后再打开  hosts  文件进行修改。 本文提供另一种方式，仅供参考。 命令行方式打开  etc…"}}],"pathPrefix":"","first":false,"last":false,"index":20,"pageCount":29,"additionalContext":{}}}