{"data":{"markdownRemark":{"html":"<h3>js 压缩合并</h3>\n<pre class=\"editor editor-colors\"><div class=\"line\"><span class=\"source coffee\"><span class=\"variable assignment coffee\"><span class=\"variable assignment coffee\"><span>gulp&nbsp;</span><span class=\"keyword operator coffee\"><span>=</span></span></span></span><span>&nbsp;</span><span class=\"support function coffee\"><span>require</span></span><span>&nbsp;</span><span class=\"string quoted double coffee\"><span class=\"punctuation definition string begin coffee\"><span>&quot;</span></span><span>gulp</span><span class=\"punctuation definition string end coffee\"><span>&quot;</span></span></span></span></div><div class=\"line\"><span class=\"source coffee\"><span class=\"variable assignment coffee\"><span class=\"variable assignment coffee\"><span>jshint&nbsp;</span><span class=\"keyword operator coffee\"><span>=</span></span></span></span><span>&nbsp;</span><span class=\"support function coffee\"><span>require</span></span><span>&nbsp;</span><span class=\"string quoted double coffee\"><span class=\"punctuation definition string begin coffee\"><span>&quot;</span></span><span>gulp-jshint</span><span class=\"punctuation definition string end coffee\"><span>&quot;</span></span></span></span></div><div class=\"line\"><span class=\"source coffee\"><span class=\"variable assignment coffee\"><span class=\"variable assignment coffee\"><span>concat&nbsp;</span><span class=\"keyword operator coffee\"><span>=</span></span></span></span><span>&nbsp;</span><span class=\"support function coffee\"><span>require</span></span><span>&nbsp;</span><span class=\"string quoted double coffee\"><span class=\"punctuation definition string begin coffee\"><span>&quot;</span></span><span>gulp-concat</span><span class=\"punctuation definition string end coffee\"><span>&quot;</span></span></span></span></div><div class=\"line\"><span class=\"source coffee\"><span class=\"variable assignment coffee\"><span class=\"variable assignment coffee\"><span>uglify&nbsp;</span><span class=\"keyword operator coffee\"><span>=</span></span></span></span><span>&nbsp;</span><span class=\"support function coffee\"><span>require</span></span><span>&nbsp;</span><span class=\"string quoted double coffee\"><span class=\"punctuation definition string begin coffee\"><span>&quot;</span></span><span>gulp-uglify</span><span class=\"punctuation definition string end coffee\"><span>&quot;</span></span></span></span></div><div class=\"line\"><span class=\"source coffee\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"source coffee\"><span>gulp</span><span class=\"meta delimiter method period coffee\"><span>.</span></span><span>task&nbsp;</span><span class=\"string quoted double coffee\"><span class=\"punctuation definition string begin coffee\"><span>&quot;</span></span><span>script</span><span class=\"punctuation definition string end coffee\"><span>&quot;</span></span></span><span class=\"meta delimiter object comma coffee\"><span>,&nbsp;</span></span><span class=\"storage type function coffee\"><span>-&gt;</span></span></span></div><div class=\"line\"><span class=\"source coffee\"><span>&nbsp;&nbsp;&nbsp;&nbsp;gulp</span><span class=\"meta delimiter method period coffee\"><span>.</span></span><span>src&nbsp;</span><span class=\"meta brace square coffee\"><span>[</span></span><span class=\"string quoted double coffee\"><span class=\"punctuation definition string begin coffee\"><span>&quot;</span></span><span>xxx</span><span class=\"punctuation definition string end coffee\"><span>&quot;</span></span></span><span class=\"meta delimiter object comma coffee\"><span>,&nbsp;</span></span><span class=\"string quoted double coffee\"><span class=\"punctuation definition string begin coffee\"><span>&quot;</span></span><span>yyy</span><span class=\"punctuation definition string end coffee\"><span>&quot;</span></span></span><span class=\"meta brace square coffee\"><span>]</span></span></span></div><div class=\"line\"><span class=\"source coffee\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"meta delimiter method period coffee\"><span>.</span></span><span>pipe&nbsp;jshint</span><span class=\"meta brace round coffee\"><span>(</span><span>)</span></span></span></div><div class=\"line\"><span class=\"source coffee\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"meta delimiter method period coffee\"><span>.</span></span><span>pipe&nbsp;concat&nbsp;</span><span class=\"string quoted double coffee\"><span class=\"punctuation definition string begin coffee\"><span>&quot;</span></span><span>base.min.js</span><span class=\"punctuation definition string end coffee\"><span>&quot;</span></span></span></span></div><div class=\"line\"><span class=\"source coffee\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"meta delimiter method period coffee\"><span>.</span></span><span>pipe&nbsp;uglify</span><span class=\"meta brace round coffee\"><span>(</span><span>)</span></span><span>&nbsp;&nbsp;&nbsp;</span><span class=\"comment line number-sign coffee\"><span class=\"punctuation definition comment coffee\"><span>#</span></span><span>&nbsp;混淆</span><span>&nbsp;</span></span></span></div><div class=\"line\"><span class=\"source coffee\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"meta delimiter method period coffee\"><span>.</span></span><span>pipe&nbsp;gulp</span><span class=\"meta delimiter method period coffee\"><span>.</span></span><span>dest&nbsp;</span><span class=\"string quoted double coffee\"><span class=\"punctuation definition string begin coffee\"><span>&quot;</span></span><span>输出目录</span><span class=\"punctuation definition string end coffee\"><span>&quot;</span></span></span></span></div></pre>\n<!--more-->\n<h2> </h2>\n<h3>js 压缩不合并</h3>\n<pre class=\"editor editor-colors\"><div class=\"line\"><span class=\"source coffee\"><span class=\"variable assignment coffee\"><span class=\"variable assignment coffee\"><span>gulp&nbsp;</span><span class=\"keyword operator coffee\"><span>=</span></span></span></span><span>&nbsp;</span><span class=\"support function coffee\"><span>require</span></span><span>&nbsp;</span><span class=\"string quoted double coffee\"><span class=\"punctuation definition string begin coffee\"><span>&quot;</span></span><span>gulp</span><span class=\"punctuation definition string end coffee\"><span>&quot;</span></span></span></span></div><div class=\"line\"><span class=\"source coffee\"><span class=\"variable assignment coffee\"><span class=\"variable assignment coffee\"><span>jshint&nbsp;</span><span class=\"keyword operator coffee\"><span>=</span></span></span></span><span>&nbsp;</span><span class=\"support function coffee\"><span>require</span></span><span>&nbsp;</span><span class=\"string quoted double coffee\"><span class=\"punctuation definition string begin coffee\"><span>&quot;</span></span><span>gulp-jshint</span><span class=\"punctuation definition string end coffee\"><span>&quot;</span></span></span></span></div><div class=\"line\"><span class=\"source coffee\"><span class=\"variable assignment coffee\"><span class=\"variable assignment coffee\"><span>rename&nbsp;</span><span class=\"keyword operator coffee\"><span>=</span></span></span></span><span>&nbsp;</span><span class=\"support function coffee\"><span>require</span></span><span>&nbsp;</span><span class=\"string quoted double coffee\"><span class=\"punctuation definition string begin coffee\"><span>&quot;</span></span><span>gulp-rename</span><span class=\"punctuation definition string end coffee\"><span>&quot;</span></span></span></span></div><div class=\"line\"><span class=\"source coffee\"><span class=\"variable assignment coffee\"><span class=\"variable assignment coffee\"><span>uglify&nbsp;</span><span class=\"keyword operator coffee\"><span>=</span></span></span></span><span>&nbsp;</span><span class=\"support function coffee\"><span>require</span></span><span>&nbsp;</span><span class=\"string quoted double coffee\"><span class=\"punctuation definition string begin coffee\"><span>&quot;</span></span><span>gulp-uglify</span><span class=\"punctuation definition string end coffee\"><span>&quot;</span></span></span></span></div><div class=\"line\"><span class=\"source coffee\"><span class=\"variable assignment coffee\"><span class=\"variable assignment coffee\"><span>sourcemaps&nbsp;</span><span class=\"keyword operator coffee\"><span>=</span></span></span></span><span>&nbsp;</span><span class=\"support function coffee\"><span>require</span></span><span>&nbsp;</span><span class=\"string quoted double coffee\"><span class=\"punctuation definition string begin coffee\"><span>&quot;</span></span><span>gulp-sourcemaps</span><span class=\"punctuation definition string end coffee\"><span>&quot;</span></span></span></span></div><div class=\"line\"><span class=\"source coffee\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"source coffee\"><span>gulp</span><span class=\"meta delimiter method period coffee\"><span>.</span></span><span>task&nbsp;</span><span class=\"string quoted double coffee\"><span class=\"punctuation definition string begin coffee\"><span>&quot;</span></span><span>script</span><span class=\"punctuation definition string end coffee\"><span>&quot;</span></span></span><span class=\"meta delimiter object comma coffee\"><span>,&nbsp;</span></span><span class=\"storage type function coffee\"><span>-&gt;</span></span></span></div><div class=\"line\"><span class=\"source coffee\"><span>&nbsp;&nbsp;&nbsp;&nbsp;gulp</span><span class=\"meta delimiter method period coffee\"><span>.</span></span><span>src&nbsp;</span><span class=\"meta brace square coffee\"><span>[</span></span><span class=\"string quoted double coffee\"><span class=\"punctuation definition string begin coffee\"><span>&quot;</span></span><span>xxx.js</span><span class=\"punctuation definition string end coffee\"><span>&quot;</span></span></span><span class=\"meta delimiter object comma coffee\"><span>,&nbsp;</span></span><span class=\"string quoted double coffee\"><span class=\"punctuation definition string begin coffee\"><span>&quot;</span></span><span>!xxx.min.js</span><span class=\"punctuation definition string end coffee\"><span>&quot;</span></span></span><span class=\"meta delimiter object comma coffee\"><span>,&nbsp;</span></span><span class=\"string quoted double coffee\"><span class=\"punctuation definition string begin coffee\"><span>&quot;</span></span><span>yyy.js</span><span class=\"punctuation definition string end coffee\"><span>&quot;</span></span></span><span class=\"meta delimiter object comma coffee\"><span>,&nbsp;</span></span><span class=\"string quoted double coffee\"><span class=\"punctuation definition string begin coffee\"><span>&quot;</span></span><span>!yyy.min.js</span><span class=\"punctuation definition string end coffee\"><span>&quot;</span></span></span><span class=\"meta brace square coffee\"><span>]</span></span></span></div><div class=\"line\"><span class=\"source coffee\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"meta delimiter method period coffee\"><span>.</span></span><span>pipe&nbsp;sourcemaps</span><span class=\"meta delimiter method period coffee\"><span>.</span></span><span>init</span><span class=\"meta brace round coffee\"><span>(</span><span>)</span></span></span></div><div class=\"line\"><span class=\"source coffee\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"meta delimiter method period coffee\"><span>.</span></span><span>pipe&nbsp;jshint</span><span class=\"meta brace round coffee\"><span>(</span><span>)</span></span></span></div><div class=\"line\"><span class=\"source coffee\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"meta delimiter method period coffee\"><span>.</span></span><span>pipe&nbsp;rename</span></span></div><div class=\"line\"><span class=\"source coffee\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"variable assignment coffee\"><span class=\"variable assignment coffee\"><span>extname</span><span class=\"punctuation separator key-value\"><span>:</span></span></span></span><span>&nbsp;</span><span class=\"string quoted double coffee\"><span class=\"punctuation definition string begin coffee\"><span>&quot;</span></span><span>.min.js</span><span class=\"punctuation definition string end coffee\"><span>&quot;</span></span></span></span></div><div class=\"line\"><span class=\"source coffee\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"meta delimiter method period coffee\"><span>.</span></span><span>pipe&nbsp;uglify</span></span></div><div class=\"line\"><span class=\"source coffee\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"variable assignment coffee\"><span class=\"variable assignment coffee\"><span>mangle</span><span class=\"punctuation separator key-value\"><span>:</span></span></span></span><span>&nbsp;</span><span class=\"constant language boolean false coffee\"><span>no</span></span><span>&nbsp;&nbsp;</span><span class=\"comment line number-sign coffee\"><span class=\"punctuation definition comment coffee\"><span>#</span></span><span>&nbsp;不混淆</span><span>&nbsp;</span></span></span></div><div class=\"line\"><span class=\"source coffee\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"meta delimiter method period coffee\"><span>.</span></span><span>pipe&nbsp;sourcemaps</span><span class=\"meta delimiter method period coffee\"><span>.</span></span><span>write&nbsp;</span><span class=\"string quoted double coffee\"><span class=\"punctuation definition string begin coffee\"><span>&quot;</span></span><span>./</span><span class=\"punctuation definition string end coffee\"><span>&quot;</span></span></span></span></div><div class=\"line\"><span class=\"source coffee\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"meta delimiter method period coffee\"><span>.</span></span><span>pipe&nbsp;gulp</span><span class=\"meta delimiter method period coffee\"><span>.</span></span><span>dest&nbsp;</span><span class=\"string quoted double coffee\"><span class=\"punctuation definition string begin coffee\"><span>&quot;</span></span><span>./</span><span class=\"punctuation definition string end coffee\"><span>&quot;</span></span></span></span></div></pre>\n<h2> </h2>\n<h3>js 压缩加版本号</h3>\n<pre class=\"editor editor-colors\"><div class=\"line\"><span class=\"source coffee\"><span class=\"variable assignment coffee\"><span class=\"variable assignment coffee\"><span>path&nbsp;</span><span class=\"keyword operator coffee\"><span>=</span></span></span></span><span>&nbsp;</span><span class=\"support function coffee\"><span>require</span></span><span>&nbsp;</span><span class=\"string quoted double coffee\"><span class=\"punctuation definition string begin coffee\"><span>&quot;</span></span><span>path</span><span class=\"punctuation definition string end coffee\"><span>&quot;</span></span></span></span></div><div class=\"line\"><span class=\"source coffee\"><span class=\"variable assignment coffee\"><span class=\"variable assignment coffee\"><span>gulp&nbsp;</span><span class=\"keyword operator coffee\"><span>=</span></span></span></span><span>&nbsp;</span><span class=\"support function coffee\"><span>require</span></span><span>&nbsp;</span><span class=\"string quoted double coffee\"><span class=\"punctuation definition string begin coffee\"><span>&quot;</span></span><span>gulp</span><span class=\"punctuation definition string end coffee\"><span>&quot;</span></span></span></span></div><div class=\"line\"><span class=\"source coffee\"><span class=\"variable assignment coffee\"><span class=\"variable assignment coffee\"><span>plumber&nbsp;</span><span class=\"keyword operator coffee\"><span>=</span></span></span></span><span>&nbsp;</span><span class=\"support function coffee\"><span>require</span></span><span>&nbsp;</span><span class=\"string quoted double coffee\"><span class=\"punctuation definition string begin coffee\"><span>&quot;</span></span><span>gulp-plumber</span><span class=\"punctuation definition string end coffee\"><span>&quot;</span></span></span></span></div><div class=\"line\"><span class=\"source coffee\"><span class=\"variable assignment coffee\"><span class=\"variable assignment coffee\"><span>jshint&nbsp;</span><span class=\"keyword operator coffee\"><span>=</span></span></span></span><span>&nbsp;</span><span class=\"support function coffee\"><span>require</span></span><span>&nbsp;</span><span class=\"string quoted double coffee\"><span class=\"punctuation definition string begin coffee\"><span>&quot;</span></span><span>gulp-jshint</span><span class=\"punctuation definition string end coffee\"><span>&quot;</span></span></span></span></div><div class=\"line\"><span class=\"source coffee\"><span class=\"variable assignment coffee\"><span class=\"variable assignment coffee\"><span>rename&nbsp;</span><span class=\"keyword operator coffee\"><span>=</span></span></span></span><span>&nbsp;</span><span class=\"support function coffee\"><span>require</span></span><span>&nbsp;</span><span class=\"string quoted double coffee\"><span class=\"punctuation definition string begin coffee\"><span>&quot;</span></span><span>gulp-rename</span><span class=\"punctuation definition string end coffee\"><span>&quot;</span></span></span></span></div><div class=\"line\"><span class=\"source coffee\"><span class=\"variable assignment coffee\"><span class=\"variable assignment coffee\"><span>uglify&nbsp;</span><span class=\"keyword operator coffee\"><span>=</span></span></span></span><span>&nbsp;</span><span class=\"support function coffee\"><span>require</span></span><span>&nbsp;</span><span class=\"string quoted double coffee\"><span class=\"punctuation definition string begin coffee\"><span>&quot;</span></span><span>gulp-uglify</span><span class=\"punctuation definition string end coffee\"><span>&quot;</span></span></span></span></div><div class=\"line\"><span class=\"source coffee\"><span class=\"variable assignment coffee\"><span class=\"variable assignment coffee\"><span>rev&nbsp;</span><span class=\"keyword operator coffee\"><span>=</span></span></span></span><span>&nbsp;</span><span class=\"support function coffee\"><span>require</span></span><span>&nbsp;</span><span class=\"string quoted double coffee\"><span class=\"punctuation definition string begin coffee\"><span>&quot;</span></span><span>gulp-rev</span><span class=\"punctuation definition string end coffee\"><span>&quot;</span></span></span></span></div><div class=\"line\"><span class=\"source coffee\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"source coffee\"><span>gulp</span><span class=\"meta delimiter method period coffee\"><span>.</span></span><span>task&nbsp;</span><span class=\"string quoted double coffee\"><span class=\"punctuation definition string begin coffee\"><span>&quot;</span></span><span>script</span><span class=\"punctuation definition string end coffee\"><span>&quot;</span></span></span><span class=\"meta delimiter object comma coffee\"><span>,&nbsp;</span></span><span class=\"storage type function coffee\"><span>-&gt;</span></span></span></div><div class=\"line\"><span class=\"source coffee\"><span>&nbsp;&nbsp;&nbsp;&nbsp;gulp</span><span class=\"meta delimiter method period coffee\"><span>.</span></span><span>src&nbsp;</span><span class=\"meta brace square coffee\"><span>[</span></span><span class=\"string quoted double coffee\"><span class=\"punctuation definition string begin coffee\"><span>&quot;</span></span><span>xxxx.js</span><span class=\"punctuation definition string end coffee\"><span>&quot;</span></span></span><span class=\"meta delimiter object comma coffee\"><span>,&nbsp;</span></span><span class=\"string quoted double coffee\"><span class=\"punctuation definition string begin coffee\"><span>&quot;</span></span><span>!xxx.min.js</span><span class=\"punctuation definition string end coffee\"><span>&quot;</span></span></span><span class=\"meta brace square coffee\"><span>]</span></span></span></div><div class=\"line\"><span class=\"source coffee\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"meta delimiter method period coffee\"><span>.</span></span><span>pipe&nbsp;plumber</span><span class=\"meta brace round coffee\"><span>(</span><span>)</span></span></span></div><div class=\"line\"><span class=\"source coffee\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"meta delimiter method period coffee\"><span>.</span></span><span>pipe&nbsp;jshint</span><span class=\"meta brace round coffee\"><span>(</span><span>)</span></span></span></div><div class=\"line\"><span class=\"source coffee\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"meta delimiter method period coffee\"><span>.</span></span><span>pipe&nbsp;rename</span></span></div><div class=\"line\"><span class=\"source coffee\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"variable assignment coffee\"><span class=\"variable assignment coffee\"><span>extname</span><span class=\"punctuation separator key-value\"><span>:</span></span></span></span><span>&nbsp;</span><span class=\"string quoted double coffee\"><span class=\"punctuation definition string begin coffee\"><span>&quot;</span></span><span>.min.js</span><span class=\"punctuation definition string end coffee\"><span>&quot;</span></span></span></span></div><div class=\"line\"><span class=\"source coffee\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"meta delimiter method period coffee\"><span>.</span></span><span>pipe&nbsp;uglify</span></span></div><div class=\"line\"><span class=\"source coffee\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"variable assignment coffee\"><span class=\"variable assignment coffee\"><span>managle</span><span class=\"punctuation separator key-value\"><span>:</span></span></span></span><span>&nbsp;</span><span class=\"constant language boolean false coffee\"><span>no</span></span></span></div><div class=\"line\"><span class=\"source coffee\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"meta delimiter method period coffee\"><span>.</span></span><span>pipe&nbsp;rev</span><span class=\"meta brace round coffee\"><span>(</span><span>)</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"comment line number-sign coffee\"><span class=\"punctuation definition comment coffee\"><span>#</span></span><span>&nbsp;加版本号</span><span>&nbsp;</span></span></span></div><div class=\"line\"><span class=\"source coffee\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"meta delimiter method period coffee\"><span>.</span></span><span>pipe&nbsp;gulp</span><span class=\"meta delimiter method period coffee\"><span>.</span></span><span>dest&nbsp;</span><span class=\"string quoted double coffee\"><span class=\"punctuation definition string begin coffee\"><span>&quot;</span></span><span>压缩文件</span><span class=\"punctuation definition string end coffee\"><span>&quot;</span></span></span></span></div><div class=\"line\"><span class=\"source coffee\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"meta delimiter method period coffee\"><span>.</span></span><span>pipe&nbsp;rev</span><span class=\"meta delimiter method period coffee\"><span>.</span></span><span>manifest&nbsp;&nbsp;&nbsp;</span><span class=\"comment line number-sign coffee\"><span class=\"punctuation definition comment coffee\"><span>#</span></span><span>&nbsp;这部分解决&nbsp;js&nbsp;html&nbsp;同时压缩时映射文件被覆盖问题</span><span>&nbsp;</span></span></span></div><div class=\"line\"><span class=\"source coffee\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"variable assignment coffee\"><span class=\"variable assignment coffee\"><span>path&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"punctuation separator key-value\"><span>:</span></span></span></span><span>&nbsp;path</span><span class=\"meta delimiter method period coffee\"><span>.</span></span><span class=\"support function method array coffee\"><span>join</span></span><span>&nbsp;</span><span class=\"support variable coffee\"><span>__dirname</span></span><span class=\"meta delimiter object comma coffee\"><span>,&nbsp;</span></span><span class=\"string quoted double coffee\"><span class=\"punctuation definition string begin coffee\"><span>&quot;</span></span><span>映射文件目录/</span><span class=\"source coffee embedded source\"><span class=\"punctuation section embedded coffee\"><span>#{</span></span><span>appName</span><span class=\"punctuation section embedded coffee\"><span>}</span></span></span><span>/rev-manifest.json</span><span class=\"punctuation definition string end coffee\"><span>&quot;</span></span></span></span></div><div class=\"line\"><span class=\"source coffee\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"variable assignment coffee\"><span class=\"variable assignment coffee\"><span>cwd&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"punctuation separator key-value\"><span>:</span></span></span></span><span>&nbsp;path</span><span class=\"meta delimiter method period coffee\"><span>.</span></span><span class=\"support function method array coffee\"><span>join</span></span><span>&nbsp;</span><span class=\"support variable coffee\"><span>__dirname</span></span><span class=\"meta delimiter object comma coffee\"><span>,&nbsp;</span></span><span class=\"string quoted double coffee\"><span class=\"punctuation definition string begin coffee\"><span>&quot;</span></span><span>映射文件目录</span><span class=\"punctuation definition string end coffee\"><span>&quot;</span></span></span></span></div><div class=\"line\"><span class=\"source coffee\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"variable assignment coffee\"><span class=\"variable assignment coffee\"><span>merge&nbsp;&nbsp;&nbsp;</span><span class=\"punctuation separator key-value\"><span>:</span></span></span></span><span>&nbsp;</span><span class=\"constant language boolean true coffee\"><span>yes</span></span></span></div><div class=\"line\"><span class=\"source coffee\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"meta delimiter method period coffee\"><span>.</span></span><span>pipe&nbsp;gulp</span><span class=\"meta delimiter method period coffee\"><span>.</span></span><span>dest&nbsp;</span><span class=\"string quoted double coffee\"><span class=\"punctuation definition string begin coffee\"><span>&quot;</span></span><span>版本文件输出目录</span><span class=\"punctuation definition string end coffee\"><span>&quot;</span></span></span></span></div></pre>\n<h2> </h2>\n<h3>css 压缩合并</h3>\n<pre class=\"editor editor-colors\"><div class=\"line\"><span class=\"source coffee\"><span class=\"variable assignment coffee\"><span class=\"variable assignment coffee\"><span>gulp&nbsp;</span><span class=\"keyword operator coffee\"><span>=</span></span></span></span><span>&nbsp;</span><span class=\"support function coffee\"><span>require</span></span><span>&nbsp;</span><span class=\"string quoted double coffee\"><span class=\"punctuation definition string begin coffee\"><span>&quot;</span></span><span>gulp</span><span class=\"punctuation definition string end coffee\"><span>&quot;</span></span></span></span></div><div class=\"line\"><span class=\"source coffee\"><span class=\"variable assignment coffee\"><span class=\"variable assignment coffee\"><span>rename&nbsp;</span><span class=\"keyword operator coffee\"><span>=</span></span></span></span><span>&nbsp;</span><span class=\"support function coffee\"><span>require</span></span><span>&nbsp;</span><span class=\"string quoted double coffee\"><span class=\"punctuation definition string begin coffee\"><span>&quot;</span></span><span>gulp-rename</span><span class=\"punctuation definition string end coffee\"><span>&quot;</span></span></span></span></div><div class=\"line\"><span class=\"source coffee\"><span class=\"variable assignment coffee\"><span class=\"variable assignment coffee\"><span>cssImport&nbsp;</span><span class=\"keyword operator coffee\"><span>=</span></span></span></span><span>&nbsp;</span><span class=\"support function coffee\"><span>require</span></span><span>&nbsp;</span><span class=\"string quoted double coffee\"><span class=\"punctuation definition string begin coffee\"><span>&quot;</span></span><span>gulp-cssimport</span><span class=\"punctuation definition string end coffee\"><span>&quot;</span></span></span></span></div><div class=\"line\"><span class=\"source coffee\"><span class=\"variable assignment coffee\"><span class=\"variable assignment coffee\"><span>cssmin&nbsp;</span><span class=\"keyword operator coffee\"><span>=</span></span></span></span><span>&nbsp;</span><span class=\"support function coffee\"><span>require</span></span><span>&nbsp;</span><span class=\"string quoted double coffee\"><span class=\"punctuation definition string begin coffee\"><span>&quot;</span></span><span>gulp-cssmin</span><span class=\"punctuation definition string end coffee\"><span>&quot;</span></span></span></span></div><div class=\"line\"><span class=\"source coffee\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"source coffee\"><span>gulp</span><span class=\"meta delimiter method period coffee\"><span>.</span></span><span>task&nbsp;</span><span class=\"string quoted double coffee\"><span class=\"punctuation definition string begin coffee\"><span>&quot;</span></span><span>css</span><span class=\"punctuation definition string end coffee\"><span>&quot;</span></span></span><span class=\"meta delimiter object comma coffee\"><span>,&nbsp;</span></span><span class=\"storage type function coffee\"><span>-&gt;</span></span></span></div><div class=\"line\"><span class=\"source coffee\"><span>&nbsp;&nbsp;&nbsp;&nbsp;gulp</span><span class=\"meta delimiter method period coffee\"><span>.</span></span><span>src&nbsp;</span><span class=\"meta brace square coffee\"><span>[</span></span><span class=\"string quoted double coffee\"><span class=\"punctuation definition string begin coffee\"><span>&quot;</span></span><span>xxx</span><span class=\"punctuation definition string end coffee\"><span>&quot;</span></span></span><span class=\"meta delimiter object comma coffee\"><span>,&nbsp;</span></span><span class=\"string quoted double coffee\"><span class=\"punctuation definition string begin coffee\"><span>&quot;</span></span><span>yyy</span><span class=\"punctuation definition string end coffee\"><span>&quot;</span></span></span><span class=\"meta brace square coffee\"><span>]</span></span></span></div><div class=\"line\"><span class=\"source coffee\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"meta delimiter method period coffee\"><span>.</span></span><span>pipe&nbsp;rename</span></span></div><div class=\"line\"><span class=\"source coffee\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"variable assignment coffee\"><span class=\"variable assignment coffee\"><span>extname</span><span class=\"punctuation separator key-value\"><span>:</span></span></span></span><span>&nbsp;</span><span class=\"string quoted double coffee\"><span class=\"punctuation definition string begin coffee\"><span>&quot;</span></span><span>.min.css</span><span class=\"punctuation definition string end coffee\"><span>&quot;</span></span></span></span></div><div class=\"line\"><span class=\"source coffee\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"meta delimiter method period coffee\"><span>.</span></span><span>pipe&nbsp;cssImport</span><span class=\"meta brace round coffee\"><span>(</span><span>)</span></span></span></div><div class=\"line\"><span class=\"source coffee\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"meta delimiter method period coffee\"><span>.</span></span><span>pipe&nbsp;cssmin</span></span></div><div class=\"line\"><span class=\"source coffee\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"variable assignment coffee\"><span class=\"variable assignment coffee\"><span>compatibility</span><span class=\"punctuation separator key-value\"><span>:</span></span></span></span><span>&nbsp;</span><span class=\"string quoted double coffee\"><span class=\"punctuation definition string begin coffee\"><span>&quot;</span></span><span>ie7</span><span class=\"punctuation definition string end coffee\"><span>&quot;</span></span></span></span></div><div class=\"line\"><span class=\"source coffee\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"meta delimiter method period coffee\"><span>.</span></span><span>pipe&nbsp;gulp</span><span class=\"meta delimiter method period coffee\"><span>.</span></span><span>dest&nbsp;</span><span class=\"string quoted double coffee\"><span class=\"punctuation definition string begin coffee\"><span>&quot;</span></span><span>输出目录</span><span class=\"punctuation definition string end coffee\"><span>&quot;</span></span></span></span></div></pre>\n<h2> </h2>\n<h3>html 压缩</h3>\n<pre class=\"editor editor-colors\"><div class=\"line\"><span class=\"source coffee\"><span class=\"variable assignment coffee\"><span class=\"variable assignment coffee\"><span>gulp&nbsp;</span><span class=\"keyword operator coffee\"><span>=</span></span></span></span><span>&nbsp;</span><span class=\"support function coffee\"><span>require</span></span><span>&nbsp;</span><span class=\"string quoted double coffee\"><span class=\"punctuation definition string begin coffee\"><span>&quot;</span></span><span>gulp</span><span class=\"punctuation definition string end coffee\"><span>&quot;</span></span></span></span></div><div class=\"line\"><span class=\"source coffee\"><span class=\"variable assignment coffee\"><span class=\"variable assignment coffee\"><span>plumber&nbsp;</span><span class=\"keyword operator coffee\"><span>=</span></span></span></span><span>&nbsp;</span><span class=\"support function coffee\"><span>require</span></span><span>&nbsp;</span><span class=\"string quoted double coffee\"><span class=\"punctuation definition string begin coffee\"><span>&quot;</span></span><span>gulp-plumber</span><span class=\"punctuation definition string end coffee\"><span>&quot;</span></span></span></span></div><div class=\"line\"><span class=\"source coffee\"><span class=\"variable assignment coffee\"><span class=\"variable assignment coffee\"><span>htmlmin&nbsp;</span><span class=\"keyword operator coffee\"><span>=</span></span></span></span><span>&nbsp;</span><span class=\"support function coffee\"><span>require</span></span><span>&nbsp;</span><span class=\"string quoted double coffee\"><span class=\"punctuation definition string begin coffee\"><span>&quot;</span></span><span>gulp-htmlmin</span><span class=\"punctuation definition string end coffee\"><span>&quot;</span></span></span></span></div><div class=\"line\"><span class=\"source coffee\"><span class=\"variable assignment coffee\"><span class=\"variable assignment coffee\"><span>rename&nbsp;</span><span class=\"keyword operator coffee\"><span>=</span></span></span></span><span>&nbsp;</span><span class=\"support function coffee\"><span>require</span></span><span>&nbsp;</span><span class=\"string quoted double coffee\"><span class=\"punctuation definition string begin coffee\"><span>&quot;</span></span><span>gulp-rename</span><span class=\"punctuation definition string end coffee\"><span>&quot;</span></span></span></span></div><div class=\"line\"><span class=\"source coffee\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"source coffee\"><span>gulp</span><span class=\"meta delimiter method period coffee\"><span>.</span></span><span>task&nbsp;</span><span class=\"string quoted double coffee\"><span class=\"punctuation definition string begin coffee\"><span>&quot;</span></span><span>html</span><span class=\"punctuation definition string end coffee\"><span>&quot;</span></span></span><span class=\"meta delimiter object comma coffee\"><span>,&nbsp;</span></span><span class=\"storage type function coffee\"><span>-&gt;</span></span></span></div><div class=\"line\"><span class=\"source coffee\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"variable assignment coffee\"><span class=\"variable assignment coffee\"><span>options&nbsp;</span><span class=\"keyword operator coffee\"><span>=</span></span></span></span></span></div><div class=\"line\"><span class=\"source coffee\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"variable assignment coffee\"><span class=\"variable assignment coffee\"><span>removeComments&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"punctuation separator key-value\"><span>:</span></span></span></span><span>&nbsp;</span><span class=\"constant language boolean false coffee\"><span>false</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"comment line number-sign coffee\"><span class=\"punctuation definition comment coffee\"><span>#</span></span><span>&nbsp;清除HTML注释</span><span>&nbsp;</span></span></span></div><div class=\"line\"><span class=\"source coffee\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"variable assignment coffee\"><span class=\"variable assignment coffee\"><span>collapseWhitespace&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"punctuation separator key-value\"><span>:</span></span></span></span><span>&nbsp;</span><span class=\"constant language boolean true coffee\"><span>true</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"comment line number-sign coffee\"><span class=\"punctuation definition comment coffee\"><span>#</span></span><span>&nbsp;压缩HTML</span><span>&nbsp;</span></span></span></div><div class=\"line\"><span class=\"source coffee\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"variable assignment coffee\"><span class=\"variable assignment coffee\"><span>collapseBooleanAttributes&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"punctuation separator key-value\"><span>:</span></span></span></span><span>&nbsp;</span><span class=\"constant language boolean true coffee\"><span>true</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"comment line number-sign coffee\"><span class=\"punctuation definition comment coffee\"><span>#</span></span><span>&nbsp;省略布尔属性的值&nbsp;&lt;input&nbsp;checked=&quot;true&quot;/&gt;&nbsp;====&gt;&nbsp;&lt;input&nbsp;/&gt;</span><span>&nbsp;</span></span></span></div><div class=\"line\"><span class=\"source coffee\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"variable assignment coffee\"><span class=\"variable assignment coffee\"><span>removeEmptyAttributes&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"punctuation separator key-value\"><span>:</span></span></span></span><span>&nbsp;</span><span class=\"constant language boolean true coffee\"><span>true</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"comment line number-sign coffee\"><span class=\"punctuation definition comment coffee\"><span>#</span></span><span>&nbsp;删除所有空格作属性值&nbsp;&lt;input&nbsp;id=&quot;&quot;&nbsp;/&gt;&nbsp;====&gt;&nbsp;&lt;input&nbsp;/&gt;</span><span>&nbsp;</span></span></span></div><div class=\"line\"><span class=\"source coffee\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"variable assignment coffee\"><span class=\"variable assignment coffee\"><span>removeScriptTypeAttributes&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"punctuation separator key-value\"><span>:</span></span></span></span><span>&nbsp;</span><span class=\"constant language boolean true coffee\"><span>true</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"comment line number-sign coffee\"><span class=\"punctuation definition comment coffee\"><span>#</span></span><span>&nbsp;删除&lt;script&gt;的type=&quot;text/javascript&quot;</span><span>&nbsp;</span></span></span></div><div class=\"line\"><span class=\"source coffee\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"variable assignment coffee\"><span class=\"variable assignment coffee\"><span>removeStyleLinkTypeAttributes&nbsp;&nbsp;&nbsp;</span><span class=\"punctuation separator key-value\"><span>:</span></span></span></span><span>&nbsp;</span><span class=\"constant language boolean true coffee\"><span>true</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"comment line number-sign coffee\"><span class=\"punctuation definition comment coffee\"><span>#</span></span><span>&nbsp;删除&lt;style&gt;和&lt;link&gt;的type=&quot;text/css&quot;</span><span>&nbsp;</span></span></span></div><div class=\"line\"><span class=\"source coffee\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"variable assignment coffee\"><span class=\"variable assignment coffee\"><span>minifyJS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"punctuation separator key-value\"><span>:</span></span></span></span><span>&nbsp;</span><span class=\"constant language boolean true coffee\"><span>true</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"comment line number-sign coffee\"><span class=\"punctuation definition comment coffee\"><span>#</span></span><span>&nbsp;压缩页面JS</span><span>&nbsp;</span></span></span></div><div class=\"line\"><span class=\"source coffee\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"variable assignment coffee\"><span class=\"variable assignment coffee\"><span>minifyCSS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"punctuation separator key-value\"><span>:</span></span></span></span><span>&nbsp;</span><span class=\"constant language boolean true coffee\"><span>true</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"comment line number-sign coffee\"><span class=\"punctuation definition comment coffee\"><span>#</span></span><span>&nbsp;压缩页面CSS</span><span>&nbsp;</span></span></span></div><div class=\"line\"><span class=\"source coffee\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"source coffee\"><span>&nbsp;&nbsp;&nbsp;&nbsp;gulp</span><span class=\"meta delimiter method period coffee\"><span>.</span></span><span>src&nbsp;</span><span class=\"meta brace square coffee\"><span>[</span></span><span class=\"string quoted double coffee\"><span class=\"punctuation definition string begin coffee\"><span>&quot;</span></span><span>xxx/**/*.html</span><span class=\"punctuation definition string end coffee\"><span>&quot;</span></span></span><span class=\"meta delimiter object comma coffee\"><span>,&nbsp;</span></span><span class=\"string quoted double coffee\"><span class=\"punctuation definition string begin coffee\"><span>&quot;</span></span><span>!xxx/**/*.min.html</span><span class=\"punctuation definition string end coffee\"><span>&quot;</span></span></span><span class=\"meta brace square coffee\"><span>]</span></span></span></div><div class=\"line\"><span class=\"source coffee\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"meta delimiter method period coffee\"><span>.</span></span><span>pipe&nbsp;plumber</span><span class=\"meta brace round coffee\"><span>(</span><span>)</span></span><span>&nbsp;&nbsp;</span><span class=\"comment line number-sign coffee\"><span class=\"punctuation definition comment coffee\"><span>#</span></span><span>&nbsp;出错不跳出</span><span>&nbsp;</span></span></span></div><div class=\"line\"><span class=\"source coffee\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"meta delimiter method period coffee\"><span>.</span></span><span>pipe&nbsp;htmlmin&nbsp;options</span></span></div><div class=\"line\"><span class=\"source coffee\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"meta delimiter method period coffee\"><span>.</span></span><span>pipe&nbsp;rename</span></span></div><div class=\"line\"><span class=\"source coffee\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"variable assignment coffee\"><span class=\"variable assignment coffee\"><span>extname</span><span class=\"punctuation separator key-value\"><span>:</span></span></span></span><span>&nbsp;</span><span class=\"string quoted double coffee\"><span class=\"punctuation definition string begin coffee\"><span>&quot;</span></span><span>.min.html</span><span class=\"punctuation definition string end coffee\"><span>&quot;</span></span></span></span></div><div class=\"line\"><span class=\"source coffee\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"meta delimiter method period coffee\"><span>.</span></span><span>pipe&nbsp;gulp</span><span class=\"meta delimiter method period coffee\"><span>.</span></span><span>dest&nbsp;</span><span class=\"string quoted double coffee\"><span class=\"punctuation definition string begin coffee\"><span>&quot;</span></span><span>输出目录</span><span class=\"punctuation definition string end coffee\"><span>&quot;</span></span></span></span></div></pre>\n<h2> </h2>\n<h3>html 压缩加版本号</h3>\n<pre class=\"editor editor-colors\"><div class=\"line\"><span class=\"source coffee\"><span class=\"variable assignment coffee\"><span class=\"variable assignment coffee\"><span>path&nbsp;</span><span class=\"keyword operator coffee\"><span>=</span></span></span></span><span>&nbsp;</span><span class=\"support function coffee\"><span>require</span></span><span>&nbsp;</span><span class=\"string quoted double coffee\"><span class=\"punctuation definition string begin coffee\"><span>&quot;</span></span><span>path</span><span class=\"punctuation definition string end coffee\"><span>&quot;</span></span></span></span></div><div class=\"line\"><span class=\"source coffee\"><span class=\"variable assignment coffee\"><span class=\"variable assignment coffee\"><span>gulp&nbsp;</span><span class=\"keyword operator coffee\"><span>=</span></span></span></span><span>&nbsp;</span><span class=\"support function coffee\"><span>require</span></span><span>&nbsp;</span><span class=\"string quoted double coffee\"><span class=\"punctuation definition string begin coffee\"><span>&quot;</span></span><span>gulp</span><span class=\"punctuation definition string end coffee\"><span>&quot;</span></span></span></span></div><div class=\"line\"><span class=\"source coffee\"><span class=\"variable assignment coffee\"><span class=\"variable assignment coffee\"><span>plumber&nbsp;</span><span class=\"keyword operator coffee\"><span>=</span></span></span></span><span>&nbsp;</span><span class=\"support function coffee\"><span>require</span></span><span>&nbsp;</span><span class=\"string quoted double coffee\"><span class=\"punctuation definition string begin coffee\"><span>&quot;</span></span><span>gulp-plumber</span><span class=\"punctuation definition string end coffee\"><span>&quot;</span></span></span></span></div><div class=\"line\"><span class=\"source coffee\"><span class=\"variable assignment coffee\"><span class=\"variable assignment coffee\"><span>htmlmin&nbsp;</span><span class=\"keyword operator coffee\"><span>=</span></span></span></span><span>&nbsp;</span><span class=\"support function coffee\"><span>require</span></span><span>&nbsp;</span><span class=\"string quoted double coffee\"><span class=\"punctuation definition string begin coffee\"><span>&quot;</span></span><span>gulp-htmlmin</span><span class=\"punctuation definition string end coffee\"><span>&quot;</span></span></span></span></div><div class=\"line\"><span class=\"source coffee\"><span class=\"variable assignment coffee\"><span class=\"variable assignment coffee\"><span>rename&nbsp;</span><span class=\"keyword operator coffee\"><span>=</span></span></span></span><span>&nbsp;</span><span class=\"support function coffee\"><span>require</span></span><span>&nbsp;</span><span class=\"string quoted double coffee\"><span class=\"punctuation definition string begin coffee\"><span>&quot;</span></span><span>gulp-rename</span><span class=\"punctuation definition string end coffee\"><span>&quot;</span></span></span></span></div><div class=\"line\"><span class=\"source coffee\"><span class=\"variable assignment coffee\"><span class=\"variable assignment coffee\"><span>rev&nbsp;</span><span class=\"keyword operator coffee\"><span>=</span></span></span></span><span>&nbsp;</span><span class=\"support function coffee\"><span>require</span></span><span>&nbsp;</span><span class=\"string quoted double coffee\"><span class=\"punctuation definition string begin coffee\"><span>&quot;</span></span><span>gulp-rev</span><span class=\"punctuation definition string end coffee\"><span>&quot;</span></span></span></span></div><div class=\"line\"><span class=\"source coffee\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"source coffee\"><span>gulp</span><span class=\"meta delimiter method period coffee\"><span>.</span></span><span>task&nbsp;</span><span class=\"string quoted double coffee\"><span class=\"punctuation definition string begin coffee\"><span>&quot;</span></span><span>html</span><span class=\"punctuation definition string end coffee\"><span>&quot;</span></span></span><span class=\"meta delimiter object comma coffee\"><span>,&nbsp;</span></span><span class=\"storage type function coffee\"><span>-&gt;</span></span></span></div><div class=\"line\"><span class=\"source coffee\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"variable assignment coffee\"><span class=\"variable assignment coffee\"><span>options&nbsp;</span><span class=\"keyword operator coffee\"><span>=</span></span></span></span></span></div><div class=\"line\"><span class=\"source coffee\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"variable assignment coffee\"><span class=\"variable assignment coffee\"><span>removeComments&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"punctuation separator key-value\"><span>:</span></span></span></span><span>&nbsp;</span><span class=\"constant language boolean false coffee\"><span>false</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"comment line number-sign coffee\"><span class=\"punctuation definition comment coffee\"><span>#</span></span><span>&nbsp;清除HTML注释</span><span>&nbsp;</span></span></span></div><div class=\"line\"><span class=\"source coffee\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"variable assignment coffee\"><span class=\"variable assignment coffee\"><span>collapseWhitespace&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"punctuation separator key-value\"><span>:</span></span></span></span><span>&nbsp;</span><span class=\"constant language boolean true coffee\"><span>true</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"comment line number-sign coffee\"><span class=\"punctuation definition comment coffee\"><span>#</span></span><span>&nbsp;压缩HTML</span><span>&nbsp;</span></span></span></div><div class=\"line\"><span class=\"source coffee\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"variable assignment coffee\"><span class=\"variable assignment coffee\"><span>collapseBooleanAttributes&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"punctuation separator key-value\"><span>:</span></span></span></span><span>&nbsp;</span><span class=\"constant language boolean true coffee\"><span>true</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"comment line number-sign coffee\"><span class=\"punctuation definition comment coffee\"><span>#</span></span><span>&nbsp;省略布尔属性的值&nbsp;&lt;input&nbsp;checked=&quot;true&quot;/&gt;&nbsp;====&gt;&nbsp;&lt;input&nbsp;/&gt;</span><span>&nbsp;</span></span></span></div><div class=\"line\"><span class=\"source coffee\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"variable assignment coffee\"><span class=\"variable assignment coffee\"><span>removeEmptyAttributes&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"punctuation separator key-value\"><span>:</span></span></span></span><span>&nbsp;</span><span class=\"constant language boolean true coffee\"><span>true</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"comment line number-sign coffee\"><span class=\"punctuation definition comment coffee\"><span>#</span></span><span>&nbsp;删除所有空格作属性值&nbsp;&lt;input&nbsp;id=&quot;&quot;&nbsp;/&gt;&nbsp;====&gt;&nbsp;&lt;input&nbsp;/&gt;</span><span>&nbsp;</span></span></span></div><div class=\"line\"><span class=\"source coffee\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"variable assignment coffee\"><span class=\"variable assignment coffee\"><span>removeScriptTypeAttributes&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"punctuation separator key-value\"><span>:</span></span></span></span><span>&nbsp;</span><span class=\"constant language boolean true coffee\"><span>true</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"comment line number-sign coffee\"><span class=\"punctuation definition comment coffee\"><span>#</span></span><span>&nbsp;删除&lt;script&gt;的type=&quot;text/javascript&quot;</span><span>&nbsp;</span></span></span></div><div class=\"line\"><span class=\"source coffee\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"variable assignment coffee\"><span class=\"variable assignment coffee\"><span>removeStyleLinkTypeAttributes&nbsp;&nbsp;&nbsp;</span><span class=\"punctuation separator key-value\"><span>:</span></span></span></span><span>&nbsp;</span><span class=\"constant language boolean true coffee\"><span>true</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"comment line number-sign coffee\"><span class=\"punctuation definition comment coffee\"><span>#</span></span><span>&nbsp;删除&lt;style&gt;和&lt;link&gt;的type=&quot;text/css&quot;</span><span>&nbsp;</span></span></span></div><div class=\"line\"><span class=\"source coffee\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"variable assignment coffee\"><span class=\"variable assignment coffee\"><span>minifyJS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"punctuation separator key-value\"><span>:</span></span></span></span><span>&nbsp;</span><span class=\"constant language boolean true coffee\"><span>true</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"comment line number-sign coffee\"><span class=\"punctuation definition comment coffee\"><span>#</span></span><span>&nbsp;压缩页面JS</span><span>&nbsp;</span></span></span></div><div class=\"line\"><span class=\"source coffee\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"variable assignment coffee\"><span class=\"variable assignment coffee\"><span>minifyCSS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"punctuation separator key-value\"><span>:</span></span></span></span><span>&nbsp;</span><span class=\"constant language boolean true coffee\"><span>true</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"comment line number-sign coffee\"><span class=\"punctuation definition comment coffee\"><span>#</span></span><span>&nbsp;压缩页面CSS</span><span>&nbsp;</span></span></span></div><div class=\"line\"><span class=\"source coffee\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"source coffee\"><span>&nbsp;&nbsp;&nbsp;&nbsp;gulp</span><span class=\"meta delimiter method period coffee\"><span>.</span></span><span>src&nbsp;</span><span class=\"meta brace square coffee\"><span>[</span></span><span class=\"string quoted double coffee\"><span class=\"punctuation definition string begin coffee\"><span>&quot;</span></span><span>xxx/**/*.html</span><span class=\"punctuation definition string end coffee\"><span>&quot;</span></span></span><span class=\"meta delimiter object comma coffee\"><span>,&nbsp;</span></span><span class=\"string quoted double coffee\"><span class=\"punctuation definition string begin coffee\"><span>&quot;</span></span><span>!xxx/**/*.min.html</span><span class=\"punctuation definition string end coffee\"><span>&quot;</span></span></span><span class=\"meta brace square coffee\"><span>]</span></span></span></div><div class=\"line\"><span class=\"source coffee\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"meta delimiter method period coffee\"><span>.</span></span><span>pipe&nbsp;plumber</span><span class=\"meta brace round coffee\"><span>(</span><span>)</span></span><span>&nbsp;&nbsp;</span><span class=\"comment line number-sign coffee\"><span class=\"punctuation definition comment coffee\"><span>#</span></span><span>&nbsp;出错不跳出</span><span>&nbsp;</span></span></span></div><div class=\"line\"><span class=\"source coffee\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"meta delimiter method period coffee\"><span>.</span></span><span>pipe&nbsp;htmlmin&nbsp;options</span></span></div><div class=\"line\"><span class=\"source coffee\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"meta delimiter method period coffee\"><span>.</span></span><span>pipe&nbsp;rename</span></span></div><div class=\"line\"><span class=\"source coffee\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"variable assignment coffee\"><span class=\"variable assignment coffee\"><span>extname</span><span class=\"punctuation separator key-value\"><span>:</span></span></span></span><span>&nbsp;</span><span class=\"string quoted double coffee\"><span class=\"punctuation definition string begin coffee\"><span>&quot;</span></span><span>.min.html</span><span class=\"punctuation definition string end coffee\"><span>&quot;</span></span></span></span></div><div class=\"line\"><span class=\"source coffee\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"meta delimiter method period coffee\"><span>.</span></span><span>pipe&nbsp;rev</span><span class=\"meta brace round coffee\"><span>(</span><span>)</span></span></span></div><div class=\"line\"><span class=\"source coffee\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"meta delimiter method period coffee\"><span>.</span></span><span>pipe&nbsp;gulp</span><span class=\"meta delimiter method period coffee\"><span>.</span></span><span>dest&nbsp;</span><span class=\"string quoted double coffee\"><span class=\"punctuation definition string begin coffee\"><span>&quot;</span></span><span>压缩文件输出目录</span><span class=\"punctuation definition string end coffee\"><span>&quot;</span></span></span></span></div><div class=\"line\"><span class=\"source coffee\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"meta delimiter method period coffee\"><span>.</span></span><span>pipe&nbsp;rev</span><span class=\"meta delimiter method period coffee\"><span>.</span></span><span>manifest</span></span></div><div class=\"line\"><span class=\"source coffee\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"variable assignment coffee\"><span class=\"variable assignment coffee\"><span>path&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"punctuation separator key-value\"><span>:</span></span></span></span><span>&nbsp;path</span><span class=\"meta delimiter method period coffee\"><span>.</span></span><span class=\"support function method array coffee\"><span>join</span></span><span>&nbsp;</span><span class=\"support variable coffee\"><span>__dirname</span></span><span class=\"meta delimiter object comma coffee\"><span>,&nbsp;</span></span><span class=\"string quoted double coffee\"><span class=\"punctuation definition string begin coffee\"><span>&quot;</span></span><span>映射文件输出目录/rev-manifest.json</span><span class=\"punctuation definition string end coffee\"><span>&quot;</span></span></span></span></div><div class=\"line\"><span class=\"source coffee\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"variable assignment coffee\"><span class=\"variable assignment coffee\"><span>cwd&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"punctuation separator key-value\"><span>:</span></span></span></span><span>&nbsp;path</span><span class=\"meta delimiter method period coffee\"><span>.</span></span><span class=\"support function method array coffee\"><span>join</span></span><span>&nbsp;</span><span class=\"support variable coffee\"><span>__dirname</span></span><span class=\"meta delimiter object comma coffee\"><span>,&nbsp;</span></span><span class=\"string quoted double coffee\"><span class=\"punctuation definition string begin coffee\"><span>&quot;</span></span><span>映射文件输出目录</span><span class=\"punctuation definition string end coffee\"><span>&quot;</span></span></span></span></div><div class=\"line\"><span class=\"source coffee\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"variable assignment coffee\"><span class=\"variable assignment coffee\"><span>merge&nbsp;&nbsp;&nbsp;</span><span class=\"punctuation separator key-value\"><span>:</span></span></span></span><span>&nbsp;</span><span class=\"constant language boolean true coffee\"><span>yes</span></span></span></div><div class=\"line\"><span class=\"source coffee\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"meta delimiter method period coffee\"><span>.</span></span><span>pipe&nbsp;gulp</span><span class=\"meta delimiter method period coffee\"><span>.</span></span><span>dest&nbsp;</span><span class=\"string quoted double coffee\"><span class=\"punctuation definition string begin coffee\"><span>&quot;</span></span><span>版本文件输出目录</span><span class=\"punctuation definition string end coffee\"><span>&quot;</span></span></span></span></div></pre>\n<blockquote>\n<p>基本上平时会用到的功能都覆盖到了，高级用法控制文件流的找时间再整理整理</p>\n</blockquote>\n<hr>","frontmatter":{"path":"/fnrdoaUSK7UChWUhYSpxHPqg","title":"Gulp常用脚本","date":"2016-01-26 14:20:38 +0800","comments":true,"categories":"programming","author":"Sir0xb","tags":["coffee","gulp"]}}},"pageContext":{}}