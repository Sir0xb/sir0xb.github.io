{"pageContext":{"group":[{"node":{"id":"6529f711-9320-5845-a3b6-43d4172b8cd9","html":"<h3>类的定义：</h3>\n<pre><code class=\"language-javascript\">var Clazz = (function () {\n    var Clazz = function () { },\n        initializing = false\n        superPattern = /xyz/.test(function() { xyz; }) ? /\\b_super\\b/ : /.*/;\n\n    Clazz.create = function (properties) {\n        var _super = this.prototype;\n        initializing = true;\n        var proto = new this();\n        initializing = false;\n\n        for (var name in properties) {\n            proto[name] = typeof properties[name] == \"function\" &#x26;&#x26;\n            typeof _super[name] == \"function\" &#x26;&#x26; superPattern.test(properties[name]) ?\n                (function(name, fn) {\n                    return function() {\n                        var tmp     = this._super;\n                        this._super = _super[name];\n                        var ret     = fn.apply(this, arguments);\n                        this._super = tmp;\n                        return ret;\n                    };\n                })(name, properties[name]) : properties[name];\n        }\n\n        function _Clazz() {\n            if (!initializing &#x26;&#x26; this.init) {\n                this.init.apply(this, arguments);\n            }\n        }\n\n        _Clazz.prototype     = proto;\n        _Clazz.constructor   = Clazz;\n        _Clazz.create        = arguments.callee;\n\n        return _Clazz;\n    }\n\n    return Clazz;\n}());\n</code></pre>\n<!--more-->\n<h2> </h2>\n<h3>类的使用：</h3>\n<pre><code class=\"language-javascript\">var Person = Clazz.create({\n    init: function (isDancing) {\n        this.dancing = isDancing;\n    },\n    dance: function () {\n        return this.dancing;\n    }\n});\n\nvar Child = Person.create({\n    init: function () {\n        this._super(false);\n    },\n    dance: function () {\n        return this._super();\n    },\n    swiming: function () {\n        return true;\n    }\n});\n\nvar person = new Person(true);\nvar child = new Child();\n\nconsole.log('家长能跳舞.');\nconsole.log(person.dance());\n\nconsole.log('孩子能游泳');\nconsole.log(child.swiming());\n\nconsole.log('孩子不会跳舞.');\nconsole.log(child.dance());\n\nconsole.log('家长是人类.');\nconsole.log(person instanceof Person);\n\nconsole.log('孩子也是人类.');\nconsole.log(child instanceof Child &#x26;&#x26; child instanceof Person);\n</code></pre>\n<hr>","frontmatter":{"path":"/ZFR4s3OTFvgwRvL50hiVwpY5","title":"JavaScript实现类效果","date":"2016-01-27 11:00:00 +0800","comments":true,"author":"Sir0xb","tags":["javascript"]},"excerpt":"类的定义：   类的使用："}},{"node":{"id":"38fa7528-73f5-544e-95e1-4ebad7e3a1c5","html":"<h3>js 压缩合并</h3>\n<pre><code class=\"language-coffeescript\">gulp = require \"gulp\"\njshint = require \"gulp-jshint\"\nconcat = require \"gulp-concat\"\nuglify = require \"gulp-uglify\"\n\ngulp.task \"script\", ->\n    gulp.src [\"xxx\", \"yyy\"]\n    .pipe jshint()\n    .pipe concat \"base.min.js\"\n    .pipe uglify()   # 混淆\n    .pipe gulp.dest \"输出目录\"\n</code></pre>\n<!--more-->\n<h2> </h2>\n<h3>js 压缩不合并</h3>\n<pre><code class=\"language-coffeescript\">gulp = require \"gulp\"\njshint = require \"gulp-jshint\"\nrename = require \"gulp-rename\"\nuglify = require \"gulp-uglify\"\nsourcemaps = require \"gulp-sourcemaps\"\n\ngulp.task \"script\", ->\n    gulp.src [\"xxx.js\", \"!xxx.min.js\", \"yyy.js\", \"!yyy.min.js\"]\n    .pipe sourcemaps.init()\n    .pipe jshint()\n    .pipe rename\n        extname: \".min.js\"\n    .pipe uglify\n        mangle: no  # 不混淆\n    .pipe sourcemaps.write \"./\"\n    .pipe gulp.dest \"./\"\n</code></pre>\n<h2> </h2>\n<h3>js 压缩加版本号</h3>\n<pre><code class=\"language-coffeescript\">path = require \"path\"\ngulp = require \"gulp\"\nplumber = require \"gulp-plumber\"\njshint = require \"gulp-jshint\"\nrename = require \"gulp-rename\"\nuglify = require \"gulp-uglify\"\nrev = require \"gulp-rev\"\n\ngulp.task \"script\", ->\n    gulp.src [\"xxxx.js\", \"!xxx.min.js\"]\n    .pipe plumber()\n    .pipe jshint()\n    .pipe rename\n        extname: \".min.js\"\n    .pipe uglify\n        managle: no\n    .pipe rev()          # 加版本号\n    .pipe gulp.dest \"压缩文件\"\n    .pipe rev.manifest   # 这部分解决 js html 同时压缩时映射文件被覆盖问题\n        path    : path.join __dirname, \"映射文件目录/#{appName}/rev-manifest.json\"\n        cwd     : path.join __dirname, \"映射文件目录\"\n        merge   : yes\n    .pipe gulp.dest \"版本文件输出目录\"\n</code></pre>\n<h2> </h2>\n<h3>css 压缩合并</h3>\n<pre><code class=\"language-coffeescript\">gulp = require \"gulp\"\nrename = require \"gulp-rename\"\ncssImport = require \"gulp-cssimport\"\ncssmin = require \"gulp-cssmin\"\n\ngulp.task \"css\", ->\n    gulp.src [\"xxx\", \"yyy\"]\n    .pipe rename\n        extname: \".min.css\"\n    .pipe cssImport()\n    .pipe cssmin\n        compatibility: \"ie7\"\n    .pipe gulp.dest \"输出目录\"\n</code></pre>\n<h2> </h2>\n<h3>html 压缩</h3>\n<pre><code class=\"language-coffeescript\">gulp = require \"gulp\"\nplumber = require \"gulp-plumber\"\nhtmlmin = require \"gulp-htmlmin\"\nrename = require \"gulp-rename\"\n\ngulp.task \"html\", ->\n    options =\n        removeComments                  : false     # 清除HTML注释\n        collapseWhitespace              : true      # 压缩HTML\n        collapseBooleanAttributes       : true      # 省略布尔属性的值 &#x3C;input checked=\"true\"/> ====> &#x3C;input />\n        removeEmptyAttributes           : true      # 删除所有空格作属性值 &#x3C;input id=\"\" /> ====> &#x3C;input />\n        removeScriptTypeAttributes      : true      # 删除&#x3C;script>的type=\"text/javascript\"\n        removeStyleLinkTypeAttributes   : true      # 删除&#x3C;style>和&#x3C;link>的type=\"text/css\"\n        minifyJS                        : true      # 压缩页面JS\n        minifyCSS                       : true      # 压缩页面CSS\n\n    gulp.src [\"xxx/**/*.html\", \"!xxx/**/*.min.html\"]\n    .pipe plumber()  # 出错不跳出\n    .pipe htmlmin options\n    .pipe rename\n        extname: \".min.html\"\n    .pipe gulp.dest \"输出目录\"\n</code></pre>\n<h2> </h2>\n<h3>html 压缩加版本号</h3>\n<pre><code class=\"language-coffeescript\">path = require \"path\"\ngulp = require \"gulp\"\nplumber = require \"gulp-plumber\"\nhtmlmin = require \"gulp-htmlmin\"\nrename = require \"gulp-rename\"\nrev = require \"gulp-rev\"\n\ngulp.task \"html\", ->\n    options =\n        removeComments                  : false     # 清除HTML注释\n        collapseWhitespace              : true      # 压缩HTML\n        collapseBooleanAttributes       : true      # 省略布尔属性的值 &#x3C;input checked=\"true\"/> ====> &#x3C;input />\n        removeEmptyAttributes           : true      # 删除所有空格作属性值 &#x3C;input id=\"\" /> ====> &#x3C;input />\n        removeScriptTypeAttributes      : true      # 删除&#x3C;script>的type=\"text/javascript\"\n        removeStyleLinkTypeAttributes   : true      # 删除&#x3C;style>和&#x3C;link>的type=\"text/css\"\n        minifyJS                        : true      # 压缩页面JS\n        minifyCSS                       : true      # 压缩页面CSS\n\n    gulp.src [\"xxx/**/*.html\", \"!xxx/**/*.min.html\"]\n    .pipe plumber()  # 出错不跳出\n    .pipe htmlmin options\n    .pipe rename\n        extname: \".min.html\"\n    .pipe rev()\n    .pipe gulp.dest \"压缩文件输出目录\"\n    .pipe rev.manifest\n        path    : path.join __dirname, \"映射文件输出目录/rev-manifest.json\"\n        cwd     : path.join __dirname, \"映射文件输出目录\"\n        merge   : yes\n    .pipe gulp.dest \"版本文件输出目录\"\n</code></pre>\n<blockquote>\n<p>基本上平时会用到的功能都覆盖到了，高级用法控制文件流的找时间再整理整理</p>\n</blockquote>\n<hr>","frontmatter":{"path":"/fnrdoaUSK7UChWUhYSpxHPqg","title":"Gulp常用脚本","date":"2016-01-26 14:20:38 +0800","comments":true,"author":"Sir0xb","tags":["coffee","gulp"]},"excerpt":"js 压缩合并   js 压缩不合并   js 压缩加版本号   css 压缩合并   html 压缩   html 压缩加版本号 基本上平时会用到的功能都覆盖到了，高级用法控制文件流的找时间再整理整理"}},{"node":{"id":"292fc140-4ae4-5c44-b959-403491b7e2de","html":"<p>听说 swiftype 很好用，就在网站里加入了这个功能，没想到的是从注册到真正能用上竟然花了差不多一个月的时间，主要原因是除了随处可见的教程中那些配置之外，还要有额外的配置，真是坑爹啊。。。</p>\n<h3>注册 swiftype 账号</h3>\n<p>到 <a href=\"http://www.swiftype.com\">http://www.swiftype.com</a> 注册账号</p>\n<h2> </h2>\n<h3>配置搜索</h3>\n<p>一路跟着提示，选择默认下一步下一步，直到完成</p>\n<!--more-->\n<h2> </h2>\n<h3>配置网站搜索</h3>\n<p>在搜索栏 input 元素上增加 <code>st-default-search-input</code> 这个类</p>\n<h2> </h2>\n<h3>注意一下两点</h3>\n<h4>1.在这个界面试着搜索下，如果搜索不出东西说明网站配置有问题，注意是网站配置有问题，不是 swiftype 配置有问题。</h4>\n<img src=\"https://i.imgur.com/7w1snfP.png\" />\n<h4>2.在 source 目录放 robots.txt 文件。</h4>\n<pre><code class=\"language-xml\">Sitemap: /sitemap.xml\n</code></pre>\n<p><strong>* sitemap 是 hexo 插件自己生成的 *</strong></p>\n<hr>","frontmatter":{"path":"/lnyT51FSfviU8se9chgTxZ5L","title":"用 swiftype 配置静态搜索","date":"2015-06-08 10:03:45 +0800","comments":true,"author":null,"tags":["hexo","swiftype"]},"excerpt":"听说 swiftype 很好用，就在网站里加入了这个功能，没想到的是从注册到真正能用上竟然花了差不多一个月的时间，主要原因是除了随处可见的教程中那些配置之外，还要有额外的配置，真是坑爹啊。。。 注册 swiftype 账号 到  http://www.swiftype.com…"}},{"node":{"id":"ef24699e-cfce-51f6-b1aa-9877b66bf0e8","html":"<p>独立域名指向 Github 服务器 IP ，并在站点增加 CNAME 文件之后，收到了无数个 GitHub 提示邮件。\n<img src=\"https://i.imgur.com/TKSbJmc.jpg\" /></p>\n<!--more-->\n<p>只要通过 GitHub 帮助中的内容，做一下 IP 调整，邮件就不会再来了。</p>\n<h3>打开控制台输入以下命令(pages 地址自行修改)</h3>\n<pre><code class=\"language-ruby\">dig sir0xb.github.io +nostats +nocomments +nocmd\n</code></pre>\n<p>得到如下结果：</p>\n<pre><code class=\"language-ruby\">Sir0xb@mac:/ > dig sir0xb.github.io +nostats +nocomments +nocmd\n;; global options: +cmd\n;sir0xb.github.io.      IN  A\nsir0xb.github.io.   2237    IN  CNAME   github.map.fastly.net.\ngithub.map.fastly.net.  600 IN  A   103.245.222.133\nfastly.net.     35474   IN  NS  ns3.p04.dynect.net.\nfastly.net.     35474   IN  NS  ns2.p04.dynect.net.\nfastly.net.     35474   IN  NS  ns4.p04.dynect.net.\nfastly.net.     35474   IN  NS  ns1.p04.dynect.net.\nns1.p04.dynect.net. 37980   IN  A   208.78.70.4\nns1.p04.dynect.net. 179 IN  AAAA    2001:500:90:1::4\nns2.p04.dynect.net. 36368   IN  A   204.13.250.4\nns3.p04.dynect.net. 62102   IN  A   208.78.71.4\nns4.p04.dynect.net. 35616   IN  A   204.13.251.4\n</code></pre>\n<h2> </h2>\n<h3>设置 DNS 配置</h3>\n<img src=\"https://i.imgur.com/Bh6Yehc.jpg\" />\n<p>到此，不会再收到 Github 提示邮件了</p>\n<hr>","frontmatter":{"path":"/jSFkUdGpeX6JZtYQ7fTjMbQC","title":"解决 Github 邮件中提示的问题","date":"2015-05-27 23:14:24 +0800","comments":true,"author":"Sir0xb","tags":["github","email","warning"]},"excerpt":"独立域名指向 Github 服务器 IP ，并在站点增加 CNAME 文件之后，收到了无数个 GitHub 提示邮件。\n 只要通过 GitHub 帮助中的内容，做一下 IP 调整，邮件就不会再来了。 打开控制台输入以下命令(pages…"}},{"node":{"id":"daefeba7-5917-57a9-9970-49327884874c","html":"<p>Mac 下用 Chrome 有一点很不爽，就是开启隐私模式。\n难道就没有像 Windows 下那样修改快捷方式的方法吗？</p>\n<p>Mac 提供了好玩的工具 —— 脚本编辑器，利用它我们可以实现想要实现的效果。</p>\n<h4>打开脚本编辑器输入以下代码</h4>\n<pre><code class=\"language-actionscript\">do shell script \"open -a /Applications/Google\\\\ Chrome.app --args --incognito\"\n\ntell application \"Google Chrome\"\n    close windows\n    make new window with properties {mode:\"incognito\"}\n    activate\nend tell\n</code></pre>\n<h4>保存的时候 <code>文件格式</code> 选择应用程序，保存之后的 app 文件可以直接放入 <code>Applications</code></h4>\n<hr>","frontmatter":{"path":"/EPggA1MMSyY1MBZEgGTrL2F8","title":"Mac 解决 Chrome 隐私登录问题","date":"2015-05-25 19:09:45 +0800","comments":true,"author":"Sir0xb","tags":["mac","applescript"]},"excerpt":"Mac 下用 Chrome 有一点很不爽，就是开启隐私模式。\n难道就没有像 Windows 下那样修改快捷方式的方法吗？ Mac…"}}],"pathPrefix":"","first":false,"last":false,"index":13,"pageCount":15,"additionalContext":{}}}