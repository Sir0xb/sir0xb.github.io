{"componentChunkName":"component---src-templates-home-js","path":"/22","result":{"pageContext":{"group":[{"node":{"id":"133ece7d-a3dd-5cc9-a2be-e0e5fe711ca8","html":"<div class='midnight'><pre class=\"editor editor-colors\"><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>%NGINX_DIR%/nginx.exe&nbsp;-t</span></span></div></pre></div>\n<p>返回结果例如：</p>\n<div class='midnight'><pre class=\"editor editor-colors\"><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>nginx:&nbsp;the&nbsp;configuration&nbsp;file&nbsp;C:</span><span class=\"syntax--constant syntax--character syntax--escape syntax--shell\"><span>\\n</span></span><span>ginx-1.1.5/conf/nginx.conf&nbsp;syntax&nbsp;is&nbsp;ok</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>nginx:&nbsp;configuration&nbsp;file&nbsp;C:</span><span class=\"syntax--constant syntax--character syntax--escape syntax--shell\"><span>\\n</span></span><span>ginx-1.1.5/conf/nginx.conf&nbsp;</span><span class=\"syntax--support syntax--function syntax--builtin syntax--shell\"><span>test</span></span><span>&nbsp;is&nbsp;successful</span></span></div></pre></div>\n<p>可以把检测配置文件项放到 Nginx 操作的 bat 文件里，代码如下：</p>\n<!--more-->\n<div class='midnight'><pre class=\"editor editor-colors\"><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>cls</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>@ECHO&nbsp;OFF</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>SET&nbsp;NGINX_PATH=C:</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>SET&nbsp;NGINX_DIR=C:</span><span class=\"syntax--constant syntax--character syntax--escape syntax--shell\"><span>\\n</span></span><span>ginx-1.1.5\\</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>color&nbsp;0a</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>TITLE&nbsp;Nginx管理程序</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>GOTO&nbsp;MENU</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>:MENU</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>CLS</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;&nbsp;Nginx&nbsp;Management&nbsp;&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;&nbsp;&nbsp;1&nbsp;启动Nginx&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;&nbsp;&nbsp;2&nbsp;关闭Nginx&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;&nbsp;&nbsp;3&nbsp;重启Nginx&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;&nbsp;&nbsp;4&nbsp;检查配置&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;&nbsp;&nbsp;5&nbsp;退&nbsp;出&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.请输入命令编号:</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--support syntax--function syntax--builtin syntax--shell\"><span>set</span></span><span>&nbsp;/p&nbsp;ID=</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>IF&nbsp;</span><span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\"><span>&quot;</span></span><span>%id%</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\"><span>&quot;</span></span></span><span>==</span><span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\"><span>&quot;</span></span><span>1</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\"><span>&quot;</span></span></span><span>&nbsp;GOTO&nbsp;cmd1</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>IF&nbsp;</span><span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\"><span>&quot;</span></span><span>%id%</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\"><span>&quot;</span></span></span><span>==</span><span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\"><span>&quot;</span></span><span>2</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\"><span>&quot;</span></span></span><span>&nbsp;GOTO&nbsp;cmd2</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>IF&nbsp;</span><span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\"><span>&quot;</span></span><span>%id%</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\"><span>&quot;</span></span></span><span>==</span><span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\"><span>&quot;</span></span><span>3</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\"><span>&quot;</span></span></span><span>&nbsp;GOTO&nbsp;cmd3</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>IF&nbsp;</span><span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\"><span>&quot;</span></span><span>%id%</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\"><span>&quot;</span></span></span><span>==</span><span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\"><span>&quot;</span></span><span>4</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\"><span>&quot;</span></span></span><span>&nbsp;GOTO&nbsp;cmd4</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>IF&nbsp;</span><span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\"><span>&quot;</span></span><span>%id%</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\"><span>&quot;</span></span></span><span>==</span><span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\"><span>&quot;</span></span><span>5</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\"><span>&quot;</span></span></span><span>&nbsp;EXIT</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>PAUSE</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>:cmd1</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.启动Nginx......</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>IF&nbsp;NOT&nbsp;EXIST&nbsp;%NGINX_DIR%nginx.exe&nbsp;ECHO&nbsp;%NGINX_DIR%nginx.exe不存在</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>%NGINX_PATH%</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--support syntax--function syntax--builtin syntax--shell\"><span>cd</span></span><span>&nbsp;%NGINX_DIR%</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>IF&nbsp;EXIST&nbsp;%NGINX_DIR%&nbsp;start&nbsp;%NGINX_DIR%nginx.exe</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.OK</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>PAUSE</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>GOTO&nbsp;MENU</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>:cmd2</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.关闭Nginx......</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>taskkill&nbsp;/F&nbsp;/IM&nbsp;nginx.exe&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--redirect syntax--shell\"><span>&gt;</span></span><span>&nbsp;nul</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.OK</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>PAUSE</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>GOTO&nbsp;MENU</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>:cmd3</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.关闭Nginx......</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>taskkill&nbsp;/F&nbsp;/IM&nbsp;nginx.exe&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--redirect syntax--shell\"><span>&gt;</span></span><span>&nbsp;nul</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.OK</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>GOTO&nbsp;cmd1</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>GOTO&nbsp;MENU</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>:cmd4</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.检查Nginx配置......</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>IF&nbsp;NOT&nbsp;EXIST&nbsp;%NGINX_DIR%nginx.exe&nbsp;ECHO&nbsp;%NGINX_DIR%nginx.exe不存在</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>%NGINX_PATH%</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--support syntax--function syntax--builtin syntax--shell\"><span>cd</span></span><span>&nbsp;%NGINX_DIR%</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>IF&nbsp;EXIST&nbsp;%NGINX_DIR%&nbsp;%NGINX_DIR%nginx.exe&nbsp;-t</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.完成检查</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>PAUSE</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>GOTO&nbsp;MENU</span></span></div></pre></div>\n<hr>","frontmatter":{"path":"/B90COln3ySq5ZxIQAK87pn0l","title":"Nginx检测配置","date":"2011-12-26 09:19:00 +0800","comments":true,"categories":"programming","author":"Sir0xb","tags":["nginx"]},"excerpt":"返回结果例如： 可以把检测配置文件项放到 Nginx 操作的 bat 文件里，代码如下："}},{"node":{"id":"40f6ac31-2b60-5736-8170-411b4447d7f4","html":"<p><code>nginx.conf</code> 配置多个server属性即可，如下:</p>\n<div class='midnight'><pre class=\"editor editor-colors\"><div class=\"line\"><span class=\"syntax--text syntax--xml\"><span>...&nbsp;...</span></span></div><div class=\"line\"><span class=\"syntax--text syntax--xml\"><span>events&nbsp;{</span></span></div><div class=\"line\"><span class=\"syntax--text syntax--xml\"><span>&nbsp;&nbsp;&nbsp;&nbsp;...&nbsp;...</span></span></div><div class=\"line\"><span class=\"syntax--text syntax--xml\"><span>}</span></span></div><div class=\"line\"><span class=\"syntax--text syntax--xml\"><span>...&nbsp;...</span></span></div><div class=\"line\"><span class=\"syntax--text syntax--xml\"><span>http&nbsp;{</span></span></div><div class=\"line\"><span class=\"syntax--text syntax--xml\"><span>&nbsp;&nbsp;&nbsp;&nbsp;i...&nbsp;...</span></span></div><div class=\"line\"><span class=\"syntax--text syntax--xml\"><span>&nbsp;&nbsp;&nbsp;&nbsp;server&nbsp;{</span></span></div><div class=\"line\"><span class=\"syntax--text syntax--xml\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...&nbsp;...</span></span></div><div class=\"line\"><span class=\"syntax--text syntax--xml\"><span>&nbsp;&nbsp;&nbsp;&nbsp;}</span></span></div><div class=\"line\"><span class=\"syntax--text syntax--xml\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"syntax--text syntax--xml\"><span>&nbsp;&nbsp;&nbsp;&nbsp;server&nbsp;{</span></span></div><div class=\"line\"><span class=\"syntax--text syntax--xml\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...&nbsp;...</span></span></div><div class=\"line\"><span class=\"syntax--text syntax--xml\"><span>&nbsp;&nbsp;&nbsp;&nbsp;}</span></span></div><div class=\"line\"><span class=\"syntax--text syntax--xml\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"syntax--text syntax--xml\"><span>&nbsp;&nbsp;&nbsp;&nbsp;server&nbsp;{</span></span></div><div class=\"line\"><span class=\"syntax--text syntax--xml\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...&nbsp;...</span></span></div><div class=\"line\"><span class=\"syntax--text syntax--xml\"><span>&nbsp;&nbsp;&nbsp;&nbsp;}</span></span></div><div class=\"line\"><span class=\"syntax--text syntax--xml\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"syntax--text syntax--xml\"><span>&nbsp;&nbsp;&nbsp;&nbsp;server&nbsp;{</span></span></div><div class=\"line\"><span class=\"syntax--text syntax--xml\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...&nbsp;...</span></span></div><div class=\"line\"><span class=\"syntax--text syntax--xml\"><span>&nbsp;&nbsp;&nbsp;&nbsp;}</span></span></div><div class=\"line\"><span class=\"syntax--text syntax--xml\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"syntax--text syntax--xml\"><span>&nbsp;&nbsp;&nbsp;&nbsp;server&nbsp;{</span></span></div><div class=\"line\"><span class=\"syntax--text syntax--xml\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;listen&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;80;</span></span></div><div class=\"line\"><span class=\"syntax--text syntax--xml\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;server_name&nbsp;&nbsp;Dojo;</span></span></div><div class=\"line\"><span class=\"syntax--text syntax--xml\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;charset&nbsp;utf-8;</span></span></div><div class=\"line\"><span class=\"syntax--text syntax--xml\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"syntax--text syntax--xml\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;location&nbsp;/&nbsp;{</span></span></div><div class=\"line\"><span class=\"syntax--text syntax--xml\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;root&nbsp;&nbsp;&nbsp;WebServer/Dojo;</span></span></div><div class=\"line\"><span class=\"syntax--text syntax--xml\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"syntax--text syntax--xml\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#开启目录浏览</span></span></div><div class=\"line\"><span class=\"syntax--text syntax--xml\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;autoindex&nbsp;on;</span></span></div><div class=\"line\"><span class=\"syntax--text syntax--xml\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></span></div><div class=\"line\"><span class=\"syntax--text syntax--xml\"><span>&nbsp;&nbsp;&nbsp;&nbsp;}</span></span></div><div class=\"line\"><span class=\"syntax--text syntax--xml\"><span>}</span></span></div></pre></div>\n<p>注释：记得修改 <code>hosts</code> 文件，将 <code>server_name</code> 制定的域名，映射到 <code>127.0.0.1</code></p>\n<hr>","frontmatter":{"path":"/1i9hAd7YK2L0zPVsEi28nGD3","title":"Nginx配置虚拟服务器","date":"2011-12-26 09:15:57 +0800","comments":true,"categories":"programming","author":"Sir0xb","tags":["nginx"]},"excerpt":"nginx.conf 配置多个server属性即可，如下: 注释：记得修改 hosts 文件，将 server_name 制定的域名，映射到 127.0.0.1"}},{"node":{"id":"00a191d3-6bea-5f46-b70a-a579fd54eace","html":"<p>　　Windows2000之前有输入法漏洞，不过在SP2中解决。这次粘滞键漏洞没有在2000中测试，不过应该也有。\nXP惊现安全漏洞</p>\n<p>　　虽然XP相对于2000，安全度提升了不少，尤其是XP SP2。但是它的管理员权限几乎是无敌的，不像Vista，只要启用了UAC（用户账户控制），管理员也只能以标准用户登陆，一旦运行、使用只有管理员可以动的东西，UAC就会弹出提示。然后来临时提升权限。</p>\n<p>　　粘滞键，可能会被大家遗忘的功能，就是连按5次Shift键弹出的对话框，在Vista中有所变化。我们就是利用这个东西。</p>\n<!--more-->\n<p>　　打开命令提示符，执行以下命令：（双斜杠后面为注释）</p>\n<div class='midnight'><pre class=\"editor editor-colors\"><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--support syntax--function syntax--builtin syntax--shell\"><span>cd</span></span><span>&nbsp;%windir%</span><span class=\"syntax--constant syntax--character syntax--escape syntax--shell\"><span>\\s</span></span><span>ystem32</span><span class=\"syntax--constant syntax--character syntax--escape syntax--shell\"><span>\\&nbsp;</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//进入系统盘</span><span class=\"syntax--constant syntax--character syntax--escape syntax--shell\"><span>\\W</span></span><span>indows</span><span class=\"syntax--constant syntax--character syntax--escape syntax--shell\"><span>\\S</span></span><span>ystem32文件夹</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ren&nbsp;sethc.exe&nbsp;sethcll.exe&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//将sethc.exe改名为sethcll.exe</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>copy&nbsp;cmd.exe&nbsp;sethc.exe&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//将cmd.exe复制并以sethc.exe为文件名粘贴</span></span></div></pre></div>\n<p>　 　上面的操作实际上就是将 cmd.exe 替换掉原来的 sethc.exe（粘滞键设置程序）。然后重启，然后进入需要输入密码的界面，直接连按 5 下 Shift 键，看看，是不是调出了命令提示符？直接输入 explorer，稍等片刻，就会出现桌面，你会惊喜的发现，你是用的是 SYSTEM 这个超级用户登录系统了。怎么样，对于入侵者来说，是很不错的方法吧？</p>\n<p>Vista、Win7 中漏洞依旧</p>\n<p>　 　本来以为微软知道这个漏洞，在 Vista 中可以有所防范，结果问题依旧。只是在执行 ren 改名命令时，会提示<code>拒绝访问</code>，这说明 Vista 中安全性稍高一些。你可以进入 PE 或者其他系统利用 cmd.exe 替换 sethc.exe，再重启 Vista，在登陆界面中连续按 5 次 Shift 键，cmd 又出来了，启动桌面，账户还是 SYSTEM！</p>\n<p>　　Win7 中，只要以管理员身份启动 cmd，输入上面 3 个命令，就可以轻松替换掉。只不过在 Win7 下，即使你登陆了，登录界面依然在，不显示桌面，但是开始菜单什么的就已经出现了，你就已经可以为所欲为了。</p>\n<p>堵漏洞</p>\n<p>反正这种漏洞基本上是不会有专门的补丁来解决了，我们只好用自己的方法。</p>\n<p>连按 5 次 Shift，弹出粘滞键对话款，在其中点击设置，取消选中<code>使用快捷键</code>，确定即可。这样，既使别人把键盘按碎，都没事。</p>\n<p>SYSTEM 账户</p>\n<p>顾名思义，这是系统账户，想使用 SYSTEM 比使用 Administrator 账户都难，而且 SYSTEM 拥有至高无上的权限，绝对超过 Administrator 的权限。很危险。</p>\n<p>[<a target=\"_blank\" href=\"http://xd58.com/thread-3352-1-1.html\">原文</a>]</p>\n<hr>","frontmatter":{"path":"/Z5k6vI50V34LnREG9ayad4Fk","title":"利用粘滞键漏洞绕过密码登录系统","date":"2011-12-25 21:12:10 +0800","comments":true,"categories":"programming","author":"Someone","tags":["windows"]},"excerpt":"Windows2000之前有输入法漏洞，不过在SP2中解决。这次粘滞键漏洞没有在2000中测试，不过应该也有。\nXP惊现安全漏洞 　　虽然XP相对于2000，安全度提升了不少，尤其是XP SP2。但是它的管理员权限几乎是无敌的，不像Vista，只要启用了UAC…"}},{"node":{"id":"91698d90-5339-5b8f-b5ba-8f2e2dd528f9","html":"<p>修改 <code>hosts</code> 文件的传统方法是，用管理员方式打开 <code>notepad</code>，然后再打开 <code>hosts</code> 文件进行修改。</p>\n<p>本文提供另一种方式，仅供参考。</p>\n<p>命令行方式打开 <code>etc</code> 目录。</p>\n<p>执行如下命令:</p>\n<div class='midnight'><pre class=\"editor editor-colors\"><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ren&nbsp;hosts&nbsp;XX.txt</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>notepad&nbsp;XX.txt</span></span></div></pre></div>\n<!--more-->\n<p>会弹出一个记事本窗口，对内容进行修改。</p>\n<p>完成后再执行如下命令:</p>\n<div class='midnight'><pre class=\"editor editor-colors\"><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ren&nbsp;XX.txt&nbsp;hosts</span></span></div></pre></div>\n<p>对 <code>hosts</code> 文件修改完毕。</p>\n<p>或者可以写个批处理脚本，如下：</p>\n<div class='midnight'><pre class=\"editor editor-colors\"><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>cls</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>@ECHO&nbsp;OFF</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>SET&nbsp;HOSTS_PATH=C:</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>SET&nbsp;HOSTS_DIR=C:</span><span class=\"syntax--constant syntax--character syntax--escape syntax--shell\"><span>\\W</span></span><span>indows</span><span class=\"syntax--constant syntax--character syntax--escape syntax--shell\"><span>\\S</span></span><span>ystem32</span><span class=\"syntax--constant syntax--character syntax--escape syntax--shell\"><span>\\d</span></span><span>rivers</span><span class=\"syntax--constant syntax--character syntax--escape syntax--shell\"><span>\\e</span></span><span>tc\\</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>color&nbsp;0a</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>TITLE&nbsp;hosts&nbsp;配置程序</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>GOTO&nbsp;MENU</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>:MENU</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>CLS</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;&nbsp;Hosts&nbsp;Management&nbsp;&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;1&nbsp;Notepad&nbsp;打开&nbsp;Hosts&nbsp;文件&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;2&nbsp;保存对&nbsp;Hosts&nbsp;文件的修改&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;3&nbsp;退&nbsp;出&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.请输入选择项目的序号：</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--support syntax--function syntax--builtin syntax--shell\"><span>set</span></span><span>&nbsp;/p&nbsp;ID=</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>IF&nbsp;</span><span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\"><span>&quot;</span></span><span>%id%</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\"><span>&quot;</span></span></span><span>==</span><span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\"><span>&quot;</span></span><span>1</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\"><span>&quot;</span></span></span><span>&nbsp;GOTO&nbsp;cmd1</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>IF&nbsp;</span><span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\"><span>&quot;</span></span><span>%id%</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\"><span>&quot;</span></span></span><span>==</span><span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\"><span>&quot;</span></span><span>2</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\"><span>&quot;</span></span></span><span>&nbsp;GOTO&nbsp;cmd2</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>IF&nbsp;</span><span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\"><span>&quot;</span></span><span>%id%</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\"><span>&quot;</span></span></span><span>==</span><span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\"><span>&quot;</span></span><span>3</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\"><span>&quot;</span></span></span><span>&nbsp;EXIT</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>PAUSE</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>:cmd1</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.读取&nbsp;Hosts&nbsp;文件......</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>IF&nbsp;NOT&nbsp;EXIST&nbsp;%HOSTS_DIR%hosts&nbsp;ECHO&nbsp;hosts&nbsp;文件不存在.</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>%HOSTS_PATH%</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>CD&nbsp;%HOSTS_DIR%</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>IF&nbsp;EXIST&nbsp;%HOSTS_DIR%hosts&nbsp;ren&nbsp;%HOSTS_DIR%hosts&nbsp;hosts.txt</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>%HOSTS_PATH%</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>CD&nbsp;%HOSTS_DIR%</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>IF&nbsp;EXIST&nbsp;%HOSTS_DIR%hosts.txt&nbsp;notepad&nbsp;hosts.txt</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.OK</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>PAUSE</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>GOTO&nbsp;MENU</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>:cmd2</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.保存&nbsp;Hosts&nbsp;文件......</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>IF&nbsp;EXIST&nbsp;%HOSTS_DIR%hosts.txt&nbsp;ren&nbsp;%HOSTS_DIR%hosts.txt&nbsp;hosts</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.OK</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>PAUSE</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>GOTO&nbsp;MENU</span></span></div></pre></div>\n<p>不要直接运行进行修改，要不会遇到拒绝访问的错误，如下：</p>\n<img src=\"/images/2011/2011-12-25-204148-1.png\" />\n<p>先打开一个 cmd 窗口，然后将 bat 文件拖入，在运行。效果如下：</p>\n<img src=\"/images/2011/2011-12-25-204148-2.png\" />\n<p>对记事本修改完成后，记得输入 2 选项进行保存，如下：</p>\n<img src=\"/images/2011/2011-12-25-204148-3.png\" />\n<hr>","frontmatter":{"path":"/OevkO7PPeBVVSgcgLqqmT9iw","title":"Win7 修改host另一种方法","date":"2011-12-25 20:41:48 +0800","comments":true,"categories":"programming","author":"Sir0xb","tags":["windows","host"]},"excerpt":"修改 hosts 文件的传统方法是，用管理员方式打开 notepad，然后再打开 hosts 文件进行修改。 本文提供另一种方式，仅供参考。 命令行方式打开 etc 目录。 执行如下命令: 会弹出一个记事本窗口，对内容进行修改。 完成后再执行如下命令: 对 hosts…"}},{"node":{"id":"d1d1079d-2f8c-5333-8cfe-e877b9fa362b","html":"<div class='midnight'><pre class=\"editor editor-colors\"><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>cls</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>@ECHO&nbsp;OFF</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>SET&nbsp;NGINX_PATH=C:</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>SET&nbsp;NGINX_DIR=C:</span><span class=\"syntax--constant syntax--character syntax--escape syntax--shell\"><span>\\n</span></span><span>ginx-1.1.5\\</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>color&nbsp;0a</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>TITLE&nbsp;Nginx管理程序</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>GOTO&nbsp;MENU</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>:MENU</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>CLS</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;&nbsp;Nginx&nbsp;Management&nbsp;&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;1&nbsp;启动Nginx&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;2&nbsp;关闭Nginx&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;3&nbsp;重启Nginx&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;4&nbsp;退&nbsp;出&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.请输入选择项目的序号：</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--support syntax--function syntax--builtin syntax--shell\"><span>set</span></span><span>&nbsp;/p&nbsp;ID=</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>IF&nbsp;</span><span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\"><span>&quot;</span></span><span>%id%</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\"><span>&quot;</span></span></span><span>==</span><span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\"><span>&quot;</span></span><span>1</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\"><span>&quot;</span></span></span><span>&nbsp;GOTO&nbsp;cmd1</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>IF&nbsp;</span><span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\"><span>&quot;</span></span><span>%id%</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\"><span>&quot;</span></span></span><span>==</span><span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\"><span>&quot;</span></span><span>2</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\"><span>&quot;</span></span></span><span>&nbsp;GOTO&nbsp;cmd2</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>IF&nbsp;</span><span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\"><span>&quot;</span></span><span>%id%</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\"><span>&quot;</span></span></span><span>==</span><span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\"><span>&quot;</span></span><span>3</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\"><span>&quot;</span></span></span><span>&nbsp;GOTO&nbsp;cmd3</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>IF&nbsp;</span><span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\"><span>&quot;</span></span><span>%id%</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\"><span>&quot;</span></span></span><span>==</span><span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\"><span>&quot;</span></span><span>4</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\"><span>&quot;</span></span></span><span>&nbsp;EXIT</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>PAUSE</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>:cmd1</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.启动Nginx......</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>IF&nbsp;NOT&nbsp;EXIST&nbsp;%NGINX_DIR%nginx.exe&nbsp;ECHO&nbsp;%NGINX_DIR%nginx.exe不存在</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>%NGINX_PATH%</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--support syntax--function syntax--builtin syntax--shell\"><span>cd</span></span><span>&nbsp;%NGINX_DIR%</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>IF&nbsp;EXIST&nbsp;%NGINX_DIR%&nbsp;start&nbsp;%NGINX_DIR%nginx.exe</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.OK</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>PAUSE</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>GOTO&nbsp;MENU</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>:cmd2</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.关闭Nginx......</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>taskkill&nbsp;/F&nbsp;/IM&nbsp;nginx.exe&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--redirect syntax--shell\"><span>&gt;</span></span><span>&nbsp;nul</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.OK</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>PAUSE</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>GOTO&nbsp;MENU</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>:cmd3</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.关闭Nginx......</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>taskkill&nbsp;/F&nbsp;/IM&nbsp;nginx.exe&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--redirect syntax--shell\"><span>&gt;</span></span><span>&nbsp;nul</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.OK</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>GOTO&nbsp;cmd1</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>GOTO&nbsp;MENU</span></span></div></pre></div>\n<hr>","frontmatter":{"path":"/92BO71bCFSDR41eml6zEICSK","title":"Windows环境下 Nginx启动、重启、关闭脚本","date":"2011-12-23 21:03:30 +0800","comments":true,"categories":"programming","author":"Sir0xb","tags":["nginx"]},"excerpt":""}}],"pathPrefix":"","first":false,"last":false,"index":22,"pageCount":31,"additionalContext":{}}},"staticQueryHashes":["3128451518","3649515864"]}