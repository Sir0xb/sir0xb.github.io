{"componentChunkName":"component---src-templates-posts-js","path":"/programming/5","result":{"pageContext":{"group":[{"node":{"id":"62f1e7e4-ba8d-5d39-8506-801ec83f8ff7","html":"<p>到 joomla1.7 安装目录找到 <code>configuration.php</code> 文件记事本打开将</p>\n<div class='midnight'><pre class=\"editor editor-colors\"><div class=\"line\"><span class=\"syntax--text syntax--html syntax--php\"><span>...</span></span></div><div class=\"line\"><span class=\"syntax--text syntax--html syntax--php\"><span>public&nbsp;$force_ssl&nbsp;=&nbsp;&#39;2&#39;;</span></span></div><div class=\"line\"><span class=\"syntax--text syntax--html syntax--php\"><span>...</span></span></div></pre></div>\n<p>修改成</p>\n<div class='midnight'><pre class=\"editor editor-colors\"><div class=\"line\"><span class=\"syntax--text syntax--html syntax--php\"><span>...</span></span></div><div class=\"line\"><span class=\"syntax--text syntax--html syntax--php\"><span>public&nbsp;$force_ssl&nbsp;=&nbsp;&#39;0&#39;;</span></span></div><div class=\"line\"><span class=\"syntax--text syntax--html syntax--php\"><span>...</span></span></div></pre></div>\n<p>访问后台，重新设置，就跟什么都没发生一样。</p>\n<hr>","frontmatter":{"path":"/88FxdZhGGnRgwuWPCVPels8l","title":"joomla1.7 开启SSL无法访问问题","date":"2012-02-15 10:29:56 +0800","comments":true,"categories":"programming","author":"Sir0xb","tags":["joomla"]},"excerpt":"到 joomla1.7 安装目录找到 configuration.php 文件记事本打开将 修改成 访问后台，重新设置，就跟什么都没发生一样。"}},{"node":{"id":"91ab39cc-9f52-581f-a245-f186fd0eaf9f","html":"<p>64位Win7系统\n平时用 FireFox 。偶尔需要用 IE9 浏览器。\n这次用 IE9 看视频时发现没有安装Flash插件，32位的也无法装上，64位也是如此，在网上也找了半天也没找到能解决问题的方法。\n最后自己琢磨出了最终解决方案。</p>\n<h5>#. 先将FireFox的Flash插件卸载。</h5>\n<h5>#. 用IE9看优酷或是土豆，根据提示安装Flash插件。</h5>\n<h5>#. 在用FireFox安装确实插件。</h5>\n<p>一切问题解决。</p>\n<hr>","frontmatter":{"path":"/G2YWYxiask94ieIjw68xoJ4A","title":"Flash插件安装问题","date":"2012-02-08 21:56:53 +0800","comments":true,"categories":"programming","author":"Sir0xb","tags":["flash"]},"excerpt":"64位Win7系统\n平时用 FireFox 。偶尔需要用 IE9 浏览器。\n这次用 IE9 看视频时发现没有安装Flash插件，32位的也无法装上，64位也是如此，在网上也找了半天也没找到能解决问题的方法。\n最后自己琢磨出了最终解决方案。 #. 先将FireFox的Flash…"}},{"node":{"id":"167211d3-0655-5883-96d5-ae13462dab23","html":"<p>思路：每次关闭时，讲日志文件改名成日期时间相关的文件即可。因为 Nginx 启动时会自动生成日志文件。</p>\n<p>bat代码如下：</p>\n<div class='midnight'><pre class=\"editor editor-colors\"><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>cls</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>@ECHO&nbsp;OFF</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>SET&nbsp;NGINX_PATH=C:</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>SET&nbsp;NGINX_DIR=C:</span><span class=\"syntax--constant syntax--character syntax--escape syntax--shell\"><span>\\n</span></span><span>ginx-1.1.5\\</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>color&nbsp;0a</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>TITLE&nbsp;Nginx管理程序</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>GOTO&nbsp;MENU</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>:MENU</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>CLS</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;&nbsp;Nginx&nbsp;Management&nbsp;&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;&nbsp;&nbsp;1&nbsp;启动Nginx&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;&nbsp;&nbsp;2&nbsp;关闭Nginx&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;&nbsp;&nbsp;3&nbsp;重启Nginx&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;&nbsp;&nbsp;4&nbsp;检查配置&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;&nbsp;&nbsp;5&nbsp;退&nbsp;出&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.请输入命令编号:</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--support syntax--function syntax--builtin syntax--shell\"><span>set</span></span><span>&nbsp;/p&nbsp;ID=</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>IF&nbsp;</span><span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\"><span>&quot;</span></span><span>%id%</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\"><span>&quot;</span></span></span><span>==</span><span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\"><span>&quot;</span></span><span>1</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\"><span>&quot;</span></span></span><span>&nbsp;GOTO&nbsp;cmd1</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>IF&nbsp;</span><span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\"><span>&quot;</span></span><span>%id%</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\"><span>&quot;</span></span></span><span>==</span><span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\"><span>&quot;</span></span><span>2</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\"><span>&quot;</span></span></span><span>&nbsp;GOTO&nbsp;cmd2</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>IF&nbsp;</span><span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\"><span>&quot;</span></span><span>%id%</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\"><span>&quot;</span></span></span><span>==</span><span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\"><span>&quot;</span></span><span>3</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\"><span>&quot;</span></span></span><span>&nbsp;GOTO&nbsp;cmd3</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>IF&nbsp;</span><span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\"><span>&quot;</span></span><span>%id%</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\"><span>&quot;</span></span></span><span>==</span><span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\"><span>&quot;</span></span><span>4</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\"><span>&quot;</span></span></span><span>&nbsp;GOTO&nbsp;cmd4</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>IF&nbsp;</span><span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\"><span>&quot;</span></span><span>%id%</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\"><span>&quot;</span></span></span><span>==</span><span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\"><span>&quot;</span></span><span>5</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\"><span>&quot;</span></span></span><span>&nbsp;EXIT</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>PAUSE</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>:cmd1</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>REM&nbsp;-------------&nbsp;启动PHP&nbsp;-------------</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>@ECHO&nbsp;OFF</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>SET&nbsp;PHP_FCGI_MAX_REQUESTS=1000</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.启动PHP&nbsp;FastCGI...</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>%NGINX_PATH%</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>CD&nbsp;%NGINX_DIR%</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>RunHiddenConsole&nbsp;%NGINX_DIR%/php-5.3.8/php-cgi.exe&nbsp;-b&nbsp;127.0.0.1:9000&nbsp;-c&nbsp;%NGINX_DIR%/php-5.3.8/php.ini</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>REM&nbsp;-------------&nbsp;启动Nginx&nbsp;-------------</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.启动Nginx......</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>%NGINX_PATH%</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>CD&nbsp;%NGINX_DIR%</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>IF&nbsp;NOT&nbsp;EXIST&nbsp;%NGINX_DIR%nginx.exe&nbsp;ECHO&nbsp;%NGINX_DIR%nginx.exe不存在</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>%NGINX_PATH%</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>CD&nbsp;%NGINX_DIR%</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>IF&nbsp;EXIST&nbsp;%NGINX_DIR%&nbsp;start&nbsp;%NGINX_DIR%nginx.exe</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.OK</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>PAUSE</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>GOTO&nbsp;MENU</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>:cmd2</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>REM&nbsp;-------------&nbsp;日志文件改名&nbsp;-------------</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>SET&nbsp;T1=%DATE:</span><span class=\"syntax--keyword syntax--operator syntax--tilde syntax--shell\"><span>~</span></span><span>0,4%.%DATE:</span><span class=\"syntax--keyword syntax--operator syntax--tilde syntax--shell\"><span>~</span></span><span>5,2%.%DATE:</span><span class=\"syntax--keyword syntax--operator syntax--tilde syntax--shell\"><span>~</span></span><span>8,2%.%</span><span class=\"syntax--keyword syntax--other syntax--shell\"><span>time</span></span><span>:</span><span class=\"syntax--keyword syntax--operator syntax--tilde syntax--shell\"><span>~</span></span><span>0,2%.%</span><span class=\"syntax--keyword syntax--other syntax--shell\"><span>time</span></span><span>:</span><span class=\"syntax--keyword syntax--operator syntax--tilde syntax--shell\"><span>~</span></span><span>3,2%.%</span><span class=\"syntax--keyword syntax--other syntax--shell\"><span>time</span></span><span>:</span><span class=\"syntax--keyword syntax--operator syntax--tilde syntax--shell\"><span>~</span></span><span>6,2%</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>SET&nbsp;T2=%T1:&nbsp;=0%</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>%NGINX_PATH%</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>CD&nbsp;%NGINX_DIR%</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>IF&nbsp;NOT&nbsp;EXIST&nbsp;%NGINX_DIR%logs</span><span class=\"syntax--constant syntax--character syntax--escape syntax--shell\"><span>\\%</span></span><span>T2%_ACCESS.log&nbsp;ren&nbsp;%NGINX_DIR%logs</span><span class=\"syntax--constant syntax--character syntax--escape syntax--shell\"><span>\\a</span></span><span>ccess.log&nbsp;%T2%_ACCESS.log</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>%NGINX_PATH%</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>CD&nbsp;%NGINX_DIR%</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>IF&nbsp;NOT&nbsp;EXIST&nbsp;%NGINX_DIR%logs</span><span class=\"syntax--constant syntax--character syntax--escape syntax--shell\"><span>\\%</span></span><span>T2%_ERROR.log&nbsp;ren&nbsp;%NGINX_DIR%logs</span><span class=\"syntax--constant syntax--character syntax--escape syntax--shell\"><span>\\e</span></span><span>rror.log&nbsp;%T2%_ERROR.log</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>REM&nbsp;-------------&nbsp;关闭Nginx&nbsp;-------------</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.关闭Nginx......</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>%NGINX_PATH%</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>CD&nbsp;%NGINX_DIR%</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>taskkill&nbsp;/F&nbsp;/IM&nbsp;nginx.exe&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--redirect syntax--shell\"><span>&gt;</span></span><span>&nbsp;nul</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>REM&nbsp;-------------&nbsp;关闭PHP&nbsp;-------------</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.关闭&nbsp;PHP&nbsp;FastCGI...</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>%NGINX_PATH%</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>CD&nbsp;%NGINX_DIR%</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>taskkill&nbsp;/F&nbsp;/IM&nbsp;php-cgi.exe&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--redirect syntax--shell\"><span>&gt;</span></span><span>&nbsp;nul</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.OK</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>PAUSE</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>GOTO&nbsp;MENU</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>:cmd3</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>REM&nbsp;-------------&nbsp;关闭Nginx&nbsp;-------------</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.关闭Nginx......</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>%NGINX_PATH%</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>CD&nbsp;%NGINX_DIR%</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>taskkill&nbsp;/F&nbsp;/IM&nbsp;nginx.exe&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--redirect syntax--shell\"><span>&gt;</span></span><span>&nbsp;nul</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>REM&nbsp;-------------&nbsp;关闭PHP&nbsp;-------------</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.关闭PHP&nbsp;FastCGI...</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>%NGINX_PATH%</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>CD&nbsp;%NGINX_DIR%</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>taskkill&nbsp;/F&nbsp;/IM&nbsp;php-cgi.exe&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--redirect syntax--shell\"><span>&gt;</span></span><span>&nbsp;nul</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.OK</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>GOTO&nbsp;cmd1</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>GOTO&nbsp;MENU</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>:cmd4</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>REM&nbsp;-------------&nbsp;检查Nginx配置&nbsp;-------------</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.检查Nginx配置......</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>%NGINX_PATH%</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>CD&nbsp;%NGINX_DIR%</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>IF&nbsp;NOT&nbsp;EXIST&nbsp;%NGINX_DIR%nginx.exe&nbsp;ECHO&nbsp;%NGINX_DIR%nginx.exe不存在</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>%NGINX_PATH%</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>CD&nbsp;%NGINX_DIR%</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>IF&nbsp;EXIST&nbsp;%NGINX_DIR%&nbsp;%NGINX_DIR%nginx.exe&nbsp;-t</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.完成检查</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>PAUSE</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>GOTO&nbsp;MENU</span></span></div></pre></div>\n<!--more-->\n<p>运行效果如下：</p>\n<img src=\"/images/2011/2011-12-30-101205-1.png\" />\n<p>重新启动 Nginx 后：</p>\n<img src=\"/images/2011/2011-12-30-101205-2.png\" />\n<hr>","frontmatter":{"path":"/3YHvLZF1ZryKHtMSkJmebnit","title":"Windows环境下 Nginx 日志分割","date":"2011-12-30 10:12:05 +0800","comments":true,"categories":"programming","author":"Sir0xb","tags":["nginx","bat"]},"excerpt":"思路：每次关闭时，讲日志文件改名成日期时间相关的文件即可。因为 Nginx 启动时会自动生成日志文件。 bat代码如下： 运行效果如下： 重新启动 Nginx 后："}},{"node":{"id":"87443a09-e6ae-5571-880b-46c397208455","html":"<h4># 生成日期</h4>\n<div class='midnight'><pre class=\"editor editor-colors\"><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--support syntax--function syntax--builtin syntax--shell\"><span>echo</span></span><span>&nbsp;%DATE:</span><span class=\"syntax--keyword syntax--operator syntax--tilde syntax--shell\"><span>~</span></span><span>0,4%.%DATE:</span><span class=\"syntax--keyword syntax--operator syntax--tilde syntax--shell\"><span>~</span></span><span>5,2%.%DATE:</span><span class=\"syntax--keyword syntax--operator syntax--tilde syntax--shell\"><span>~</span></span><span>8,2%</span></span></div></pre></div>\n<p>结果是：xxxx.xx.xx</p>\n<h4># 生成昨天的日期</h4>\n<p>将如下代码制作成 <code>xx.bat</code>。获得昨天日期的方法是 <code>xx.bat -1</code>。同理想获得10天后的日期是 <code>xx.bat 10</code>。</p>\n<!--more-->\n<div class='midnight'><pre class=\"editor editor-colors\"><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>@</span><span class=\"syntax--support syntax--function syntax--builtin syntax--shell\"><span>echo</span></span><span>&nbsp;off&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--list syntax--shell\"><span>&amp;</span></span><span>&nbsp;setlocal</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--if-block syntax--shell\"><span class=\"syntax--keyword syntax--control syntax--shell\"><span>if</span></span><span>&nbsp;[%1]==[]&nbsp;goto&nbsp;:Help</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--if-block syntax--shell\"><span>call&nbsp;:GetDayDiff&nbsp;%date:</span><span class=\"syntax--keyword syntax--operator syntax--tilde syntax--shell\"><span>~</span></span><span>0,10%&nbsp;%1&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--list syntax--shell\"><span>&amp;</span></span><span>goto&nbsp;:EOF</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--if-block syntax--shell\"><span>&nbsp;</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--if-block syntax--shell\"><span>:GetDayDiff</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--if-block syntax--shell\"><span>call&nbsp;:Date2Day&nbsp;%1&nbsp;days</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--if-block syntax--shell\"><span class=\"syntax--support syntax--function syntax--builtin syntax--shell\"><span>set</span></span><span>/a&nbsp;days=%days%+%2</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--if-block syntax--shell\"><span>call&nbsp;:Day2Date&nbsp;%days%&nbsp;result</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--if-block syntax--shell\"><span class=\"syntax--support syntax--function syntax--builtin syntax--shell\"><span>echo</span></span><span>&nbsp;%result%&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--list syntax--shell\"><span>&amp;</span></span><span>goto&nbsp;:EOF</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--if-block syntax--shell\"><span>&nbsp;</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--if-block syntax--shell\"><span>:Date2Day</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--if-block syntax--shell\"><span>setlocal&nbsp;ENABLEEXTENSIONS</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--if-block syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--for-in-loop syntax--shell\"><span class=\"syntax--keyword syntax--control syntax--shell\"><span>for</span></span><span>&nbsp;</span><span class=\"syntax--variable syntax--other syntax--loop syntax--shell\"><span>/f</span></span><span>&nbsp;</span><span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\"><span>&quot;</span></span><span>tokens=1-3&nbsp;delims=/-,&nbsp;</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\"><span>&quot;</span></span></span><span>&nbsp;%%a&nbsp;</span><span class=\"syntax--keyword syntax--control syntax--shell\"><span>in</span></span><span>&nbsp;</span><span class=\"syntax--meta syntax--scope syntax--subshell syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--subshell syntax--shell\"><span>(</span></span><span class=\"syntax--string syntax--quoted syntax--single syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\"><span>&#39;</span></span><span>echo/%1</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\"><span>&#39;</span></span></span><span class=\"syntax--punctuation syntax--definition syntax--subshell syntax--shell\"><span>)</span></span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--control syntax--shell\"><span>do</span></span><span>&nbsp;</span><span class=\"syntax--meta syntax--scope syntax--subshell syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--subshell syntax--shell\"><span>(</span></span><span class=\"syntax--support syntax--function syntax--builtin syntax--shell\"><span>set</span></span><span>&nbsp;yy=%%a&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--list syntax--shell\"><span>&amp;</span></span><span>&nbsp;</span><span class=\"syntax--support syntax--function syntax--builtin syntax--shell\"><span>set</span></span><span>&nbsp;mm=%%b&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--list syntax--shell\"><span>&amp;</span></span><span>&nbsp;</span><span class=\"syntax--support syntax--function syntax--builtin syntax--shell\"><span>set</span></span><span>&nbsp;dd=%%c&nbsp;</span><span class=\"syntax--punctuation syntax--definition syntax--subshell syntax--shell\"><span>)</span></span></span></span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--if-block syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--for-in-loop syntax--shell\"><span class=\"syntax--support syntax--function syntax--builtin syntax--shell\"><span>set</span></span><span>&nbsp;/a&nbsp;dd=100%dd%%%100,mm=100%mm%%%100</span></span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--if-block syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--for-in-loop syntax--shell\"><span class=\"syntax--support syntax--function syntax--builtin syntax--shell\"><span>set</span></span><span>&nbsp;/a&nbsp;z=14-mm,z/=12,y=yy+4800-z,m=mm+12</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>z-3,j=153</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>m+2</span></span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--if-block syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--for-in-loop syntax--shell\"><span class=\"syntax--support syntax--function syntax--builtin syntax--shell\"><span>set</span></span><span>&nbsp;/a&nbsp;j=j/5+dd+y</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>365+y/4-y/100+y/400-2472633</span></span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--if-block syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--for-in-loop syntax--shell\"><span>endlocal</span><span class=\"syntax--keyword syntax--operator syntax--list syntax--shell\"><span>&amp;</span></span><span class=\"syntax--support syntax--function syntax--builtin syntax--shell\"><span>set</span></span><span>&nbsp;%2=%j%</span><span class=\"syntax--keyword syntax--operator syntax--list syntax--shell\"><span>&amp;</span></span><span>goto&nbsp;:EOF</span></span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--if-block syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--for-in-loop syntax--shell\"><span>&nbsp;</span></span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--if-block syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--for-in-loop syntax--shell\"><span>:Day2Date</span></span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--if-block syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--for-in-loop syntax--shell\"><span>setlocal&nbsp;ENABLEEXTENSIONS</span></span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--if-block syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--for-in-loop syntax--shell\"><span class=\"syntax--support syntax--function syntax--builtin syntax--shell\"><span>set</span></span><span>&nbsp;/a&nbsp;i=%1,a=i+2472632,b=4</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>a+3,b/=146097,c=-b</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>146097,c/=4,c+=a</span></span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--if-block syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--for-in-loop syntax--shell\"><span class=\"syntax--support syntax--function syntax--builtin syntax--shell\"><span>set</span></span><span>&nbsp;/a&nbsp;d=4</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>c+3,d/=1461,e=-1461</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>d,e/=4,e+=c,m=5</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>e+2,m/=153,dd=153</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>m+2,dd/=5</span></span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--if-block syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--for-in-loop syntax--shell\"><span class=\"syntax--support syntax--function syntax--builtin syntax--shell\"><span>set</span></span><span>&nbsp;/a&nbsp;dd=-dd+e+1,mm=-m/10,mm</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>=12,mm+=m+3,yy=b</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>100+d-4800+m/10</span></span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--if-block syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--for-in-loop syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--subshell syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--subshell syntax--shell\"><span>(</span></span><span class=\"syntax--meta syntax--scope syntax--if-block syntax--shell\"><span class=\"syntax--keyword syntax--control syntax--shell\"><span>if</span></span><span>&nbsp;%mm%&nbsp;LSS&nbsp;10&nbsp;</span><span class=\"syntax--support syntax--function syntax--builtin syntax--shell\"><span>set</span></span><span>&nbsp;mm=0%mm%)</span><span class=\"syntax--keyword syntax--operator syntax--list syntax--shell\"><span>&amp;</span></span><span class=\"syntax--meta syntax--scope syntax--subshell syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--subshell syntax--shell\"><span>(</span></span><span class=\"syntax--meta syntax--scope syntax--if-block syntax--shell\"><span class=\"syntax--keyword syntax--control syntax--shell\"><span>if</span></span><span>&nbsp;%dd%&nbsp;LSS&nbsp;10&nbsp;</span><span class=\"syntax--support syntax--function syntax--builtin syntax--shell\"><span>set</span></span><span>&nbsp;dd=0%dd%)</span></span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--if-block syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--for-in-loop syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--subshell syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--if-block syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--subshell syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--if-block syntax--shell\"><span>endlocal</span><span class=\"syntax--keyword syntax--operator syntax--list syntax--shell\"><span>&amp;</span></span><span class=\"syntax--support syntax--function syntax--builtin syntax--shell\"><span>set</span></span><span>&nbsp;%2=%yy%-%mm%-%dd%</span><span class=\"syntax--keyword syntax--operator syntax--list syntax--shell\"><span>&amp;</span></span><span>goto&nbsp;:EOF</span></span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--if-block syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--for-in-loop syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--subshell syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--if-block syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--subshell syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--if-block syntax--shell\"><span>&nbsp;</span></span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--if-block syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--for-in-loop syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--subshell syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--if-block syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--subshell syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--if-block syntax--shell\"><span>:Help</span></span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--if-block syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--for-in-loop syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--subshell syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--if-block syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--subshell syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--if-block syntax--shell\"><span class=\"syntax--support syntax--function syntax--builtin syntax--shell\"><span>echo</span></span><span>&nbsp;xx&nbsp;10&nbsp;显示10天后的时间</span></span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--if-block syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--for-in-loop syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--subshell syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--if-block syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--subshell syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--if-block syntax--shell\"><span class=\"syntax--support syntax--function syntax--builtin syntax--shell\"><span>echo</span></span><span>&nbsp;xx&nbsp;-5&nbsp;显示&nbsp;5天前的时间</span></span></span></span></span></span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--if-block syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--for-in-loop syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--subshell syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--if-block syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--subshell syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--if-block syntax--shell\"><span>rem&nbsp;-------&nbsp;EOF&nbsp;---------</span></span></span></span></span></span></span></span></div></pre></div>\n<hr>","frontmatter":{"path":"/3u0tt8ojsSMwymuZMxSe1RfP","title":"Windows批处理 - 日期","date":"2011-12-30 09:28:12 +0800","comments":true,"categories":"programming","author":"Sir0xb","tags":["windows","bat"]},"excerpt":"# 生成日期 结果是：xxxx.xx.xx # 生成昨天的日期 将如下代码制作成 xx.bat。获得昨天日期的方法是 xx.bat -1。同理想获得10天后的日期是 xx.bat 10。"}},{"node":{"id":"7db31373-d5be-5425-8974-734dfe32d455","html":"<h5># 下载php</h5>\n<p><a target=\"_blank\" href=\"http://windows.php.net/download/\">http://windows.php.net/download/</a></p>\n<p>下载 Non Thread Safe 版本，本人下了个zip绿色版本的。</p>\n<h5># php部署到哪儿无所谓，主要是给Nginx用的，所以放Nginx目录下了。</h5>\n<h5># 找到 php.ini-development 文件，更名为 php.ini</h5>\n<h5># 修改 php.ini 配置参数：</h5>\n<div class='midnight'><pre class=\"editor editor-colors\"><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--keyword syntax--operator syntax--list syntax--shell\"><span>;</span></span><span>&nbsp;extension_dir&nbsp;=&nbsp;</span><span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\"><span>&quot;</span></span><span>ext</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\"><span>&quot;</span></span></span></span></div></pre></div>\n<!--more-->\n<p>修改成(下面是本人的配置，根据自己的进行修改)：</p>\n<div class='midnight'><pre class=\"editor editor-colors\"><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>extension_dir&nbsp;=&nbsp;</span><span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\"><span>&quot;</span></span><span>&nbsp;C:/nginx-1.1.5/php-5.3.8/ext</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\"><span>&quot;</span></span></span></span></div></pre></div>\n<p>开启如下配置注释：</p>\n<div class='midnight'><pre class=\"editor editor-colors\"><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>extension=php_curl.dll</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>extension=php_gd2.dll</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>extension=php_mbstring.dll</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>extension=php_mysql.dll</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>extension=php_pdo_odbc.dll</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>extension=php_xmlrpc.dll</span></span></div></pre></div>\n<p>php 的 Session 也配一个吧，应该都没关系(随便建了个 temp 文件夹)：</p>\n<div class='midnight'><pre class=\"editor editor-colors\"><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>session.save_path&nbsp;=&nbsp;</span><span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\"><span>&quot;</span></span><span>C:/nginx-1.1.5/php-5.3.8/temp</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\"><span>&quot;</span></span></span></span></div></pre></div>\n<h5># 之后就是配置 nginx.conf 文件了，粉色部分是新加的：</h5>\n<div class='midnight'><pre class=\"editor editor-colors\"><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>server&nbsp;</span><span class=\"syntax--meta syntax--scope syntax--group syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--group syntax--shell\"><span>{</span></span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--group syntax--shell\"><span>listen&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;80</span><span class=\"syntax--keyword syntax--operator syntax--list syntax--shell\"><span>;</span></span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--group syntax--shell\"><span>&nbsp;&nbsp;&nbsp;&nbsp;server_name&nbsp;&nbsp;Dojo</span><span class=\"syntax--keyword syntax--operator syntax--list syntax--shell\"><span>;</span></span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--group syntax--shell\"><span>&nbsp;&nbsp;&nbsp;&nbsp;charset&nbsp;utf-8</span><span class=\"syntax--keyword syntax--operator syntax--list syntax--shell\"><span>;</span></span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--group syntax--shell\"><span>&nbsp;</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--group syntax--shell\"><span>&nbsp;&nbsp;&nbsp;&nbsp;location&nbsp;/&nbsp;</span><span class=\"syntax--meta syntax--scope syntax--group syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--group syntax--shell\"><span>{</span></span></span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--group syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--group syntax--shell\"><span class=\"syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--shell\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class=\"syntax--comment syntax--line syntax--number-sign syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--comment syntax--shell\"><span>#</span></span><span>主目录，相当于webapps目录</span><span>&nbsp;</span></span></span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--group syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--group syntax--shell\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;root&nbsp;&nbsp;&nbsp;WebServer/Dojo</span><span class=\"syntax--keyword syntax--operator syntax--list syntax--shell\"><span>;</span></span></span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--group syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--group syntax--shell\"><span>&nbsp;</span></span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--group syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--group syntax--shell\"><span class=\"syntax--punctuation syntax--whitespace syntax--comment syntax--leading syntax--shell\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class=\"syntax--comment syntax--line syntax--number-sign syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--comment syntax--shell\"><span>#</span></span><span>开启目录浏览</span><span>&nbsp;</span></span></span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--group syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--group syntax--shell\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;autoindex&nbsp;on</span><span class=\"syntax--keyword syntax--operator syntax--list syntax--shell\"><span>;</span></span></span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--group syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--group syntax--shell\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"syntax--punctuation syntax--definition syntax--group syntax--shell\"><span>}</span></span></span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--group syntax--shell\"><span>&nbsp;</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--group syntax--shell\"><span>&nbsp;&nbsp;&nbsp;location&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--tilde syntax--shell\"><span>~</span></span><span>&nbsp;</span><span class=\"syntax--constant syntax--character syntax--escape syntax--shell\"><span>\\.</span></span><span>php$&nbsp;</span><span class=\"syntax--meta syntax--scope syntax--group syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--group syntax--shell\"><span>{</span></span></span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--group syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--group syntax--shell\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;root&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WebServer/Dojo</span><span class=\"syntax--keyword syntax--operator syntax--list syntax--shell\"><span>;</span></span></span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--group syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--group syntax--shell\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fastcgi_pass&nbsp;&nbsp;&nbsp;127.0.0.1:9000</span><span class=\"syntax--keyword syntax--operator syntax--list syntax--shell\"><span>;</span></span></span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--group syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--group syntax--shell\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fastcgi_index&nbsp;&nbsp;index.php</span><span class=\"syntax--keyword syntax--operator syntax--list syntax--shell\"><span>;</span></span></span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--group syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--group syntax--shell\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fastcgi_param&nbsp;&nbsp;SCRIPT_FILENAME&nbsp;</span><span class=\"syntax--variable syntax--other syntax--normal syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--variable syntax--shell\"><span>$</span></span><span>document_root</span><span class=\"syntax--punctuation syntax--definition syntax--variable syntax--shell\"><span>$</span></span><span>fastcgi_script_name</span></span><span class=\"syntax--keyword syntax--operator syntax--list syntax--shell\"><span>;</span></span></span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--group syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--group syntax--shell\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;include&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fastcgi_params</span><span class=\"syntax--keyword syntax--operator syntax--list syntax--shell\"><span>;</span></span></span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--group syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--group syntax--shell\"><span>&nbsp;&nbsp;&nbsp;</span><span class=\"syntax--punctuation syntax--definition syntax--group syntax--shell\"><span>}</span></span></span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--meta syntax--scope syntax--group syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--group syntax--shell\"><span>}</span></span></span></span></div></pre></div>\n<h4># 下载一个小工具，配置启动 bat 的时候用得上，解压后把 exe 文件丢到 php 住目录下即可。</h4>\n<p><a target=\"_blank\" href=\"http://redmine.lighttpd.net/attachments/660/RunHiddenConsole.zip\">http://redmine.lighttpd.net/attachments/660/RunHiddenConsole.zip</a></p>\n<h4># 还有一步是必须的，就是启动 Nginx 的时候，同时把 php 也启动了。还是修改启动 bat 文件为例吧。</h4>\n<div class='midnight'><pre class=\"editor editor-colors\"><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>cls</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>@ECHO&nbsp;OFF</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>SET&nbsp;NGINX_PATH=C:</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>SET&nbsp;NGINX_DIR=C:</span><span class=\"syntax--constant syntax--character syntax--escape syntax--shell\"><span>\\n</span></span><span>ginx-1.1.5\\</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>color&nbsp;0a</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>TITLE&nbsp;Nginx管理程序</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>GOTO&nbsp;MENU</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>:MENU</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>CLS</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;&nbsp;Nginx&nbsp;Management&nbsp;&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;&nbsp;&nbsp;1&nbsp;启动Nginx&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;&nbsp;&nbsp;2&nbsp;关闭Nginx&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;&nbsp;&nbsp;3&nbsp;重启Nginx&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;&nbsp;&nbsp;4&nbsp;检查配置&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;&nbsp;&nbsp;5&nbsp;退&nbsp;出&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.请输入命令编号:</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--support syntax--function syntax--builtin syntax--shell\"><span>set</span></span><span>&nbsp;/p&nbsp;ID=</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>IF&nbsp;</span><span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\"><span>&quot;</span></span><span>%id%</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\"><span>&quot;</span></span></span><span>==</span><span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\"><span>&quot;</span></span><span>1</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\"><span>&quot;</span></span></span><span>&nbsp;GOTO&nbsp;cmd1</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>IF&nbsp;</span><span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\"><span>&quot;</span></span><span>%id%</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\"><span>&quot;</span></span></span><span>==</span><span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\"><span>&quot;</span></span><span>2</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\"><span>&quot;</span></span></span><span>&nbsp;GOTO&nbsp;cmd2</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>IF&nbsp;</span><span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\"><span>&quot;</span></span><span>%id%</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\"><span>&quot;</span></span></span><span>==</span><span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\"><span>&quot;</span></span><span>3</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\"><span>&quot;</span></span></span><span>&nbsp;GOTO&nbsp;cmd3</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>IF&nbsp;</span><span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\"><span>&quot;</span></span><span>%id%</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\"><span>&quot;</span></span></span><span>==</span><span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\"><span>&quot;</span></span><span>4</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\"><span>&quot;</span></span></span><span>&nbsp;GOTO&nbsp;cmd4</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>IF&nbsp;</span><span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\"><span>&quot;</span></span><span>%id%</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\"><span>&quot;</span></span></span><span>==</span><span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\"><span>&quot;</span></span><span>5</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\"><span>&quot;</span></span></span><span>&nbsp;EXIT</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>PAUSE</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>:cmd1</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>@ECHO&nbsp;OFF</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>SET&nbsp;PHP_FCGI_MAX_REQUESTS=1000</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.启动PHP&nbsp;FastCGI...</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>RunHiddenConsole&nbsp;C:/nginx-1.1.5/php-5.3.8/php-cgi.exe&nbsp;-b&nbsp;127.0.0.1:9000&nbsp;-c&nbsp;C:/nginx-1.1.5/php-5.3.8/php.ini</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.启动Nginx......</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>IF&nbsp;NOT&nbsp;EXIST&nbsp;%NGINX_DIR%nginx.exe&nbsp;ECHO&nbsp;%NGINX_DIR%nginx.exe不存在</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>%NGINX_PATH%</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--support syntax--function syntax--builtin syntax--shell\"><span>cd</span></span><span>&nbsp;%NGINX_DIR%</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>IF&nbsp;EXIST&nbsp;%NGINX_DIR%&nbsp;start&nbsp;%NGINX_DIR%nginx.exe</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.OK</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>PAUSE</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>GOTO&nbsp;MENU</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>:cmd2</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.关闭Nginx......</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>taskkill&nbsp;/F&nbsp;/IM&nbsp;nginx.exe&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--redirect syntax--shell\"><span>&gt;</span></span><span>&nbsp;nul</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.关闭&nbsp;PHP&nbsp;FastCGI...</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>taskkill&nbsp;/F&nbsp;/IM&nbsp;php-cgi.exe&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--redirect syntax--shell\"><span>&gt;</span></span><span>&nbsp;nul</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.OK</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>PAUSE</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>GOTO&nbsp;MENU</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>:cmd3</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.关闭Nginx......</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>taskkill&nbsp;/F&nbsp;/IM&nbsp;nginx.exe&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--redirect syntax--shell\"><span>&gt;</span></span><span>&nbsp;nul</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.关闭PHP&nbsp;FastCGI...</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>taskkill&nbsp;/F&nbsp;/IM&nbsp;php-cgi.exe&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--redirect syntax--shell\"><span>&gt;</span></span><span>&nbsp;nul</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.OK</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>GOTO&nbsp;cmd1</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>GOTO&nbsp;MENU</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>:cmd4</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.检查Nginx配置......</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>IF&nbsp;NOT&nbsp;EXIST&nbsp;%NGINX_DIR%nginx.exe&nbsp;ECHO&nbsp;%NGINX_DIR%nginx.exe不存在</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>%NGINX_PATH%</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--support syntax--function syntax--builtin syntax--shell\"><span>cd</span></span><span>&nbsp;%NGINX_DIR%</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>IF&nbsp;EXIST&nbsp;%NGINX_DIR%&nbsp;%NGINX_DIR%nginx.exe&nbsp;-t</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.完成检查</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>PAUSE</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>GOTO&nbsp;MENU</span></span></div></pre></div>\n<h4># 完成之后可以用 php 页面测试一下。</h4>\n<div class='midnight'><pre class=\"editor editor-colors\"><div class=\"line\"><span class=\"syntax--text syntax--html syntax--basic\"><span class=\"syntax--meta syntax--tag syntax--sgml syntax--html\"><span class=\"syntax--punctuation syntax--definition syntax--tag syntax--html\"><span>&lt;!</span></span><span class=\"syntax--meta syntax--tag syntax--sgml syntax--doctype syntax--html\"><span>DOCTYPE</span><span>&nbsp;html&nbsp;PUBLIC&nbsp;</span><span class=\"syntax--string syntax--quoted syntax--double syntax--doctype syntax--identifiers-and-DTDs syntax--html\"><span>&quot;-//W3C//DTD&nbsp;XHTML&nbsp;1.0&nbsp;Frameset//EN&quot;</span></span><span>&nbsp;</span><span class=\"syntax--string syntax--quoted syntax--double syntax--doctype syntax--identifiers-and-DTDs syntax--html\"><span>&quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-frameset.dtd&quot;</span></span></span><span class=\"syntax--punctuation syntax--definition syntax--tag syntax--html\"><span>&gt;</span></span></span></span></div><div class=\"line\"><span class=\"syntax--text syntax--html syntax--basic\"><span class=\"syntax--meta syntax--tag syntax--structure syntax--any syntax--html\"><span class=\"syntax--punctuation syntax--definition syntax--tag syntax--html\"><span>&lt;</span></span><span class=\"syntax--entity syntax--name syntax--tag syntax--structure syntax--any syntax--html\"><span>head</span></span><span class=\"syntax--punctuation syntax--definition syntax--tag syntax--html\"><span>&gt;</span></span></span></span></div><div class=\"line\"><span class=\"syntax--text syntax--html syntax--basic\"><span class=\"syntax--meta syntax--tag syntax--inline syntax--any syntax--html\"><span class=\"syntax--punctuation syntax--definition syntax--tag syntax--begin syntax--html\"><span>&lt;</span></span><span class=\"syntax--entity syntax--name syntax--tag syntax--inline syntax--any syntax--html\"><span>meta</span></span><span>&nbsp;</span><span class=\"syntax--entity syntax--other syntax--attribute-name syntax--html\"><span>http-equiv</span></span><span>=</span><span class=\"syntax--string syntax--quoted syntax--double syntax--html\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--html\"><span>&quot;</span></span><span>Content-Type</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--html\"><span>&quot;</span></span></span><span>&nbsp;</span><span class=\"syntax--entity syntax--other syntax--attribute-name syntax--html\"><span>content</span></span><span>=</span><span class=\"syntax--string syntax--quoted syntax--double syntax--html\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--html\"><span>&quot;</span></span><span>text/html;&nbsp;charset=utf-8</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--html\"><span>&quot;</span></span></span><span class=\"syntax--punctuation syntax--definition syntax--tag syntax--end syntax--html\"><span>&nbsp;/&gt;</span></span></span></span></div><div class=\"line\"><span class=\"syntax--text syntax--html syntax--basic\"><span class=\"syntax--meta syntax--tag syntax--inline syntax--any syntax--html\"><span class=\"syntax--punctuation syntax--definition syntax--tag syntax--begin syntax--html\"><span>&lt;</span></span><span class=\"syntax--entity syntax--name syntax--tag syntax--inline syntax--any syntax--html\"><span>title</span></span><span class=\"syntax--punctuation syntax--definition syntax--tag syntax--end syntax--html\"><span>&gt;</span></span></span><span>xampp&nbsp;的&nbsp;php&nbsp;开发环境测试页面</span><span class=\"syntax--meta syntax--tag syntax--inline syntax--any syntax--html\"><span class=\"syntax--punctuation syntax--definition syntax--tag syntax--begin syntax--html\"><span>&lt;/</span></span><span class=\"syntax--entity syntax--name syntax--tag syntax--inline syntax--any syntax--html\"><span>title</span></span><span class=\"syntax--punctuation syntax--definition syntax--tag syntax--end syntax--html\"><span>&gt;</span></span></span></span></div><div class=\"line\"><span class=\"syntax--text syntax--html syntax--basic\"><span class=\"syntax--source syntax--js syntax--embedded syntax--html\"><span class=\"syntax--punctuation syntax--definition syntax--tag syntax--html\"><span>&lt;</span></span><span class=\"syntax--entity syntax--name syntax--tag syntax--script syntax--html\"><span>script</span></span><span>&nbsp;</span><span class=\"syntax--entity syntax--other syntax--attribute-name syntax--html\"><span>type</span></span><span>=</span><span class=\"syntax--string syntax--quoted syntax--double syntax--html\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--html\"><span>&quot;</span></span><span>text/javascript</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--html\"><span>&quot;</span></span></span><span>&nbsp;</span><span class=\"syntax--punctuation syntax--definition syntax--tag syntax--html\"><span>&gt;</span></span></span></span></div><div class=\"line\"><span class=\"syntax--text syntax--html syntax--basic\"><span class=\"syntax--source syntax--js syntax--embedded syntax--html\"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"syntax--meta syntax--function syntax--js\"><span class=\"syntax--storage syntax--type syntax--function syntax--js\"><span>function</span></span><span>&nbsp;</span><span class=\"syntax--entity syntax--name syntax--function syntax--js\"><span>thisClose</span></span><span class=\"syntax--meta syntax--parameters syntax--js\"><span class=\"syntax--punctuation syntax--definition syntax--parameters syntax--begin syntax--bracket syntax--round syntax--js\"><span>(</span></span><span class=\"syntax--punctuation syntax--definition syntax--parameters syntax--end syntax--bracket syntax--round syntax--js\"><span>)</span></span></span></span><span class=\"syntax--punctuation syntax--definition syntax--function syntax--body syntax--begin syntax--bracket syntax--curly syntax--js\"><span>{</span></span></span></span></div><div class=\"line\"><span class=\"syntax--text syntax--html syntax--basic\"><span class=\"syntax--source syntax--js syntax--embedded syntax--html\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"syntax--support syntax--variable syntax--dom syntax--js\"><span>window</span></span><span class=\"syntax--meta syntax--method-call syntax--js\"><span class=\"syntax--meta syntax--delimiter syntax--method syntax--period syntax--js\"><span>.</span></span><span class=\"syntax--support syntax--function syntax--dom syntax--js\"><span>close</span></span><span class=\"syntax--meta syntax--arguments syntax--js\"><span class=\"syntax--punctuation syntax--definition syntax--arguments syntax--begin syntax--bracket syntax--round syntax--js\"><span>(</span></span><span class=\"syntax--punctuation syntax--definition syntax--arguments syntax--end syntax--bracket syntax--round syntax--js\"><span>)</span></span></span></span><span class=\"syntax--punctuation syntax--terminator syntax--statement syntax--js\"><span>;</span></span></span></span></div><div class=\"line\"><span class=\"syntax--text syntax--html syntax--basic\"><span class=\"syntax--source syntax--js syntax--embedded syntax--html\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"syntax--punctuation syntax--definition syntax--function syntax--body syntax--end syntax--bracket syntax--curly syntax--js\"><span>}</span></span></span></span></div><div class=\"line\"><span class=\"syntax--text syntax--html syntax--basic\"><span class=\"syntax--source syntax--js syntax--embedded syntax--html\"><span class=\"syntax--punctuation syntax--definition syntax--tag syntax--html\"><span>&lt;/</span></span><span class=\"syntax--entity syntax--name syntax--tag syntax--script syntax--html\"><span>script</span></span><span class=\"syntax--punctuation syntax--definition syntax--tag syntax--html\"><span>&gt;</span></span><span>&nbsp;</span></span></span></div><div class=\"line\"><span class=\"syntax--text syntax--html syntax--basic\"><span class=\"syntax--meta syntax--tag syntax--structure syntax--any syntax--html\"><span class=\"syntax--punctuation syntax--definition syntax--tag syntax--html\"><span>&lt;/</span></span><span class=\"syntax--entity syntax--name syntax--tag syntax--structure syntax--any syntax--html\"><span>head</span></span><span class=\"syntax--punctuation syntax--definition syntax--tag syntax--html\"><span>&gt;</span></span></span></span></div><div class=\"line\"><span class=\"syntax--text syntax--html syntax--basic\"><span class=\"syntax--meta syntax--tag syntax--structure syntax--any syntax--html\"><span class=\"syntax--punctuation syntax--definition syntax--tag syntax--html\"><span>&lt;</span></span><span class=\"syntax--entity syntax--name syntax--tag syntax--structure syntax--any syntax--html\"><span>body</span></span><span class=\"syntax--punctuation syntax--definition syntax--tag syntax--html\"><span>&gt;</span></span></span></span></div><div class=\"line\"><span class=\"syntax--text syntax--html syntax--basic\"><span>&lt;?php</span></span></div><div class=\"line\"><span class=\"syntax--text syntax--html syntax--basic\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"syntax--text syntax--html syntax--basic\"><span>&nbsp;&nbsp;&nbsp;&nbsp;for($i&nbsp;=&nbsp;1;$i&nbsp;&lt;=&nbsp;10;&nbsp;$i++)&nbsp;{</span></span></div><div class=\"line\"><span class=\"syntax--text syntax--html syntax--basic\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;&quot;$i.这是一个测试页面。</span><span class=\"syntax--meta syntax--tag syntax--inline syntax--any syntax--html\"><span class=\"syntax--punctuation syntax--definition syntax--tag syntax--begin syntax--html\"><span>&lt;</span></span><span class=\"syntax--entity syntax--name syntax--tag syntax--inline syntax--any syntax--html\"><span>br</span></span><span class=\"syntax--punctuation syntax--definition syntax--tag syntax--end syntax--html\"><span>&nbsp;/&gt;</span></span></span><span>&quot;;</span></span></div><div class=\"line\"><span class=\"syntax--text syntax--html syntax--basic\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></span></div><div class=\"line\"><span class=\"syntax--text syntax--html syntax--basic\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"syntax--text syntax--html syntax--basic\"><span>?&gt;</span></span></div><div class=\"line\"><span class=\"syntax--text syntax--html syntax--basic\"><span class=\"syntax--meta syntax--tag syntax--inline syntax--any syntax--html\"><span class=\"syntax--punctuation syntax--definition syntax--tag syntax--begin syntax--html\"><span>&lt;</span></span><span class=\"syntax--entity syntax--name syntax--tag syntax--inline syntax--any syntax--html\"><span>input</span></span><span>&nbsp;</span><span class=\"syntax--meta syntax--attribute-with-value syntax--id syntax--html\"><span class=\"syntax--entity syntax--other syntax--attribute-name syntax--id syntax--html\"><span>id</span></span><span class=\"syntax--punctuation syntax--separator syntax--key-value syntax--html\"><span>=</span></span><span class=\"syntax--string syntax--quoted syntax--double syntax--html\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--html\"><span>&quot;</span></span><span class=\"syntax--meta syntax--toc-list syntax--id syntax--html\"><span>btnClose</span></span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--html\"><span>&quot;</span></span></span></span><span>&nbsp;</span><span class=\"syntax--entity syntax--other syntax--attribute-name syntax--html\"><span>type</span></span><span>=</span><span class=\"syntax--string syntax--quoted syntax--double syntax--html\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--html\"><span>&quot;</span></span><span>button</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--html\"><span>&quot;</span></span></span><span>&nbsp;</span><span class=\"syntax--entity syntax--other syntax--attribute-name syntax--html\"><span>value</span></span><span>=</span><span class=\"syntax--string syntax--quoted syntax--double syntax--html\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--html\"><span>&quot;</span></span><span>关闭窗口</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--html\"><span>&quot;</span></span></span><span>&nbsp;</span><span class=\"syntax--entity syntax--other syntax--attribute-name syntax--html\"><span>onclick</span></span><span>=</span><span class=\"syntax--string syntax--quoted syntax--double syntax--html\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--html\"><span>&quot;</span></span><span>thisClose()</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--html\"><span>&quot;</span></span></span><span class=\"syntax--punctuation syntax--definition syntax--tag syntax--end syntax--html\"><span>&nbsp;/&gt;</span></span></span></span></div><div class=\"line\"><span class=\"syntax--text syntax--html syntax--basic\"><span class=\"syntax--meta syntax--tag syntax--structure syntax--any syntax--html\"><span class=\"syntax--punctuation syntax--definition syntax--tag syntax--html\"><span>&lt;/</span></span><span class=\"syntax--entity syntax--name syntax--tag syntax--structure syntax--any syntax--html\"><span>body</span></span><span class=\"syntax--punctuation syntax--definition syntax--tag syntax--html\"><span>&gt;</span></span></span></span></div><div class=\"line\"><span class=\"syntax--text syntax--html syntax--basic\"><span class=\"syntax--meta syntax--tag syntax--structure syntax--any syntax--html\"><span class=\"syntax--punctuation syntax--definition syntax--tag syntax--html\"><span>&lt;/</span></span><span class=\"syntax--entity syntax--name syntax--tag syntax--structure syntax--any syntax--html\"><span>html</span></span><span class=\"syntax--punctuation syntax--definition syntax--tag syntax--html\"><span>&gt;</span></span></span></span></div></pre></div>\n<p>效果如下：</p>\n<img src=\"/images/2011/2011-12-26-114022.png\" />\n<hr>","frontmatter":{"path":"/57OmkmFgj9nDjNmgYbvM6kQy","title":"Windows 环境下 Nginx 配置 php","date":"2011-12-26 11:40:22 +0800","comments":true,"categories":"programming","author":"Sir0xb","tags":["nginx"]},"excerpt":"# 下载php http://windows.php.net/download/ 下载 Non Thread Safe 版本，本人下了个zip绿色版本的。 # php部署到哪儿无所谓，主要是给Nginx用的，所以放Nginx目录下了。 # 找到 php.ini…"}},{"node":{"id":"440c0dab-62c3-5b6c-b932-16ff478b2b86","html":"<div class='midnight'><pre class=\"editor editor-colors\"><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>%NGINX_DIR%/nginx.exe&nbsp;-t</span></span></div></pre></div>\n<p>返回结果例如：</p>\n<div class='midnight'><pre class=\"editor editor-colors\"><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>nginx:&nbsp;the&nbsp;configuration&nbsp;file&nbsp;C:</span><span class=\"syntax--constant syntax--character syntax--escape syntax--shell\"><span>\\n</span></span><span>ginx-1.1.5/conf/nginx.conf&nbsp;syntax&nbsp;is&nbsp;ok</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>nginx:&nbsp;configuration&nbsp;file&nbsp;C:</span><span class=\"syntax--constant syntax--character syntax--escape syntax--shell\"><span>\\n</span></span><span>ginx-1.1.5/conf/nginx.conf&nbsp;</span><span class=\"syntax--support syntax--function syntax--builtin syntax--shell\"><span>test</span></span><span>&nbsp;is&nbsp;successful</span></span></div></pre></div>\n<p>可以把检测配置文件项放到 Nginx 操作的 bat 文件里，代码如下：</p>\n<!--more-->\n<div class='midnight'><pre class=\"editor editor-colors\"><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>cls</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>@ECHO&nbsp;OFF</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>SET&nbsp;NGINX_PATH=C:</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>SET&nbsp;NGINX_DIR=C:</span><span class=\"syntax--constant syntax--character syntax--escape syntax--shell\"><span>\\n</span></span><span>ginx-1.1.5\\</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>color&nbsp;0a</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>TITLE&nbsp;Nginx管理程序</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>GOTO&nbsp;MENU</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>:MENU</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>CLS</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;&nbsp;Nginx&nbsp;Management&nbsp;&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;&nbsp;&nbsp;1&nbsp;启动Nginx&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;&nbsp;&nbsp;2&nbsp;关闭Nginx&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;&nbsp;&nbsp;3&nbsp;重启Nginx&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;&nbsp;&nbsp;4&nbsp;检查配置&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;&nbsp;&nbsp;5&nbsp;退&nbsp;出&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.请输入命令编号:</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--support syntax--function syntax--builtin syntax--shell\"><span>set</span></span><span>&nbsp;/p&nbsp;ID=</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>IF&nbsp;</span><span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\"><span>&quot;</span></span><span>%id%</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\"><span>&quot;</span></span></span><span>==</span><span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\"><span>&quot;</span></span><span>1</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\"><span>&quot;</span></span></span><span>&nbsp;GOTO&nbsp;cmd1</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>IF&nbsp;</span><span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\"><span>&quot;</span></span><span>%id%</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\"><span>&quot;</span></span></span><span>==</span><span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\"><span>&quot;</span></span><span>2</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\"><span>&quot;</span></span></span><span>&nbsp;GOTO&nbsp;cmd2</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>IF&nbsp;</span><span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\"><span>&quot;</span></span><span>%id%</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\"><span>&quot;</span></span></span><span>==</span><span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\"><span>&quot;</span></span><span>3</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\"><span>&quot;</span></span></span><span>&nbsp;GOTO&nbsp;cmd3</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>IF&nbsp;</span><span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\"><span>&quot;</span></span><span>%id%</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\"><span>&quot;</span></span></span><span>==</span><span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\"><span>&quot;</span></span><span>4</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\"><span>&quot;</span></span></span><span>&nbsp;GOTO&nbsp;cmd4</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>IF&nbsp;</span><span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\"><span>&quot;</span></span><span>%id%</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\"><span>&quot;</span></span></span><span>==</span><span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\"><span>&quot;</span></span><span>5</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\"><span>&quot;</span></span></span><span>&nbsp;EXIT</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>PAUSE</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>:cmd1</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.启动Nginx......</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>IF&nbsp;NOT&nbsp;EXIST&nbsp;%NGINX_DIR%nginx.exe&nbsp;ECHO&nbsp;%NGINX_DIR%nginx.exe不存在</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>%NGINX_PATH%</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--support syntax--function syntax--builtin syntax--shell\"><span>cd</span></span><span>&nbsp;%NGINX_DIR%</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>IF&nbsp;EXIST&nbsp;%NGINX_DIR%&nbsp;start&nbsp;%NGINX_DIR%nginx.exe</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.OK</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>PAUSE</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>GOTO&nbsp;MENU</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>:cmd2</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.关闭Nginx......</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>taskkill&nbsp;/F&nbsp;/IM&nbsp;nginx.exe&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--redirect syntax--shell\"><span>&gt;</span></span><span>&nbsp;nul</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.OK</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>PAUSE</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>GOTO&nbsp;MENU</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>:cmd3</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.关闭Nginx......</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>taskkill&nbsp;/F&nbsp;/IM&nbsp;nginx.exe&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--redirect syntax--shell\"><span>&gt;</span></span><span>&nbsp;nul</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.OK</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>GOTO&nbsp;cmd1</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>GOTO&nbsp;MENU</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>:cmd4</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.检查Nginx配置......</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>IF&nbsp;NOT&nbsp;EXIST&nbsp;%NGINX_DIR%nginx.exe&nbsp;ECHO&nbsp;%NGINX_DIR%nginx.exe不存在</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>%NGINX_PATH%</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--support syntax--function syntax--builtin syntax--shell\"><span>cd</span></span><span>&nbsp;%NGINX_DIR%</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>IF&nbsp;EXIST&nbsp;%NGINX_DIR%&nbsp;%NGINX_DIR%nginx.exe&nbsp;-t</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.完成检查</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>PAUSE</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>GOTO&nbsp;MENU</span></span></div></pre></div>\n<hr>","frontmatter":{"path":"/B90COln3ySq5ZxIQAK87pn0l","title":"Nginx检测配置","date":"2011-12-26 09:19:00 +0800","comments":true,"categories":"programming","author":"Sir0xb","tags":["nginx"]},"excerpt":"返回结果例如： 可以把检测配置文件项放到 Nginx 操作的 bat 文件里，代码如下："}},{"node":{"id":"a367a4a1-9379-510a-9655-204267ae6dda","html":"<p><code>nginx.conf</code> 配置多个server属性即可，如下:</p>\n<div class='midnight'><pre class=\"editor editor-colors\"><div class=\"line\"><span class=\"syntax--text syntax--xml\"><span>...&nbsp;...</span></span></div><div class=\"line\"><span class=\"syntax--text syntax--xml\"><span>events&nbsp;{</span></span></div><div class=\"line\"><span class=\"syntax--text syntax--xml\"><span>&nbsp;&nbsp;&nbsp;&nbsp;...&nbsp;...</span></span></div><div class=\"line\"><span class=\"syntax--text syntax--xml\"><span>}</span></span></div><div class=\"line\"><span class=\"syntax--text syntax--xml\"><span>...&nbsp;...</span></span></div><div class=\"line\"><span class=\"syntax--text syntax--xml\"><span>http&nbsp;{</span></span></div><div class=\"line\"><span class=\"syntax--text syntax--xml\"><span>&nbsp;&nbsp;&nbsp;&nbsp;i...&nbsp;...</span></span></div><div class=\"line\"><span class=\"syntax--text syntax--xml\"><span>&nbsp;&nbsp;&nbsp;&nbsp;server&nbsp;{</span></span></div><div class=\"line\"><span class=\"syntax--text syntax--xml\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...&nbsp;...</span></span></div><div class=\"line\"><span class=\"syntax--text syntax--xml\"><span>&nbsp;&nbsp;&nbsp;&nbsp;}</span></span></div><div class=\"line\"><span class=\"syntax--text syntax--xml\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"syntax--text syntax--xml\"><span>&nbsp;&nbsp;&nbsp;&nbsp;server&nbsp;{</span></span></div><div class=\"line\"><span class=\"syntax--text syntax--xml\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...&nbsp;...</span></span></div><div class=\"line\"><span class=\"syntax--text syntax--xml\"><span>&nbsp;&nbsp;&nbsp;&nbsp;}</span></span></div><div class=\"line\"><span class=\"syntax--text syntax--xml\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"syntax--text syntax--xml\"><span>&nbsp;&nbsp;&nbsp;&nbsp;server&nbsp;{</span></span></div><div class=\"line\"><span class=\"syntax--text syntax--xml\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...&nbsp;...</span></span></div><div class=\"line\"><span class=\"syntax--text syntax--xml\"><span>&nbsp;&nbsp;&nbsp;&nbsp;}</span></span></div><div class=\"line\"><span class=\"syntax--text syntax--xml\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"syntax--text syntax--xml\"><span>&nbsp;&nbsp;&nbsp;&nbsp;server&nbsp;{</span></span></div><div class=\"line\"><span class=\"syntax--text syntax--xml\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...&nbsp;...</span></span></div><div class=\"line\"><span class=\"syntax--text syntax--xml\"><span>&nbsp;&nbsp;&nbsp;&nbsp;}</span></span></div><div class=\"line\"><span class=\"syntax--text syntax--xml\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"syntax--text syntax--xml\"><span>&nbsp;&nbsp;&nbsp;&nbsp;server&nbsp;{</span></span></div><div class=\"line\"><span class=\"syntax--text syntax--xml\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;listen&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;80;</span></span></div><div class=\"line\"><span class=\"syntax--text syntax--xml\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;server_name&nbsp;&nbsp;Dojo;</span></span></div><div class=\"line\"><span class=\"syntax--text syntax--xml\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;charset&nbsp;utf-8;</span></span></div><div class=\"line\"><span class=\"syntax--text syntax--xml\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"syntax--text syntax--xml\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;location&nbsp;/&nbsp;{</span></span></div><div class=\"line\"><span class=\"syntax--text syntax--xml\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;root&nbsp;&nbsp;&nbsp;WebServer/Dojo;</span></span></div><div class=\"line\"><span class=\"syntax--text syntax--xml\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"syntax--text syntax--xml\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#开启目录浏览</span></span></div><div class=\"line\"><span class=\"syntax--text syntax--xml\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;autoindex&nbsp;on;</span></span></div><div class=\"line\"><span class=\"syntax--text syntax--xml\"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></span></div><div class=\"line\"><span class=\"syntax--text syntax--xml\"><span>&nbsp;&nbsp;&nbsp;&nbsp;}</span></span></div><div class=\"line\"><span class=\"syntax--text syntax--xml\"><span>}</span></span></div></pre></div>\n<p>注释：记得修改 <code>hosts</code> 文件，将 <code>server_name</code> 制定的域名，映射到 <code>127.0.0.1</code></p>\n<hr>","frontmatter":{"path":"/1i9hAd7YK2L0zPVsEi28nGD3","title":"Nginx配置虚拟服务器","date":"2011-12-26 09:15:57 +0800","comments":true,"categories":"programming","author":"Sir0xb","tags":["nginx"]},"excerpt":"nginx.conf 配置多个server属性即可，如下: 注释：记得修改 hosts 文件，将 server_name 制定的域名，映射到 127.0.0.1"}},{"node":{"id":"3cdeb6aa-bd3f-5faf-b67a-8499d5f7026a","html":"<p>　　Windows2000之前有输入法漏洞，不过在SP2中解决。这次粘滞键漏洞没有在2000中测试，不过应该也有。\nXP惊现安全漏洞</p>\n<p>　　虽然XP相对于2000，安全度提升了不少，尤其是XP SP2。但是它的管理员权限几乎是无敌的，不像Vista，只要启用了UAC（用户账户控制），管理员也只能以标准用户登陆，一旦运行、使用只有管理员可以动的东西，UAC就会弹出提示。然后来临时提升权限。</p>\n<p>　　粘滞键，可能会被大家遗忘的功能，就是连按5次Shift键弹出的对话框，在Vista中有所变化。我们就是利用这个东西。</p>\n<!--more-->\n<p>　　打开命令提示符，执行以下命令：（双斜杠后面为注释）</p>\n<div class='midnight'><pre class=\"editor editor-colors\"><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--support syntax--function syntax--builtin syntax--shell\"><span>cd</span></span><span>&nbsp;%windir%</span><span class=\"syntax--constant syntax--character syntax--escape syntax--shell\"><span>\\s</span></span><span>ystem32</span><span class=\"syntax--constant syntax--character syntax--escape syntax--shell\"><span>\\&nbsp;</span></span><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//进入系统盘</span><span class=\"syntax--constant syntax--character syntax--escape syntax--shell\"><span>\\W</span></span><span>indows</span><span class=\"syntax--constant syntax--character syntax--escape syntax--shell\"><span>\\S</span></span><span>ystem32文件夹</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ren&nbsp;sethc.exe&nbsp;sethcll.exe&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//将sethc.exe改名为sethcll.exe</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>copy&nbsp;cmd.exe&nbsp;sethc.exe&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//将cmd.exe复制并以sethc.exe为文件名粘贴</span></span></div></pre></div>\n<p>　 　上面的操作实际上就是将 cmd.exe 替换掉原来的 sethc.exe（粘滞键设置程序）。然后重启，然后进入需要输入密码的界面，直接连按 5 下 Shift 键，看看，是不是调出了命令提示符？直接输入 explorer，稍等片刻，就会出现桌面，你会惊喜的发现，你是用的是 SYSTEM 这个超级用户登录系统了。怎么样，对于入侵者来说，是很不错的方法吧？</p>\n<p>Vista、Win7 中漏洞依旧</p>\n<p>　 　本来以为微软知道这个漏洞，在 Vista 中可以有所防范，结果问题依旧。只是在执行 ren 改名命令时，会提示<code>拒绝访问</code>，这说明 Vista 中安全性稍高一些。你可以进入 PE 或者其他系统利用 cmd.exe 替换 sethc.exe，再重启 Vista，在登陆界面中连续按 5 次 Shift 键，cmd 又出来了，启动桌面，账户还是 SYSTEM！</p>\n<p>　　Win7 中，只要以管理员身份启动 cmd，输入上面 3 个命令，就可以轻松替换掉。只不过在 Win7 下，即使你登陆了，登录界面依然在，不显示桌面，但是开始菜单什么的就已经出现了，你就已经可以为所欲为了。</p>\n<p>堵漏洞</p>\n<p>反正这种漏洞基本上是不会有专门的补丁来解决了，我们只好用自己的方法。</p>\n<p>连按 5 次 Shift，弹出粘滞键对话款，在其中点击设置，取消选中<code>使用快捷键</code>，确定即可。这样，既使别人把键盘按碎，都没事。</p>\n<p>SYSTEM 账户</p>\n<p>顾名思义，这是系统账户，想使用 SYSTEM 比使用 Administrator 账户都难，而且 SYSTEM 拥有至高无上的权限，绝对超过 Administrator 的权限。很危险。</p>\n<p>[<a target=\"_blank\" href=\"http://xd58.com/thread-3352-1-1.html\">原文</a>]</p>\n<hr>","frontmatter":{"path":"/Z5k6vI50V34LnREG9ayad4Fk","title":"利用粘滞键漏洞绕过密码登录系统","date":"2011-12-25 21:12:10 +0800","comments":true,"categories":"programming","author":"Someone","tags":["windows"]},"excerpt":"Windows2000之前有输入法漏洞，不过在SP2中解决。这次粘滞键漏洞没有在2000中测试，不过应该也有。\nXP惊现安全漏洞 　　虽然XP相对于2000，安全度提升了不少，尤其是XP SP2。但是它的管理员权限几乎是无敌的，不像Vista，只要启用了UAC…"}},{"node":{"id":"83d567bb-9604-5091-9e33-6b7f7f950a0a","html":"<p>修改 <code>hosts</code> 文件的传统方法是，用管理员方式打开 <code>notepad</code>，然后再打开 <code>hosts</code> 文件进行修改。</p>\n<p>本文提供另一种方式，仅供参考。</p>\n<p>命令行方式打开 <code>etc</code> 目录。</p>\n<p>执行如下命令:</p>\n<div class='midnight'><pre class=\"editor editor-colors\"><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ren&nbsp;hosts&nbsp;XX.txt</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>notepad&nbsp;XX.txt</span></span></div></pre></div>\n<!--more-->\n<p>会弹出一个记事本窗口，对内容进行修改。</p>\n<p>完成后再执行如下命令:</p>\n<div class='midnight'><pre class=\"editor editor-colors\"><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ren&nbsp;XX.txt&nbsp;hosts</span></span></div></pre></div>\n<p>对 <code>hosts</code> 文件修改完毕。</p>\n<p>或者可以写个批处理脚本，如下：</p>\n<div class='midnight'><pre class=\"editor editor-colors\"><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>cls</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>@ECHO&nbsp;OFF</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>SET&nbsp;HOSTS_PATH=C:</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>SET&nbsp;HOSTS_DIR=C:</span><span class=\"syntax--constant syntax--character syntax--escape syntax--shell\"><span>\\W</span></span><span>indows</span><span class=\"syntax--constant syntax--character syntax--escape syntax--shell\"><span>\\S</span></span><span>ystem32</span><span class=\"syntax--constant syntax--character syntax--escape syntax--shell\"><span>\\d</span></span><span>rivers</span><span class=\"syntax--constant syntax--character syntax--escape syntax--shell\"><span>\\e</span></span><span>tc\\</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>color&nbsp;0a</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>TITLE&nbsp;hosts&nbsp;配置程序</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>GOTO&nbsp;MENU</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>:MENU</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>CLS</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;&nbsp;Hosts&nbsp;Management&nbsp;&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;1&nbsp;Notepad&nbsp;打开&nbsp;Hosts&nbsp;文件&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;2&nbsp;保存对&nbsp;Hosts&nbsp;文件的修改&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;3&nbsp;退&nbsp;出&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.请输入选择项目的序号：</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--support syntax--function syntax--builtin syntax--shell\"><span>set</span></span><span>&nbsp;/p&nbsp;ID=</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>IF&nbsp;</span><span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\"><span>&quot;</span></span><span>%id%</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\"><span>&quot;</span></span></span><span>==</span><span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\"><span>&quot;</span></span><span>1</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\"><span>&quot;</span></span></span><span>&nbsp;GOTO&nbsp;cmd1</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>IF&nbsp;</span><span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\"><span>&quot;</span></span><span>%id%</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\"><span>&quot;</span></span></span><span>==</span><span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\"><span>&quot;</span></span><span>2</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\"><span>&quot;</span></span></span><span>&nbsp;GOTO&nbsp;cmd2</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>IF&nbsp;</span><span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\"><span>&quot;</span></span><span>%id%</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\"><span>&quot;</span></span></span><span>==</span><span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\"><span>&quot;</span></span><span>3</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\"><span>&quot;</span></span></span><span>&nbsp;EXIT</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>PAUSE</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>:cmd1</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.读取&nbsp;Hosts&nbsp;文件......</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>IF&nbsp;NOT&nbsp;EXIST&nbsp;%HOSTS_DIR%hosts&nbsp;ECHO&nbsp;hosts&nbsp;文件不存在.</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>%HOSTS_PATH%</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>CD&nbsp;%HOSTS_DIR%</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>IF&nbsp;EXIST&nbsp;%HOSTS_DIR%hosts&nbsp;ren&nbsp;%HOSTS_DIR%hosts&nbsp;hosts.txt</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>%HOSTS_PATH%</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>CD&nbsp;%HOSTS_DIR%</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>IF&nbsp;EXIST&nbsp;%HOSTS_DIR%hosts.txt&nbsp;notepad&nbsp;hosts.txt</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.OK</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>PAUSE</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>GOTO&nbsp;MENU</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>&nbsp;</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>:cmd2</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.保存&nbsp;Hosts&nbsp;文件......</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>IF&nbsp;EXIST&nbsp;%HOSTS_DIR%hosts.txt&nbsp;ren&nbsp;%HOSTS_DIR%hosts.txt&nbsp;hosts</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.OK</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>PAUSE</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>GOTO&nbsp;MENU</span></span></div></pre></div>\n<p>不要直接运行进行修改，要不会遇到拒绝访问的错误，如下：</p>\n<img src=\"/images/2011/2011-12-25-204148-1.png\" />\n<p>先打开一个 cmd 窗口，然后将 bat 文件拖入，在运行。效果如下：</p>\n<img src=\"/images/2011/2011-12-25-204148-2.png\" />\n<p>对记事本修改完成后，记得输入 2 选项进行保存，如下：</p>\n<img src=\"/images/2011/2011-12-25-204148-3.png\" />\n<hr>","frontmatter":{"path":"/OevkO7PPeBVVSgcgLqqmT9iw","title":"Win7 修改host另一种方法","date":"2011-12-25 20:41:48 +0800","comments":true,"categories":"programming","author":"Sir0xb","tags":["windows","host"]},"excerpt":"修改 hosts 文件的传统方法是，用管理员方式打开 notepad，然后再打开 hosts 文件进行修改。 本文提供另一种方式，仅供参考。 命令行方式打开 etc 目录。 执行如下命令: 会弹出一个记事本窗口，对内容进行修改。 完成后再执行如下命令: 对 hosts…"}},{"node":{"id":"8a175a24-76ff-560a-8185-123191a9310e","html":"<div class='midnight'><pre class=\"editor editor-colors\"><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>cls</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>@ECHO&nbsp;OFF</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>SET&nbsp;NGINX_PATH=C:</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>SET&nbsp;NGINX_DIR=C:</span><span class=\"syntax--constant syntax--character syntax--escape syntax--shell\"><span>\\n</span></span><span>ginx-1.1.5\\</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>color&nbsp;0a</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>TITLE&nbsp;Nginx管理程序</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>GOTO&nbsp;MENU</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>:MENU</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>CLS</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;&nbsp;Nginx&nbsp;Management&nbsp;&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;1&nbsp;启动Nginx&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;2&nbsp;关闭Nginx&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;3&nbsp;重启Nginx&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;4&nbsp;退&nbsp;出&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span><span>&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--glob syntax--shell\"><span>*</span></span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.请输入选择项目的序号：</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--support syntax--function syntax--builtin syntax--shell\"><span>set</span></span><span>&nbsp;/p&nbsp;ID=</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>IF&nbsp;</span><span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\"><span>&quot;</span></span><span>%id%</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\"><span>&quot;</span></span></span><span>==</span><span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\"><span>&quot;</span></span><span>1</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\"><span>&quot;</span></span></span><span>&nbsp;GOTO&nbsp;cmd1</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>IF&nbsp;</span><span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\"><span>&quot;</span></span><span>%id%</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\"><span>&quot;</span></span></span><span>==</span><span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\"><span>&quot;</span></span><span>2</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\"><span>&quot;</span></span></span><span>&nbsp;GOTO&nbsp;cmd2</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>IF&nbsp;</span><span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\"><span>&quot;</span></span><span>%id%</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\"><span>&quot;</span></span></span><span>==</span><span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\"><span>&quot;</span></span><span>3</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\"><span>&quot;</span></span></span><span>&nbsp;GOTO&nbsp;cmd3</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>IF&nbsp;</span><span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\"><span>&quot;</span></span><span>%id%</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\"><span>&quot;</span></span></span><span>==</span><span class=\"syntax--string syntax--quoted syntax--double syntax--shell\"><span class=\"syntax--punctuation syntax--definition syntax--string syntax--begin syntax--shell\"><span>&quot;</span></span><span>4</span><span class=\"syntax--punctuation syntax--definition syntax--string syntax--end syntax--shell\"><span>&quot;</span></span></span><span>&nbsp;EXIT</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>PAUSE</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>:cmd1</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.启动Nginx......</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>IF&nbsp;NOT&nbsp;EXIST&nbsp;%NGINX_DIR%nginx.exe&nbsp;ECHO&nbsp;%NGINX_DIR%nginx.exe不存在</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>%NGINX_PATH%</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span class=\"syntax--support syntax--function syntax--builtin syntax--shell\"><span>cd</span></span><span>&nbsp;%NGINX_DIR%</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>IF&nbsp;EXIST&nbsp;%NGINX_DIR%&nbsp;start&nbsp;%NGINX_DIR%nginx.exe</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.OK</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>PAUSE</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>GOTO&nbsp;MENU</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>:cmd2</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.关闭Nginx......</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>taskkill&nbsp;/F&nbsp;/IM&nbsp;nginx.exe&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--redirect syntax--shell\"><span>&gt;</span></span><span>&nbsp;nul</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.OK</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>PAUSE</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>GOTO&nbsp;MENU</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>:cmd3</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.关闭Nginx......</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>taskkill&nbsp;/F&nbsp;/IM&nbsp;nginx.exe&nbsp;</span><span class=\"syntax--keyword syntax--operator syntax--redirect syntax--shell\"><span>&gt;</span></span><span>&nbsp;nul</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>ECHO.OK</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>GOTO&nbsp;cmd1</span></span></div><div class=\"line\"><span class=\"syntax--source syntax--shell\"><span>GOTO&nbsp;MENU</span></span></div></pre></div>\n<hr>","frontmatter":{"path":"/92BO71bCFSDR41eml6zEICSK","title":"Windows环境下 Nginx启动、重启、关闭脚本","date":"2011-12-23 21:03:30 +0800","comments":true,"categories":"programming","author":"Sir0xb","tags":["nginx"]},"excerpt":""}}],"pathPrefix":"programming","first":false,"last":false,"index":5,"pageCount":8,"additionalContext":{}}},"staticQueryHashes":["3128451518","3649515864"]}