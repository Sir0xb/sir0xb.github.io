---
path       : '/OevkO7PPeBVVSgcgLqqmT9iw'
title      : "Win7 修改host另一种方法"
date       : 2011-12-25 20:41:48 +0800
comments   : true
categories : programming
author     : Sir0xb
tags       : [windows, host]
---

修改 `hosts` 文件的传统方法是，用管理员方式打开 `notepad`，然后再打开 `hosts` 文件进行修改。

本文提供另一种方式，仅供参考。

命令行方式打开 `etc` 目录。

执行如下命令:

``` bash
ren hosts XX.txt
notepad XX.txt
```

<!--more-->

会弹出一个记事本窗口，对内容进行修改。

完成后再执行如下命令:

``` bash
ren XX.txt hosts
```

对 `hosts` 文件修改完毕。


或者可以写个批处理脚本，如下：

``` bash
cls
@ECHO OFF
SET HOSTS_PATH=C:
SET HOSTS_DIR=C:\Windows\System32\drivers\etc\
color 0a
TITLE hosts 配置程序
GOTO MENU
:MENU
CLS
ECHO.
ECHO. * * * *  Hosts Management  * * * *
ECHO. * *
ECHO. * 1 Notepad 打开 Hosts 文件 *
ECHO. * *
ECHO. * 2 保存对 Hosts 文件的修改 *
ECHO. * *
ECHO. * 3 退 出                   *
ECHO. * *
ECHO. * * * * * * * * * * * * * * * * * * * * * * * *
ECHO.
ECHO.请输入选择项目的序号：
set /p ID=
IF "%id%"=="1" GOTO cmd1
IF "%id%"=="2" GOTO cmd2
IF "%id%"=="3" EXIT
PAUSE

:cmd1
ECHO.
ECHO.读取 Hosts 文件......
IF NOT EXIST %HOSTS_DIR%hosts ECHO hosts 文件不存在.
%HOSTS_PATH%
CD %HOSTS_DIR%
IF EXIST %HOSTS_DIR%hosts ren %HOSTS_DIR%hosts hosts.txt
%HOSTS_PATH%
CD %HOSTS_DIR%
IF EXIST %HOSTS_DIR%hosts.txt notepad hosts.txt
ECHO.OK
PAUSE
GOTO MENU

:cmd2
ECHO.
ECHO.保存 Hosts 文件......
IF EXIST %HOSTS_DIR%hosts.txt ren %HOSTS_DIR%hosts.txt hosts
ECHO.OK
PAUSE
GOTO MENU
```

不要直接运行进行修改，要不会遇到拒绝访问的错误，如下：

<img src="/images/2011/2011-12-25-204148-1.png" />

先打开一个 cmd 窗口，然后将 bat 文件拖入，在运行。效果如下：

<img src="/images/2011/2011-12-25-204148-2.png" />

对记事本修改完成后，记得输入 2 选项进行保存，如下：

<img src="/images/2011/2011-12-25-204148-3.png" />

***
