---
path       : '/MhZFIf4lNegdjhEd9KRzLwQb'
title      : "ko - template 实现两套界面切换"
date       : 2015-05-19 15:07:09 +0800
comments   : true
categories : programming
author     : Sir0xb
tags       : [knockout, template]
---

### 准备数据模型

``` javascript
var viewModel= {
    firstName: ko.observable("Planet"),
    lastName : ko.observable("Earth"),
    tempId   : ko.observable("ko-static")
};

ko.applyBindings(viewModel);
```

<!--more-->

## &nbsp;

### 准备锚点和模板

``` html
//代码锚点
<div data-bind="template: { name: tempId() }"></div>

//展示用模板
<script type="text/html" id="ko-static">
    <table>
        <tr>
            <td>firstName:</td>
            <td data-bind="text: firstName"></td>
        </tr>
        <tr>
            <td>lastName:</td>
            <td data-bind="text: lastName"></td>
        </tr>
    </table>
    <a href="javascript:void(0);" data-bind="click: function(){ this.tempId('ko-edit'); }">Edit</a>
</script>

//编辑用模板
<script type="text/html" id="ko-edit">
    <table>
        <tr>
            <td>firstName:</td>
            <td><input data-bind="value: firstName" /></td>
        </tr>
        <tr>
            <td>lastName:</td>
            <td><input data-bind="value: lastName" /></td>
        </tr>
    </table>
    <a href="javascript:void(0);" data-bind="click: function(){ this.tempId('ko-static'); }">Done</a>
</script>
```

## &nbsp;

### 最终效果如下:

<div data-bind="template: { name: tempId() }"></div>

<script type="text/html" id="ko-static">
    <table class="my_table">
        <tr>
            <td>firstName:</td>
            <td data-bind="text: firstName"></td>
        </tr>
        <tr>
            <td>lastName:</td>
            <td data-bind="text: lastName"></td>
        </tr>
    </table>
    <div class="article-categories">
      <a class="article-category-link" href="javascript:void(0);" data-bind="click: function(){ this.tempId('ko-edit'); }">Edit</a>
    </div>
</script>

<script type="text/html" id="ko-edit">
    <table class="my_table">
        <tr>
            <td>firstName:</td>
            <td><input data-bind="value: firstName" /></td>
        </tr>
        <tr>
            <td>lastName:</td>
            <td><input data-bind="value: lastName" /></td>
        </tr>
    </table>
    <div class="article-categories">
        <a class="article-category-link" href="javascript:void(0);" data-bind="click: function(){ this.tempId('ko-static'); }">Done</a>
    </div>
</script>

<script data-inline-script="pass-it" src="https://cdn.bootcss.com/knockout/3.3.0/knockout-min.js">
    var viewModel= {
        firstName: ko.observable("Planet"),
        lastName : ko.observable("Earth"),
        tempId   : ko.observable("ko-static")
    };

    ko.applyBindings(viewModel);
</script>
<br>

***
