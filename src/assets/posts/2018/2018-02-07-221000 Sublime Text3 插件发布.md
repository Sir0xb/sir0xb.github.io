---
path       : '/Z8r3O8d6bkxBF8XEKmBfqAIZ'
title      : "Sublime Text3 插件发布"
date       : 2018-02-07 22:10:00 +0800
comments   : true
categories : programming
author     : Sir0xb
tags       : [Sublime Text3]
---

注意，官方已经说明过，以前的发布方法不再适用，需要按以下的流程，才可以发布成功。

## 前言

之所以有这么多开发者使用Sublime Text来作为开发工具，归根到底是其有完善的生态系统。而Package Control在其中扮演着重要的角色，不仅下载插件便捷，还能快速查找需要的插件。
如果你已经开发了插件，可以考虑把插件发布到Package Control channel平台上，让全球的开发者都可以轻松的下载到你的插件。

## 1.检查已存在的插件

* 浏览[<a target="_blank" href="https://packagecontrol.io/search">Search page</a>]，查找是否有已经存在相似的插件名
* 在添加插件之前，尝试改善已存在的插件。我们强烈建议你可以在已存在的插件上添加新功能或者修改，总比增加许多相似的名字好。

## 2.包名

这里的包名指的是在官方列表查看到的插件名。

<!--more-->

* 不要使用单词Sublime作为包名。这是因为插件都是通过Package Control获得的，如果使用了Sublime会让用户误会或混淆。
* 不要使用于其他插件特别相似的名字。例如我们不希望有SublimeTodo 和 Sublime T0d0的情况。
* 请使用驼峰命名或下划线命名。
* 不能包含. \ <, >, :, ", /, \, |, ?等特殊符号。
* 只能使用 ASCII编码命名，不能使用中文。

## 3.创建版本库

* 使用 GitHub 或 BitBucket创建版本库。每一个库只能包含一个插件包，并且要确保包的根目录与库的根目录同级。把包内容提交到主干。
* 现在可以不用再添加packages.json文件。

## 4.添加你的插件地址到Package Control Channel

* 在Package Control Channel的版本库中，fork一个到你自己的GitHub中，目的是为了添加你自己的插件。
* 复制你fork的项目到本地。
* 在Sublime Text中打开你fork的package_control_channel。
* 添加插件信息，如下：
	* 打开repository文件夹，你会看到有很多json文件，根据你的包名头个字符来选择对应的json文件，例如我的包名叫做LuaJumpDefinition,那么我就选择l.json这个文件。然后打开json文件，在适当地方添加：

使用GitHub：
```json
{
    "name": "Alignment",
    "details": "https://github.com/wbond/sublime_alignment",
    "releases": [
        {
            "sublime_text": "*",
            "tags": true
        }
    ]
}
```

使用BitBucket：
```json
{
    "name": "Alignment",
    "details": "https://bitbucket.org/wbond/sublime_alignment",
    "releases": [
        {
            "sublime_text": "*",
            "tags": true
        }
    ]
}
```

> 需要注意一下几点：
* https://github.com/wbond/sublime_alignment/tags <font color="red">Git地址加上tag，打上 v1.0.0 等tag。v一定要小写。</font>
* 需要根据 json 里的 name 找到字母排序位置。

键名说明：

* name：插件名。
* details：你插件的版本库地址。
* release：发布信息。一般包括sublime_text，tags，platforms。sublime_text表示Sublime Text的版本，如果都可适配则填
	*，如果需要3以上的，则填>=3000。以前的branch现在已经不可用了，必须以tags来代替。platforms表示平台，如果所有系统都适配则可用不用填。

## 5.测试

* 通过Package Control安装 <a target="_blank" href="https://packagecontrol.io/packages/ChannelRepositoryTools">ChannelRepositoryTools</a>插件。
* 通过Tools->Command Palette打开控制面板，执行ChannelRepositoryTools: Test Default Channel command，等待测试结果。

## 6.提交到主干

* 浏览你fork出来的package_control_channel项目
* 点击项目的Pull Requests，点击New Pull Request，创建合并主干请求。
* 编辑请求信息。
* 点击Create pull request button。

#### - THE END -

***
